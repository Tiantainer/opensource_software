issue_number,commenter,created_at,body
1,dependabot[bot],2022-06-08 18:54:25,"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
4,codecov-commenter,2022-06-09 22:27:04,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/4?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#4](https://codecov.io/gh/openfga/openfga/pull/4?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ad51cfc) into [main](https://codecov.io/gh/openfga/openfga/commit/6702e7709794ceb486765c61d6632340c8a5fdaa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6702e77) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main       #4   +/-   ##
=======================================
  Coverage   53.38%   53.38%           
=======================================
  Files          25       25           
  Lines        2465     2465           
=======================================
  Hits         1316     1316           
  Misses       1053     1053           
  Partials       96       96           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/4?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/4?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [6702e77...ad51cfc](https://codecov.io/gh/openfga/openfga/pull/4?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
13,codecov-commenter,2022-06-09 22:35:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/13?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@45dfe1d`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main      #13   +/-   ##
=======================================
  Coverage        ?   53.38%           
=======================================
  Files           ?       25           
  Lines           ?     2465           
  Branches        ?        0           
=======================================
  Hits            ?     1316           
  Misses          ?     1053           
  Partials        ?       96           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/13?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/13?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [45dfe1d...b235040](https://codecov.io/gh/openfga/openfga/pull/13?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
3,codecov-commenter,2022-06-09 23:31:05,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#3](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d9acde8) into [main](https://codecov.io/gh/openfga/openfga/commit/8407ac7d2c14ba2572470d75ebc91fa3bcc26c06?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8407ac7) will **decrease** coverage by `0.22%`.
> The diff coverage is `49.10%`.

```diff
@@            Coverage Diff             @@
##             main       #3      +/-   ##
==========================================
- Coverage   76.96%   76.74%   -0.23%     
==========================================
  Files          69       70       +1     
  Lines        8000     8066      +66     
==========================================
+ Hits         6157     6190      +33     
- Misses       1425     1457      +32     
- Partials      418      419       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `47.45% <0.00%> (-13.42%)` | :arrow_down: |
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `56.70% <36.66%> (-1.30%)` | :arrow_down: |
| [server/authentication/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhlbnRpY2F0aW9uL29pZGMvb2lkYy5nbw==) | `50.45% <62.50%> (+0.45%)` | :arrow_up: |
| [pkg/retryablehttp/httpclient.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3JldHJ5YWJsZWh0dHAvaHR0cGNsaWVudC5nbw==) | `62.79% <62.79%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.59% <70.58%> (-0.92%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.48% <0.00%> (+0.60%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+1.47%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/3/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [17969e4...d9acde8](https://codecov.io/gh/openfga/openfga/pull/3?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
2,codecov-commenter,2022-06-09 23:49:55,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#2](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (321aa4b) into [main](https://codecov.io/gh/openfga/openfga/commit/0f14c603fa42c3698b666e347f5ddff59a718e8d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0f14c60) will **increase** coverage by `0.13%`.
> The diff coverage is `89.55%`.

```diff
@@            Coverage Diff             @@
##             main       #2      +/-   ##
==========================================
+ Coverage   72.56%   72.69%   +0.13%     
==========================================
  Files          71       71              
  Lines        8492     8544      +52     
==========================================
+ Hits         6162     6211      +49     
+ Misses       1912     1909       -3     
- Partials      418      424       +6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `33.51% <77.41%> (+4.32%)` | :arrow_up: |
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `58.00% <100.00%> (+10.94%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.98% <0.00%> (-1.81%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `100.00% <0.00%> (+66.66%)` | :arrow_up: |
| [server/authentication/authentication.go](https://codecov.io/gh/openfga/openfga/pull/2/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLmdv) | `100.00% <0.00%> (+71.42%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [0f14c60...321aa4b](https://codecov.io/gh/openfga/openfga/pull/2?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
15,codecov-commenter,2022-06-10 22:34:59,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#15](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a9e2513) into [main](https://codecov.io/gh/openfga/openfga/commit/b53d9268314ad81974750867f4d947c7a2c15438?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b53d926) will **increase** coverage by `0.17%`.
> The diff coverage is `70.00%`.

```diff
@@            Coverage Diff             @@
##             main      #15      +/-   ##
==========================================
+ Coverage   72.33%   72.50%   +0.17%     
==========================================
  Files          71       71              
  Lines        8494     8492       -2     
==========================================
+ Hits         6144     6157      +13     
+ Misses       1928     1915      -13     
+ Partials      422      420       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `47.05% <66.66%> (+4.20%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `29.19% <100.00%> (-0.41%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.16% <0.00%> (+0.40%)` | :arrow_up: |
| [server/queries/check\_query.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3F1ZXJpZXMvY2hlY2tfcXVlcnkuZ28=) | `86.48% <0.00%> (+1.50%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/15/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b53d926...a9e2513](https://codecov.io/gh/openfga/openfga/pull/15?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
16,codecov-commenter,2022-06-10 22:40:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/16?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#16](https://codecov.io/gh/openfga/openfga/pull/16?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (1109a8a) into [main](https://codecov.io/gh/openfga/openfga/commit/6702e7709794ceb486765c61d6632340c8a5fdaa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6702e77) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main      #16   +/-   ##
=======================================
  Coverage   53.38%   53.38%           
=======================================
  Files          25       25           
  Lines        2465     2465           
=======================================
  Hits         1316     1316           
  Misses       1053     1053           
  Partials       96       96           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/16?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/16?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [6702e77...1109a8a](https://codecov.io/gh/openfga/openfga/pull/16?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
17,codecov-commenter,2022-06-10 23:01:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/17?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#17](https://codecov.io/gh/openfga/openfga/pull/17?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e5fb3f5) into [main](https://codecov.io/gh/openfga/openfga/commit/3065cc11c6c4764f061b2aa94bb650938c3cf239?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3065cc1) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main      #17   +/-   ##
=======================================
  Coverage   53.38%   53.38%           
=======================================
  Files          25       25           
  Lines        2465     2465           
=======================================
  Hits         1316     1316           
  Misses       1053     1053           
  Partials       96       96           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/17?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/17?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [3065cc1...e5fb3f5](https://codecov.io/gh/openfga/openfga/pull/17?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
18,codecov-commenter,2022-06-10 23:32:23,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#18](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (66cc91d) into [main](https://codecov.io/gh/openfga/openfga/commit/3065cc11c6c4764f061b2aa94bb650938c3cf239?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3065cc1) will **increase** coverage by `19.06%`.
> The diff coverage is `97.01%`.

```diff
@@             Coverage Diff             @@
##             main      #18       +/-   ##
===========================================
+ Coverage   53.38%   72.45%   +19.06%     
===========================================
  Files          25       71       +46     
  Lines        2465     8494     +6029     
===========================================
+ Hits         1316     6154     +4838     
- Misses       1053     1921      +868     
- Partials       96      419      +323     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXNzZXJ0aW9ucy5nbw==) | `93.18% <90.90%> (ø)` | |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `97.48% <100.00%> (ø)` | |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `100.00% <0.00%> (ø)` | |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `71.42% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `83.06% <0.00%> (ø)` | |
| [storage/mocks/mock\_storage.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tb2Nrcy9tb2NrX3N0b3JhZ2UuZ28=) | `4.65% <0.00%> (ø)` | |
| [server/queries/check\_query.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3F1ZXJpZXMvY2hlY2tfcXVlcnkuZ28=) | `85.88% <0.00%> (ø)` | |
| [server/queries/check\_query\_utils.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3F1ZXJpZXMvY2hlY2tfcXVlcnlfdXRpbHMuZ28=) | `92.43% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/memory.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL21lbW9yeS5nbw==) | `50.00% <0.00%> (ø)` | |
| [server/test/read\_changes\_query.go](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9jaGFuZ2VzX3F1ZXJ5Lmdv) | `80.46% <0.00%> (ø)` | |
| ... and [59 more](https://codecov.io/gh/openfga/openfga/pull/18/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [3065cc1...66cc91d](https://codecov.io/gh/openfga/openfga/pull/18?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
19,codecov-commenter,2022-06-13 23:05:46,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#19](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ee97106) into [main](https://codecov.io/gh/openfga/openfga/commit/0f14c603fa42c3698b666e347f5ddff59a718e8d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0f14c60) will **increase** coverage by `4.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #19      +/-   ##
==========================================
+ Coverage   72.56%   76.58%   +4.02%     
==========================================
  Files          71       69       -2     
  Lines        8492     7948     -544     
==========================================
- Hits         6162     6087      -75     
+ Misses       1912     1443     -469     
  Partials      418      418              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-1.21%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [server/authentication/mocks/mock\_oidc\_server.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhlbnRpY2F0aW9uL21vY2tzL21vY2tfb2lkY19zZXJ2ZXIuZ28=) | | |
| [storage/mocks/mock\_storage.go](https://codecov.io/gh/openfga/openfga/pull/19/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tb2Nrcy9tb2NrX3N0b3JhZ2UuZ28=) | | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [0f14c60...ee97106](https://codecov.io/gh/openfga/openfga/pull/19?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
23,codecov-commenter,2022-06-14 01:10:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#23](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8d648db) into [main](https://codecov.io/gh/openfga/openfga/commit/74c30d4f2ced0080a55c1cdcd44efb0625beed3c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (74c30d4) will **increase** coverage by `0.07%`.
> The diff coverage is `60.00%`.

```diff
@@            Coverage Diff             @@
##             main      #23      +/-   ##
==========================================
+ Coverage   72.36%   72.43%   +0.07%     
==========================================
  Files          71       71              
  Lines        8492     8492              
==========================================
+ Hits         6145     6151       +6     
+ Misses       1924     1920       -4     
+ Partials      423      421       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <ø> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <ø> (ø)` | |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `85.37% <ø> (ø)` | |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `94.73% <ø> (ø)` | |
| [server/commands/list\_stores.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfc3RvcmVzLmdv) | `67.85% <ø> (ø)` | |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `83.60% <ø> (ø)` | |
| [server/commands/read\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWRfYXNzZXJ0aW9ucy5nbw==) | `72.22% <ø> (ø)` | |
| [server/commands/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWRfYXV0aHptb2RlbC5nbw==) | `92.85% <ø> (ø)` | |
| [server/commands/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWRfYXV0aHptb2RlbHMuZ28=) | `77.77% <ø> (ø)` | |
| [server/commands/read\_changes.go](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWRfY2hhbmdlcy5nbw==) | `90.62% <ø> (ø)` | |
| ... and [16 more](https://codecov.io/gh/openfga/openfga/pull/23/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [680ec3c...8d648db](https://codecov.io/gh/openfga/openfga/pull/23?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
3,jon-whit,2022-06-14 14:38:10,"@miparnisari After thinking about this a little more... Would it be possible to not introduce a whole new HTTP client library with retries and just use the `backoff.Retry(...)` approach to wait for the mock OIDC server to start up, just like we already do with the OpenFGA server `ensureServiceUp`? Did we try that approach instead? It seems that we could wait until the endpoint is serving with a backoff like so:

```
err := backoff.Retry(func() error {
    resp, err := http.Get(""..."")
    if err != nil {
        return err
    }

    if resp.StatusCode != http.StatusOK {
        return fmt.Errorf(""not ready"")
    }
    
    return nil // OIDC server is ready to accept connections
})
require.NoError(t, err)
```

I think it'd be nice if we could avoid introducing all of the HTTP client code into the OpenFGA package just to wait for an HTTP server's healthiness. If we're going to introduce it though, it would at least be nice to put it in an `openfga/pkg` repository that has shared packages like this so we can share and reuse it elsewhere. If we're going to introduce it into our software maintenance cycle, we may as well be able to share it and evolve across other projects in the OpenFGA organization on Github."
24,jon-whit,2022-06-14 15:17:26,"TODOs for me..

- [ ]  Wire up the resolution tracer so that we have the check resolution path.
- [ ] Add the metrics back into the graph resolution process.
- [ ] Integrate ContexualTuples into the changes."
3,miparnisari,2022-06-14 20:24:08,"> I think it'd be nice if we could avoid introducing all of the HTTP client code into the OpenFGA package just to wait for an HTTP server's healthiness.

That's not the only use case, I also want to retry when fetching the JWKs in the OIDC authenticator.

> it would at least be nice to put it in an `openfga/pkg` repository that has shared packages like this so we can share and reuse it elsewhere

I'm confused, we don't need to put it in a brand new repository to reuse it, no?"
21,adriantam,2022-06-14 20:50:24,@dependabot recreate
21,dependabot[bot],2022-06-14 20:51:15,Superseded by #27.
27,codecov-commenter,2022-06-14 20:53:52,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#27](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5765522) into [main](https://codecov.io/gh/openfga/openfga/commit/ebd5b2f9752093f6fffe2f942b89607663458511?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ebd5b2f) will **increase** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #27      +/-   ##
==========================================
+ Coverage   76.55%   76.58%   +0.02%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6166     6168       +2     
+ Misses       1470     1468       -2     
  Partials      418      418              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/27/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (+0.60%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [ebd5b2f...5765522](https://codecov.io/gh/openfga/openfga/pull/27?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
29,codecov-commenter,2022-06-15 19:46:05,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#29](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c6f5780) into [main](https://codecov.io/gh/openfga/openfga/commit/54a9363a1530c9407b97116f6fc5faa4f55ca259?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (54a9363) will **decrease** coverage by `0.26%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #29      +/-   ##
==========================================
- Coverage   76.77%   76.50%   -0.27%     
==========================================
  Files          69       69              
  Lines        7948     7948              
==========================================
- Hits         6102     6081      -21     
- Misses       1432     1447      +15     
- Partials      414      420       +6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/29/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-2.40%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/29/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (-2.11%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/29/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/29/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-1.36%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/29/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [54a9363...c6f5780](https://codecov.io/gh/openfga/openfga/pull/29?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
31,codecov-commenter,2022-06-15 22:12:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#31](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (49d88f7) into [main](https://codecov.io/gh/openfga/openfga/commit/8407ac7d2c14ba2572470d75ebc91fa3bcc26c06?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8407ac7) will **decrease** coverage by `0.16%`.
> The diff coverage is `37.70%`.

```diff
@@            Coverage Diff             @@
##             main      #31      +/-   ##
==========================================
- Coverage   76.96%   76.80%   -0.17%     
==========================================
  Files          69       69              
  Lines        8000     8022      +22     
==========================================
+ Hits         6157     6161       +4     
- Misses       1425     1444      +19     
+ Partials      418      417       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/31/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `47.45% <0.00%> (-13.42%)` | :arrow_down: |
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/31/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `56.70% <36.66%> (-1.30%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/31/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.59% <70.58%> (-0.92%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/31/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.78% <0.00%> (+0.90%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [400c6eb...49d88f7](https://codecov.io/gh/openfga/openfga/pull/31?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
3,jon-whit,2022-06-16 03:20:18,"> I'm confused, we don't need to put it in a brand new repository to reuse it, no?

You're right, we don't have to. But for a shared library that expands beyond the scope of just this project it would make sense for it to live elsewhere. An import from openfga just for a shared retry http client is what would seem odd to me. I would expect an import like that to come from a shared repository, not openfga. That's what I meant."
29,jon-whit,2022-06-16 03:23:47,"Why not introduce [yamllint](https://yamllint.readthedocs.io/en/stable/) for this instead? Then we can have yaml linting benefits outside of just the scope of Github actions.

Then we could use this action instead:
https://github.com/marketplace/actions/yamllint-github-action

I vote we introduce `.yamllint`."
29,miparnisari,2022-06-16 03:40:03,"> Why not introduce [yamllint](https://yamllint.readthedocs.io/en/stable/) for this instead? Then we can have yaml linting benefits outside of just the scope of Github actions.
> 
> Then we could use this action instead: https://github.com/marketplace/actions/yamllint-github-action
> 
> I vote we introduce `.yamllint`.

i'm confused, why do i need yaml linting?"
22,codecov-commenter,2022-06-16 03:54:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#22](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f4d244c) into [main](https://codecov.io/gh/openfga/openfga/commit/c279996112f3b887c542001588ce0596cdd084ae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c279996) will **increase** coverage by `0.15%`.
> The diff coverage is `66.66%`.

> :exclamation: Current head f4d244c differs from pull request most recent head 6949b04. Consider uploading reports for the commit 6949b04 to get more accurate results

```diff
@@            Coverage Diff             @@
##             main      #22      +/-   ##
==========================================
+ Coverage   76.83%   76.99%   +0.15%     
==========================================
  Files          69       69              
  Lines        8000     7993       -7     
==========================================
+ Hits         6147     6154       +7     
+ Misses       1432     1421      -11     
+ Partials      421      418       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `58.10% <0.00%> (+0.10%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.59% <70.58%> (-0.92%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (+1.20%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/22/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [55ed4b9...6949b04](https://codecov.io/gh/openfga/openfga/pull/22?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
32,matthewpereira,2022-06-16 13:22:58,"I'm going to make a separate PR proposing changes to the 'Install from Source' section, since I think it's confusing that two sets of instructions are described sequentially without a heading or break to indicate that building from a cloned project isn't a continuation of installing with Go modules unless you're reading closely."
30,matthewpereira,2022-06-16 13:30:31,"Nice catch @noinarisak ! I think that link needs to be updated to https://openfga.dev/docs/getting-started/setup-openfga#configuring-authentication instead. 

I've created a PR already, so the README.md should be updated shortly."
33,matthewpereira,2022-06-16 14:57:14,@miparnisari could you confirm that the link on line 111 is still correct after your production checklist change?
29,jon-whit,2022-06-16 15:16:28,"> > Why not introduce [yamllint](https://yamllint.readthedocs.io/en/stable/) for this instead? Then we can have yaml linting benefits outside of just the scope of Github actions.
> > Then we could use this action instead: https://github.com/marketplace/actions/yamllint-github-action
> > I vote we introduce `.yamllint`.
> 
> i'm confused, why do i need yaml linting?

Oh, I'm sorry I messed that up. This is for markdown. Same comment though. We should probably have a `.yamllint` (for yaml) and a `.markdownlint.yaml` (for markdown).  This way our IDEs and tooling can enforce lint rules for YAML and Markdown beyond the scope of Github actions."
36,codecov-commenter,2022-06-16 15:42:58,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#36](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e853efb) into [main](https://codecov.io/gh/openfga/openfga/commit/6488feba4020183625310ce5743e72a794b14abb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6488feb) will **increase** coverage by `0.03%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #36      +/-   ##
==========================================
+ Coverage   76.86%   76.90%   +0.03%     
==========================================
  Files          69       69              
  Lines        8000     8000              
==========================================
+ Hits         6149     6152       +3     
+ Misses       1431     1428       -3     
  Partials      420      420              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/36/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (ø)` | |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/36/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/36/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [6488feb...e853efb](https://codecov.io/gh/openfga/openfga/pull/36?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
37,CLAassistant,2022-06-16 16:39:07,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=37) <br/>All committers have signed the CLA.
35,CLAassistant,2022-06-16 16:42:03,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=35) <br/>All committers have signed the CLA.
35,CLAassistant,2022-06-16 16:42:26,"[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/openfga/openfga?pullRequest=35) <br/>Thank you for your submission! We really appreciate it. Like many open source projects, we ask that you sign our [Contributor License Agreement](https://cla-assistant.io/openfga/openfga?pullRequest=35) before we can accept your contribution.<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/openfga/openfga?pullRequest=35) it.</sub>"
34,CLAassistant,2022-06-16 16:42:30,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=34) <br/>All committers have signed the CLA.
33,CLAassistant,2022-06-16 16:42:34,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=33) <br/>All committers have signed the CLA.
31,CLAassistant,2022-06-16 16:42:37,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=31) <br/>All committers have signed the CLA.
27,CLAassistant,2022-06-16 16:42:40,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=27) <br/>All committers have signed the CLA.
24,CLAassistant,2022-06-16 16:42:43,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=24) <br/>All committers have signed the CLA.
29,CLAassistant,2022-06-16 16:42:46,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=29) <br/>All committers have signed the CLA.
22,CLAassistant,2022-06-16 16:42:49,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=22) <br/>All committers have signed the CLA.
3,CLAassistant,2022-06-16 16:42:52,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=3) <br/>All committers have signed the CLA.
38,codecov-commenter,2022-06-16 16:49:19,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#38](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (671a08a) into [main](https://codecov.io/gh/openfga/openfga/commit/1711cf6931de41d5ad45fbad493443b8cb8a7894?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (1711cf6) will **decrease** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #38      +/-   ##
==========================================
- Coverage   76.96%   76.93%   -0.03%     
==========================================
  Files          69       69              
  Lines        8000     8000              
==========================================
- Hits         6157     6155       -2     
- Misses       1425     1426       +1     
- Partials      418      419       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/38/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/38/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/38/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.48% <0.00%> (+0.60%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/38/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+1.47%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/38/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [1711cf6...671a08a](https://codecov.io/gh/openfga/openfga/pull/38?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
29,miparnisari,2022-06-16 16:54:46,"> > > Why not introduce [yamllint](https://yamllint.readthedocs.io/en/stable/) for this instead? Then we can have yaml linting benefits outside of just the scope of Github actions.
> > > Then we could use this action instead: https://github.com/marketplace/actions/yamllint-github-action
> > > I vote we introduce `.yamllint`.
> > 
> > 
> > i'm confused, why do i need yaml linting?
> 
> Oh, I'm sorry I messed that up. This is for markdown. Same comment though. We should probably have a `.yamllint` (for yaml) and a `.markdownlint.yaml` (for markdown). This way our IDEs and tooling can enforce lint rules for YAML and Markdown beyond the scope of Github actions.

Sounds good, separate PR though"
33,codecov-commenter,2022-06-16 17:56:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#33](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (017b029) into [main](https://codecov.io/gh/openfga/openfga/commit/c279996112f3b887c542001588ce0596cdd084ae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c279996) will **increase** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #33      +/-   ##
==========================================
+ Coverage   76.83%   76.86%   +0.02%     
==========================================
  Files          69       69              
  Lines        8000     8000              
==========================================
+ Hits         6147     6149       +2     
+ Misses       1432     1431       -1     
+ Partials      421      420       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/33/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (+0.60%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [55ed4b9...017b029](https://codecov.io/gh/openfga/openfga/pull/33?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
39,jon-whit,2022-06-16 18:35:44,"Should we use the `docs:` commit slug instead of `chore:`, since this is README docs related?"
39,codecov-commenter,2022-06-16 18:45:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#39](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5494069) into [main](https://codecov.io/gh/openfga/openfga/commit/cda399863ba6ac4e3ebca4433180d585d6bc1d71?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cda3998) will **increase** coverage by `0.01%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main      #39      +/-   ##
==========================================
+ Coverage   76.66%   76.67%   +0.01%     
==========================================
  Files          69       69              
  Lines        8022     8022              
==========================================
+ Hits         6150     6151       +1     
+ Misses       1452     1450       -2     
- Partials      420      421       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/test/stores.go](https://codecov.io/gh/openfga/openfga/pull/39/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3N0b3Jlcy5nbw==) | `44.18% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/39/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.98% <0.00%> (-0.61%)` | :arrow_down: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/39/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/39/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [cda3998...5494069](https://codecov.io/gh/openfga/openfga/pull/39?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
40,CLAassistant,2022-06-16 19:29:19,"[![CLA assistant check](https://cla-assistant.io/pull/badge/not_signed)](https://cla-assistant.io/openfga/openfga?pullRequest=40) <br/>Thank you for your submission! We really appreciate it. Like many open source projects, we ask that you sign our [Contributor License Agreement](https://cla-assistant.io/openfga/openfga?pullRequest=40) before we can accept your contribution.<br/><sub>You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/openfga/openfga?pullRequest=40) it.</sub>"
41,codecov-commenter,2022-06-16 20:02:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#41](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f4c35a3) into [main](https://codecov.io/gh/openfga/openfga/commit/18a6a936b6a3682355087b3fdee9fddc0f3a769e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (18a6a93) will **increase** coverage by `0.03%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #41      +/-   ##
==========================================
+ Coverage   76.54%   76.58%   +0.03%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6165     6168       +3     
+ Misses       1470     1468       -2     
+ Partials      419      418       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/41/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `66.66% <0.00%> (-2.78%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/41/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/41/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (-0.31%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/41/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/41/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [18a6a93...f4c35a3](https://codecov.io/gh/openfga/openfga/pull/41?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
43,codecov-commenter,2022-06-16 21:58:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#43](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b8fb370) into [main](https://codecov.io/gh/openfga/openfga/commit/8407ac7d2c14ba2572470d75ebc91fa3bcc26c06?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8407ac7) will **decrease** coverage by `0.24%`.
> The diff coverage is `37.70%`.

```diff
@@            Coverage Diff             @@
##             main      #43      +/-   ##
==========================================
- Coverage   76.96%   76.71%   -0.25%     
==========================================
  Files          69       69              
  Lines        8000     8022      +22     
==========================================
- Hits         6157     6154       -3     
- Misses       1425     1448      +23     
- Partials      418      420       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `47.45% <0.00%> (-13.42%)` | :arrow_down: |
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `56.70% <36.66%> (-1.30%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.59% <70.58%> (-0.92%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.88% <0.00%> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+1.47%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/43/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [17969e4...b8fb370](https://codecov.io/gh/openfga/openfga/pull/43?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
42,codecov-commenter,2022-06-16 22:44:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#42](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4dd2909) into [main](https://codecov.io/gh/openfga/openfga/commit/0daffae20a4aff518af42d3d1bb1a70a0be3ac82?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0daffae) will **decrease** coverage by `0.09%`.
> The diff coverage is `14.60%`.

```diff
@@            Coverage Diff             @@
##             main      #42      +/-   ##
==========================================
- Coverage   76.61%   76.51%   -0.10%     
==========================================
  Files          69       72       +3     
  Lines        8022     8045      +23     
==========================================
+ Hits         6146     6156      +10     
- Misses       1454     1470      +16     
+ Partials      422      419       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.30% <86.66%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.48% <0.00%> (+2.10%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/42/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [0daffae...4dd2909](https://codecov.io/gh/openfga/openfga/pull/42?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
45,codecov-commenter,2022-06-17 00:00:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#45](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ae15458) into [main](https://codecov.io/gh/openfga/openfga/commit/b40053315bf3156aaa8e769d2230505f70b57d34?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b400533) will **decrease** coverage by `0.24%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #45      +/-   ##
==========================================
- Coverage   76.69%   76.44%   -0.25%     
==========================================
  Files          72       72              
  Lines        8045     8045              
==========================================
- Hits         6170     6150      -20     
- Misses       1461     1475      +14     
- Partials      414      420       +6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/45/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-2.40%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/45/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-2.11%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/45/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/45/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-1.36%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b400533...ae15458](https://codecov.io/gh/openfga/openfga/pull/45?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
48,codecov-commenter,2022-06-17 01:50:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#48](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (094a867) into [main](https://codecov.io/gh/openfga/openfga/commit/d0c8509eeeac62eca795b483dafd9864d0c03758?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d0c8509) will **increase** coverage by `0.04%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #48      +/-   ##
==========================================
+ Coverage   76.39%   76.44%   +0.04%     
==========================================
  Files          72       72              
  Lines        8045     8045              
==========================================
+ Hits         6146     6150       +4     
+ Misses       1478     1475       -3     
+ Partials      421      420       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/48/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `84.07% <0.00%> (+0.63%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/48/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (+0.90%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [d0c8509...094a867](https://codecov.io/gh/openfga/openfga/pull/48?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
49,codecov-commenter,2022-06-17 13:48:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#49](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (39976e4) into [main](https://codecov.io/gh/openfga/openfga/commit/d0c8509eeeac62eca795b483dafd9864d0c03758?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d0c8509) will **increase** coverage by `0.18%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #49      +/-   ##
==========================================
+ Coverage   76.39%   76.58%   +0.18%     
==========================================
  Files          72       72              
  Lines        8045     8045              
==========================================
+ Hits         6146     6161      +15     
+ Misses       1478     1467      -11     
+ Partials      421      417       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/49/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `84.07% <0.00%> (+0.63%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/49/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/49/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/49/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/49/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.78% <0.00%> (+2.10%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [d0c8509...39976e4](https://codecov.io/gh/openfga/openfga/pull/49?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
44,matthewpereira,2022-06-17 19:23:40,This looks good to me. Thanks for writing it up!
3,miparnisari,2022-06-17 19:50:12,"> > I'm confused, we don't need to put it in a brand new repository to reuse it, no?
> 
> You're right, we don't have to. But for a shared library that expands beyond the scope of just this project it would make sense for it to live elsewhere. An import from openfga just for a shared retry http client is what would seem odd to me. I would expect an import like that to come from a shared repository, not openfga. That's what I meant.

👍 i think when we have more things that we want to reuse we can create a new repo"
51,codecov-commenter,2022-06-17 20:47:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#51](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (91f0d19) into [main](https://codecov.io/gh/openfga/openfga/commit/02a263f215e6177e830ce00a7cc463bb56ff8289?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (02a263f) will **decrease** coverage by `0.58%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main      #51      +/-   ##
==========================================
- Coverage   76.54%   75.96%   -0.59%     
==========================================
  Files          72       73       +1     
  Lines        8045     8088      +43     
==========================================
- Hits         6158     6144      -14     
- Misses       1469     1522      +53     
- Partials      418      422       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `83.06% <ø> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (-1.81%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/51/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [02a263f...91f0d19](https://codecov.io/gh/openfga/openfga/pull/51?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
52,codecov-commenter,2022-06-17 20:55:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#52](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b072997) into [main](https://codecov.io/gh/openfga/openfga/commit/02a263f215e6177e830ce00a7cc463bb56ff8289?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (02a263f) will **decrease** coverage by `0.03%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main      #52      +/-   ##
==========================================
- Coverage   76.54%   76.50%   -0.04%     
==========================================
  Files          72       72              
  Lines        8045     8045              
==========================================
- Hits         6158     6155       -3     
- Misses       1469     1471       +2     
- Partials      418      419       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/52/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/52/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.98% <0.00%> (-0.91%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [02a263f...b072997](https://codecov.io/gh/openfga/openfga/pull/52?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
53,codecov-commenter,2022-06-17 21:50:32,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#53](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b1e664c) into [main](https://codecov.io/gh/openfga/openfga/commit/ae567aa696aa4b80c08ed75162692feb3774f7cb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ae567aa) will **decrease** coverage by `0.04%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main      #53      +/-   ##
==========================================
- Coverage   76.44%   76.39%   -0.05%     
==========================================
  Files          72       72              
  Lines        8045     8054       +9     
==========================================
+ Hits         6150     6153       +3     
- Misses       1475     1479       +4     
- Partials      420      422       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/53/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `34.23% <100.00%> (+1.63%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/53/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (-1.51%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/53/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [ae567aa...b1e664c](https://codecov.io/gh/openfga/openfga/pull/53?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
54,codecov-commenter,2022-06-17 22:54:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#54](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a5943d2) into [main](https://codecov.io/gh/openfga/openfga/commit/af367291442541df550e506ecb166261e2b3fe17?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (af36729) will **decrease** coverage by `0.06%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #54      +/-   ##
==========================================
- Coverage   76.50%   76.44%   -0.07%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
- Hits         6162     6157       -5     
- Misses       1472     1476       +4     
- Partials      420      421       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/54/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `83.06% <ø> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/54/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/54/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/54/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/54/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.98% <0.00%> (+0.60%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [af36729...a5943d2](https://codecov.io/gh/openfga/openfga/pull/54?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
55,codecov-commenter,2022-06-17 23:08:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#55](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e108633) into [main](https://codecov.io/gh/openfga/openfga/commit/ebd5b2f9752093f6fffe2f942b89607663458511?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ebd5b2f) will **decrease** coverage by `0.13%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #55      +/-   ##
==========================================
- Coverage   76.55%   76.42%   -0.14%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
- Hits         6166     6155      -11     
- Misses       1470     1478       +8     
- Partials      418      421       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <ø> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.68% <0.00%> (-0.91%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.91% <0.00%> (-0.68%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/55/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [ebd5b2f...e108633](https://codecov.io/gh/openfga/openfga/pull/55?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
56,codecov-commenter,2022-06-18 00:05:00,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#56](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7ac25ef) into [main](https://codecov.io/gh/openfga/openfga/commit/db290083ec67a23662aca9a8f2fbd59839a5ec1c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (db29008) will **decrease** coverage by `0.58%`.
> The diff coverage is `20.93%`.

```diff
@@            Coverage Diff             @@
##             main      #56      +/-   ##
==========================================
- Coverage   76.24%   75.66%   -0.59%     
==========================================
  Files          76       77       +1     
  Lines        8407     8484      +77     
==========================================
+ Hits         6410     6419       +9     
- Misses       1612     1680      +68     
  Partials      385      385              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/56/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/56/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/56/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC91dGlsL3V0aWwuZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/56/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `84.21% <100.00%> (+1.14%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [db29008...7ac25ef](https://codecov.io/gh/openfga/openfga/pull/56?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
57,codecov-commenter,2022-06-20 17:56:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#57](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f4fa727) into [main](https://codecov.io/gh/openfga/openfga/commit/af367291442541df550e506ecb166261e2b3fe17?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (af36729) will **increase** coverage by `0.07%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #57      +/-   ##
==========================================
+ Coverage   76.50%   76.58%   +0.07%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6162     6168       +6     
+ Misses       1472     1468       -4     
+ Partials      420      418       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/57/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (+1.80%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [af36729...f4fa727](https://codecov.io/gh/openfga/openfga/pull/57?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
57,craigpastro,2022-06-20 19:07:05,fixed in a different way in #58
60,codecov-commenter,2022-06-20 19:13:06,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#60](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7f62673) into [main](https://codecov.io/gh/openfga/openfga/commit/ab4e1c54d0d49de49f7d541145a7d7bbd6b78331?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ab4e1c5) will **increase** coverage by `0.04%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #60      +/-   ##
==========================================
+ Coverage   76.42%   76.47%   +0.04%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6155     6159       +4     
+ Misses       1478     1475       -3     
+ Partials      421      420       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/60/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `84.07% <0.00%> (+0.63%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/60/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (+0.90%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [ab4e1c5...7f62673](https://codecov.io/gh/openfga/openfga/pull/60?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
59,codecov-commenter,2022-06-20 19:17:12,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#59](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5cb7491) into [main](https://codecov.io/gh/openfga/openfga/commit/c5ace938678c0015683ace96a44ee6dcf40eb515?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c5ace93) will **increase** coverage by `0.12%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #59      +/-   ##
==========================================
+ Coverage   76.44%   76.57%   +0.12%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6157     6167      +10     
+ Misses       1476     1469       -7     
+ Partials      421      418       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/59/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/59/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.88% <0.00%> (+0.90%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/59/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/59/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [c5ace93...5cb7491](https://codecov.io/gh/openfga/openfga/pull/59?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
62,codecov-commenter,2022-06-21 00:16:59,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#62](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (762191d) into [main](https://codecov.io/gh/openfga/openfga/commit/e993d95fe3397e745d8c32ca9eeb79cef8ad0ff5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e993d95) will **increase** coverage by `0.04%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #62      +/-   ##
==========================================
+ Coverage   76.47%   76.52%   +0.04%     
==========================================
  Files          72       72              
  Lines        8054     8054              
==========================================
+ Hits         6159     6163       +4     
+ Misses       1475     1471       -4     
  Partials      420      420              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/62/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.88% <0.00%> (+0.30%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/62/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/62/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [30fde09...762191d](https://codecov.io/gh/openfga/openfga/pull/62?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
65,codecov-commenter,2022-06-21 16:11:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#65](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (db7ba1c) into [main](https://codecov.io/gh/openfga/openfga/commit/e993d95fe3397e745d8c32ca9eeb79cef8ad0ff5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e993d95) will **increase** coverage by `0.10%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main      #65      +/-   ##
==========================================
+ Coverage   76.47%   76.57%   +0.10%     
==========================================
  Files          72       72              
  Lines        8054     8055       +1     
==========================================
+ Hits         6159     6168       +9     
+ Misses       1475     1469       -6     
+ Partials      420      418       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.45% <100.00%> (+0.15%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `34.23% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.88% <0.00%> (+0.30%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/65/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [30fde09...db7ba1c](https://codecov.io/gh/openfga/openfga/pull/65?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
51,craigpastro,2022-06-21 21:18:44,We don't want to check 154 dependencies for FOSSA.
63,codecov-commenter,2022-06-21 21:52:38,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#63](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (aeb6398) into [main](https://codecov.io/gh/openfga/openfga/commit/10dfe5eccdcf9d35f24a217383c9288cdd977792?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (10dfe5e) will **decrease** coverage by `0.10%`.
> The diff coverage is `81.63%`.

```diff
@@            Coverage Diff             @@
##             main      #63      +/-   ##
==========================================
- Coverage   77.32%   77.21%   -0.11%     
==========================================
  Files          73       73              
  Lines        8212     8269      +57     
==========================================
+ Hits         6350     6385      +35     
- Misses       1483     1500      +17     
- Partials      379      384       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `40.04% <33.33%> (-0.19%)` | :arrow_down: |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.98% <91.86%> (+4.22%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-2.40%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-1.81%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.74% <0.00%> (-1.34%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+1.47%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/63/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [10dfe5e...aeb6398](https://codecov.io/gh/openfga/openfga/pull/63?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
67,codecov-commenter,2022-06-21 23:29:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#67](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a624c78) into [main](https://codecov.io/gh/openfga/openfga/commit/bac8ac727e0cbc1a0a9708c1f1dd92940f84803a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (bac8ac7) will **decrease** coverage by `0.03%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main      #67      +/-   ##
==========================================
- Coverage   76.60%   76.56%   -0.04%     
==========================================
  Files          72       72              
  Lines        8056     8056              
==========================================
- Hits         6171     6168       -3     
- Misses       1468     1470       +2     
- Partials      417      418       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/67/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/67/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/67/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-0.91%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [bac8ac7...a624c78](https://codecov.io/gh/openfga/openfga/pull/67?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
68,adriantam,2022-06-23 16:40:38,"Do we need to update https://openfga.dev/docs/getting-started/setup-openfga#configuring-the-server (i.e., through https://github.com/openfga/openfga.dev/blob/main/docs/content/getting-started/setup-openfga.mdx)?"
68,codecov-commenter,2022-06-23 18:03:42,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#68](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ff06c70) into [main](https://codecov.io/gh/openfga/openfga/commit/3e420b9a622d59d91e54a867ae486016364e9d73?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3e420b9) will **decrease** coverage by `0.49%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main      #68      +/-   ##
==========================================
- Coverage   76.59%   76.10%   -0.50%     
==========================================
  Files          73       73              
  Lines        8101     8152      +51     
==========================================
- Hits         6205     6204       -1     
- Misses       1475     1527      +52     
  Partials      421      421              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/68/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/68/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.60% <ø> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/68/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-0.31%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [3e420b9...ff06c70](https://codecov.io/gh/openfga/openfga/pull/68?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
69,CLAassistant,2022-06-24 14:12:45,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=69) <br/>All committers have signed the CLA.
69,codecov-commenter,2022-06-24 16:17:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#69](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a0dbc2f) into [main](https://codecov.io/gh/openfga/openfga/commit/59b8e353014a818c351cd3aa85b9fe4d13b37305?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (59b8e35) will **increase** coverage by `0.18%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #69      +/-   ##
==========================================
+ Coverage   75.96%   76.15%   +0.18%     
==========================================
  Files          73       73              
  Lines        8152     8152              
==========================================
+ Hits         6193     6208      +15     
+ Misses       1535     1523      -12     
+ Partials      424      421       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `84.07% <0.00%> (+0.63%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (+1.50%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/69/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [59b8e35...a0dbc2f](https://codecov.io/gh/openfga/openfga/pull/69?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
71,codecov-commenter,2022-06-24 19:59:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#71](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a18fa77) into [main](https://codecov.io/gh/openfga/openfga/commit/c1581f5a65842567c3709d5f578833fbef886c76?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c1581f5) will **increase** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #71      +/-   ##
==========================================
+ Coverage   75.94%   75.96%   +0.02%     
==========================================
  Files          73       73              
  Lines        8152     8152              
==========================================
+ Hits         6191     6193       +2     
+ Misses       1536     1535       -1     
+ Partials      425      424       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/71/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.68% <0.00%> (+0.60%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [c1581f5...a18fa77](https://codecov.io/gh/openfga/openfga/pull/71?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
72,codecov-commenter,2022-06-25 01:26:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#72](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (163ad75) into [main](https://codecov.io/gh/openfga/openfga/commit/17c67ccfe33fd2e3ab59fa10a00a54f166c4d6a3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (17c67cc) will **increase** coverage by `0.09%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #72      +/-   ##
==========================================
+ Coverage   76.01%   76.11%   +0.09%     
==========================================
  Files          73       73              
  Lines        8152     8152              
==========================================
+ Hits         6197     6205       +8     
+ Misses       1532     1526       -6     
+ Partials      423      421       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/72/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.88% <0.00%> (+0.30%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/72/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/72/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/72/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [17c67cc...163ad75](https://codecov.io/gh/openfga/openfga/pull/72?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
73,dblclik,2022-06-26 20:19:08,"I am hoping to try and implement the resolution to this (even just to get more hands on if not accepted), but am not against this being picked up by someone more comfortable with the openfga code base. "
73,adriantam,2022-06-27 13:22:37,"Hello @dblclik . Thank you for your interest in this project and for raising this issue.

The suggested change makes a lot of sense, and we would love your contribution to make it happen!

For the sake of pointing you in the right direction:
* Authorization model is already used to validate that the object type exists and that the relation is possible on that object, so it should be possible to build on top of that
* You will need to add an error code to return, take a look at [server/errors.go](https://github.com/openfga/openfga/blob/c86993b6150adac24b0e0fee9734e807e13e5847/server/errors/errors.go)
* Make sure to add tests for this case

Let us know if you need any help or guidance with this, whether here or on Discord."
74,jon-whit,2022-06-27 15:01:46,"@MidasLamb you are right. We plan on changing this so that you can provide a server bind address that the HTTP and grpc servers start up on. That will be configurable. I'll keep this open and cross reference the PR so you can track progress on that.

Thanks for reporting this, it helps us prioritize this work a bit 👍🏻."
75,codecov-commenter,2022-06-27 16:24:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#75](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (49151b4) into [main](https://codecov.io/gh/openfga/openfga/commit/85c505a1e5bcc541babd98e74bc588ec6ce19310?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (85c505a) will **decrease** coverage by `0.09%`.
> The diff coverage is `23.52%`.

```diff
@@            Coverage Diff             @@
##             main      #75      +/-   ##
==========================================
- Coverage   75.94%   75.84%   -0.10%     
==========================================
  Files          73       73              
  Lines        8152     8164      +12     
==========================================
+ Hits         6191     6192       +1     
- Misses       1536     1547      +11     
  Partials      425      425              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/75/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/75/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.60% <100.00%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/75/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `34.23% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/75/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (ø)` | |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/75/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `84.07% <0.00%> (+0.63%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [85c505a...49151b4](https://codecov.io/gh/openfga/openfga/pull/75?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
74,MidasLamb,2022-06-27 17:32:50,"@jon-whit , thanks for the quick reply! Will keep an eye on the PR"
74,jon-whit,2022-06-27 17:33:13,"@MidasLamb could you confirm #75 addresses your comment? You should be able to:

```
git checkout main && git pull
docker build -t openfga .

# use docker to run it according to how you would like
```

You can now run the HTTP and grpc servers on a configurable bind address (e.g. `host:port`) instead of just specifying a port. This functionality will be included in our next `v0.1.4` release (end of the week likely). If you need it in the meantime, you can run off of the `main` branch."
78,codecov-commenter,2022-06-27 19:34:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#78](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8d04336) into [main](https://codecov.io/gh/openfga/openfga/commit/2c2b0d8cd68a338f31fed03c4b9218ad7b96172e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2c2b0d8) will **increase** coverage by `0.18%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #78      +/-   ##
==========================================
+ Coverage   75.90%   76.09%   +0.18%     
==========================================
  Files          73       73              
  Lines        8164     8164              
==========================================
+ Hits         6197     6212      +15     
+ Misses       1544     1533      -11     
+ Partials      423      419       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/78/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.59% <0.00%> (+0.67%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/78/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/78/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.38% <0.00%> (+1.80%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/78/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/78/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [2c2b0d8...8d04336](https://codecov.io/gh/openfga/openfga/pull/78?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
83,codecov-commenter,2022-06-28 21:31:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/83?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#83](https://codecov.io/gh/openfga/openfga/pull/83?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ca998e5) into [main](https://codecov.io/gh/openfga/openfga/commit/2dfe665dbd8889c138cfa75c13b960d06e535876?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2dfe665) will **increase** coverage by `0.01%`.
> The diff coverage is `47.61%`.

```diff
@@            Coverage Diff             @@
##             main      #83      +/-   ##
==========================================
+ Coverage   75.73%   75.74%   +0.01%     
==========================================
  Files          79       79              
  Lines        8897     8902       +5     
==========================================
+ Hits         6738     6743       +5     
  Misses       1762     1762              
  Partials      397      397              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/83?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.90% <ø> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.17% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <14.28%> (ø)` | |
| [storage/errors.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9lcnJvcnMuZ28=) | `60.00% <66.66%> (ø)` | |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <100.00%> (+5.49%)` | :arrow_up: |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <100.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/83/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
84,codecov-commenter,2022-06-28 22:22:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#84](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (1bd63e7) into [main](https://codecov.io/gh/openfga/openfga/commit/226299f267219b7e36c3449270ee00d4b1234693?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (226299f) will **decrease** coverage by `0.01%`.
> The diff coverage is `68.75%`.

```diff
@@            Coverage Diff             @@
##             main      #84      +/-   ##
==========================================
- Coverage   75.83%   75.81%   -0.02%     
==========================================
  Files          73       73              
  Lines        8164     8171       +7     
==========================================
+ Hits         6191     6195       +4     
- Misses       1548     1551       +3     
  Partials      425      425              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/84/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/84/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `34.75% <75.00%> (+0.52%)` | :arrow_up: |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/84/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.75% <100.00%> (+0.14%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [226299f...1bd63e7](https://codecov.io/gh/openfga/openfga/pull/84?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
84,jon-whit,2022-06-29 17:07:41,"Waiting on #85 to add tests. We need to be able to hit a grpc health check in `ensureServiceUp` in our tests, because if the HTTP gateway is disabled the `/healthz` endpoint won't be serving, but the grpc server should always be running (since the HTTP gateway depends on it). So I'm working on #85 and once that is done I'll rebase this work on that and finish the tests."
84,adriantam,2022-06-29 17:44:18,Please ensure the [docs](https://github.com/openfga/openfga.dev/blob/main/docs/content/getting-started/setup-openfga.mdx) are updated.  TY!
73,dblclik,2022-06-30 02:13:34,"@adriantam - I think I've got my plan in order and will begin tomorrow, but wanted to put the idea down here to get any feedback or cautions.

As I see it, there are 4 scenarios in which direct assignment should be permitted
1. `this:{}`
2. When `this:{}` is on side of a `difference` (originally I thought this should be `base` only, but if it is in the `subtract` it still means that it could be directly assigned, only that would mean it will be interpreted by `check` and any other expansions as not actually the relation)
3. When `this:{}` is anywhere in an intersection
4. When `this:{}` is anywhere in a union

Thus, I plan to create a new function (would love suggestions on where to put it, whether that be in `write.go` or a `utils/...` or other) called `isDirectRelation` which takes in a `*openfgapb.Userset` and determines if it matches one of the above criteria.  If so, it will return `true`, if not it will return `false` (and a possibly `nil` error, ofc), which we can then use in `validateTuplesets` to determine if we should write the tuple or return error.

What are your thoughts on this, given the more concrete details?"
84,jon-whit,2022-06-30 20:41:06,"> Please ensure the [docs](https://github.com/openfga/openfga.dev/blob/main/docs/content/getting-started/setup-openfga.mdx) are updated. TY!

@adriantam See https://github.com/openfga/openfga.dev/pull/128"
87,codecov-commenter,2022-06-30 22:34:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#87](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ee71c6a) into [main](https://codecov.io/gh/openfga/openfga/commit/314ca089d872d8c047ce94985c6cf6deb217b72e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (314ca08) will **decrease** coverage by `0.01%`.
> The diff coverage is `74.52%`.

```diff
@@            Coverage Diff             @@
##             main      #87      +/-   ##
==========================================
- Coverage   77.19%   77.18%   -0.02%     
==========================================
  Files          73       75       +2     
  Lines        8267     8266       -1     
==========================================
- Hits         6382     6380       -2     
- Misses       1501     1503       +2     
+ Partials      384      383       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/encoder/encoder.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvZW5jb2Rlci5nbw==) | `0.00% <0.00%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `40.22% <0.00%> (ø)` | |
| [pkg/encrypter/encrypter.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9lbmNyeXB0ZXIuZ28=) | `33.33% <33.33%> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <62.50%> (ø)` | |
| [server/commands/read\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWRfdHVwbGVzLmdv) | `78.57% <66.66%> (ø)` | |
| [pkg/encoder/token\_encoder.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvdG9rZW5fZW5jb2Rlci5nbw==) | `82.35% <82.35%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.98% <100.00%> (ø)` | |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `100.00% <100.00%> (+66.66%)` | :arrow_up: |
| [server/commands/list\_stores.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfc3RvcmVzLmdv) | `67.85% <100.00%> (ø)` | |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `83.87% <100.00%> (+0.26%)` | :arrow_up: |
| ... and [8 more](https://codecov.io/gh/openfga/openfga/pull/87/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [314ca08...ee71c6a](https://codecov.io/gh/openfga/openfga/pull/87?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
92,jon-whit,2022-07-07 20:29:43,"I wouldn't consider the CLI flags complete yet, not until we call #91 officially complete. There are some other flags that need to be wired up for other config (HTTP CORS etc..), and we should probably add some better flag validation to the cobra flag instantiation process. There are these bits and pieces that we should probably address to polish this functionality.

So, for now, I believe we should leave this functionality undocumented to the public. But if we can merge this work ahead of #91 official completion, then that will help unblock some test functionality in https://github.com/openfga/openfga/pull/83.

Or should I just bite the bullet and wire it all up now? WDYT?"
92,codecov-commenter,2022-07-07 20:56:57,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#92](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (57833ab) into [main](https://codecov.io/gh/openfga/openfga/commit/7cbd9aadf38cc2c722f176c02969bd5fa6b2ee55?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7cbd9aa) will **decrease** coverage by `0.50%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main      #92      +/-   ##
==========================================
- Coverage   77.18%   76.68%   -0.51%     
==========================================
  Files          75       76       +1     
  Lines        8266     8332      +66     
==========================================
+ Hits         6380     6389       +9     
- Misses       1503     1562      +59     
+ Partials      383      381       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC91dGlsL3V0aWwuZ28=) | `0.00% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.18% <0.00%> (+0.60%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.41% <0.00%> (+0.66%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/92/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [7cbd9aa...57833ab](https://codecov.io/gh/openfga/openfga/pull/92?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
95,codecov-commenter,2022-07-09 02:54:00,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#95](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3184326) into [main](https://codecov.io/gh/openfga/openfga/commit/7cbd9aadf38cc2c722f176c02969bd5fa6b2ee55?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7cbd9aa) will **decrease** coverage by `0.51%`.
> The diff coverage is `8.43%`.

```diff
@@            Coverage Diff             @@
##             main      #95      +/-   ##
==========================================
- Coverage   77.18%   76.66%   -0.52%     
==========================================
  Files          75       76       +1     
  Lines        8266     8335      +69     
==========================================
+ Hits         6380     6390      +10     
- Misses       1503     1563      +60     
+ Partials      383      382       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC91dGlsL3V0aWwuZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `83.33% <ø> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.39% <63.63%> (-0.60%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.41% <0.00%> (+0.66%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (+1.19%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.78% <0.00%> (+1.20%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/95/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b049d50...3184326](https://codecov.io/gh/openfga/openfga/pull/95?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
94,craigpastro,2022-07-09 03:04:38,"Hi @thisisxvr! I think the problem here is that your Postgres instance does not have the required tables created yet. The ability to create the tables using the cli is in an upcoming PR (https://github.com/openfga/openfga/pull/56).

For the moment, the schema can be found https://github.com/openfga/openfga/blob/main/storage/postgres/migrations/20220617_initialize_schema.up.sql, so if you can execute this file on your instance, everything should work okay.

Please let me know if you have anymore questions!"
94,thisisxvr,2022-07-09 03:12:23,@craigpastro You are correct; I ran the schema and it worked. Thanks for the quick response!
98,codecov-commenter,2022-07-11 18:38:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#98](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4583e48) into [main](https://codecov.io/gh/openfga/openfga/commit/8e4223a5723adf4e36d89957e77f449f0c96c524?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8e4223a) will **decrease** coverage by `0.04%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main      #98      +/-   ##
==========================================
- Coverage   76.58%   76.53%   -0.05%     
==========================================
  Files          76       76              
  Lines        8335     8335              
==========================================
- Hits         6383     6379       -4     
- Misses       1567     1571       +4     
  Partials      385      385              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/98/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-2.95%)` | :arrow_down: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/98/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `66.66% <0.00%> (-2.78%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/98/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (-0.31%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [8e4223a...4583e48](https://codecov.io/gh/openfga/openfga/pull/98?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
97,codecov-commenter,2022-07-11 18:38:36,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#97](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (741d13b) into [main](https://codecov.io/gh/openfga/openfga/commit/7cbd9aadf38cc2c722f176c02969bd5fa6b2ee55?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7cbd9aa) will **decrease** coverage by `0.72%`.
> The diff coverage is `9.52%`.

```diff
@@            Coverage Diff             @@
##             main      #97      +/-   ##
==========================================
- Coverage   77.18%   76.46%   -0.73%     
==========================================
  Files          75       76       +1     
  Lines        8266     8335      +69     
==========================================
- Hits         6380     6373       -7     
- Misses       1503     1575      +72     
- Partials      383      387       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC91dGlsL3V0aWwuZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `83.33% <ø> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.39% <63.63%> (-0.60%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (-1.51%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/97/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b63b054...741d13b](https://codecov.io/gh/openfga/openfga/pull/97?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
99,codecov-commenter,2022-07-11 18:38:42,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#99](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7aa9eba) into [main](https://codecov.io/gh/openfga/openfga/commit/7cbd9aadf38cc2c722f176c02969bd5fa6b2ee55?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7cbd9aa) will **decrease** coverage by `0.65%`.
> The diff coverage is `9.52%`.

```diff
@@            Coverage Diff             @@
##             main      #99      +/-   ##
==========================================
- Coverage   77.18%   76.53%   -0.66%     
==========================================
  Files          75       76       +1     
  Lines        8266     8335      +69     
==========================================
- Hits         6380     6379       -1     
- Misses       1503     1571      +68     
- Partials      383      385       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/openfga.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2Evb3BlbmZnYS5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9yb290Lmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC91dGlsL3V0aWwuZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `83.33% <ø> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.39% <63.63%> (-0.60%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/99/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `100.00% <100.00%> (ø)` | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b63b054...7aa9eba](https://codecov.io/gh/openfga/openfga/pull/99?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
73,dblclik,2022-07-11 22:01:42,"@adriantam @rhamzeh - hey all, apologies it has been a couple of weeks.  I finally had some time today and added in the changes to my branch in my [fork](https://github.com/dblclik/openfga/tree/feat/reject-direct-if-only-indir-allowed).  Everything except for unit tests has been completed (I've done extensive testing via the local playground and all appears to be in order).

When I ran `go test ./...` from root, I see this response for the `server/tests` set:  `?       github.com/openfga/openfga/server/test  [no test files]`

Are you all seeing this too when you try to run `go test` on that section?"
73,jon-whit,2022-07-11 22:49:39,"@dblclik The server tests are in `server/server_test.go`. The `server/test` package defines shared tests (not test functions) that can be used for different storage implementations and they are publicly exported tests that can be used externally for services that embed OpenFGA as a server.

If you just want to run the server tests directly you can run the following command `go test -v ./server/...`. Or, to test OpenFGA for a specific storage engine, you can run commands such as:

```
go test -v ./server/... -run TestOpenFGAServer/TestPostgresDatastore
go test -v ./server/... -run TestOpenFGAServer/TestMemoryDatastore
```"
73,dblclik,2022-07-11 23:07:57,"@jon-whit - perfect, thank you, that seems to work (and means my earlier run of `go test ./...` included it 🙌 ).  

I will work on adding tests for the new functionality, but can at least confirm that my additions have not broken anything prior :phew: "
100,codecov-commenter,2022-07-11 23:46:07,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#100](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (74b9b22) into [main](https://codecov.io/gh/openfga/openfga/commit/01571f96a2182f5a377b0faeb3b912219e9847a4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (01571f9) will **decrease** coverage by `0.09%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #100      +/-   ##
==========================================
- Coverage   76.58%   76.49%   -0.10%     
==========================================
  Files          76       76              
  Lines        8335     8337       +2     
==========================================
- Hits         6383     6377       -6     
- Misses       1567     1574       +7     
- Partials      385      386       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.54% <100.00%> (+0.15%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.74% <0.00%> (-0.67%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/100/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.68% <0.00%> (ø)` | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [01571f9...74b9b22](https://codecov.io/gh/openfga/openfga/pull/100?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
103,adriantam,2022-07-13 14:35:37,The corresponding docs change is in https://github.com/openfga/openfga/pull/103
103,codecov-commenter,2022-07-13 14:47:19,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#103](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (056279f) into [main](https://codecov.io/gh/openfga/openfga/commit/7e33e296bc72b44ce514f27c7386c2937de70f6a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7e33e29) will **increase** coverage by `0.01%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #103      +/-   ##
==========================================
+ Coverage   76.61%   76.62%   +0.01%     
==========================================
  Files          76       76              
  Lines        8337     8337              
==========================================
+ Hits         6387     6388       +1     
  Misses       1566     1566              
+ Partials      384      383       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/103/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.54% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/103/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.58% <0.00%> (+0.30%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [7e33e29...056279f](https://codecov.io/gh/openfga/openfga/pull/103?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
104,codecov-commenter,2022-07-13 15:55:57,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#104](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4345037) into [main](https://codecov.io/gh/openfga/openfga/commit/ffb8b9c96c73f2589e81a7c8b2c672aeaa0b1fc0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ffb8b9c) will **decrease** coverage by `0.01%`.
> The diff coverage is `66.66%`.

```diff
@@            Coverage Diff             @@
##             main     #104      +/-   ##
==========================================
- Coverage   76.47%   76.45%   -0.02%     
==========================================
  Files          76       76              
  Lines        8337     8343       +6     
==========================================
+ Hits         6376     6379       +3     
- Misses       1574     1576       +2     
- Partials      387      388       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/104/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `2.04% <66.66%> (+2.04%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/104/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/104/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.08% <0.00%> (ø)` | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [ffb8b9c...4345037](https://codecov.io/gh/openfga/openfga/pull/104?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
83,jon-whit,2022-07-13 18:20:00,Tests will fail until #105 is fixed. I've added tests to assert the correct behavior here. I'd like #105 to be merged before merging this.
56,adriantam,2022-07-13 19:16:44,"@craigpastro : Do we need to document this in the openfga.dev site (i.e., https://openfga.dev/docs/getting-started/setup-openfga)?  If we want to do that, can you add a ticket and create a PR on https://github.com/openfga/openfga.dev prior to merge in the change here?"
104,jon-whit,2022-07-14 16:04:13,"> LGTM. Do we need doc updates?

I don't see any documentation on openfga.dev that references running OpenFGA via binary, so I think the changes to the README herein are sufficient."
56,elbuo8,2022-07-14 20:32:32,@craigpastro can you rebase and adjust FOSSA accordingly? 
107,codecov-commenter,2022-07-18 15:56:58,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#107](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (45f8531) into [main](https://codecov.io/gh/openfga/openfga/commit/a10102169cb750efc231e88d65a9166b1b7fcece?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a101021) will **decrease** coverage by `0.11%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #107      +/-   ##
==========================================
- Coverage   76.55%   76.44%   -0.12%     
==========================================
  Files          76       76              
  Lines        8366     8366              
==========================================
- Hits         6405     6395      -10     
- Misses       1581     1588       +7     
- Partials      380      383       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/107/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.48% <0.00%> (-1.21%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/107/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.43% <0.00%> (-1.20%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/107/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.41% <0.00%> (-0.67%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [8a2ae21...45f8531](https://codecov.io/gh/openfga/openfga/pull/107?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
111,codecov-commenter,2022-07-19 01:57:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#111](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f1107d5) into [main](https://codecov.io/gh/openfga/openfga/commit/a10102169cb750efc231e88d65a9166b1b7fcece?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a101021) will **decrease** coverage by `0.41%`.
> The diff coverage is `18.18%`.

```diff
@@            Coverage Diff             @@
##             main     #111      +/-   ##
==========================================
- Coverage   76.55%   76.14%   -0.42%     
==========================================
  Files          76       76              
  Lines        8366     8388      +22     
==========================================
- Hits         6405     6387      -18     
- Misses       1581     1614      +33     
- Partials      380      387       +7     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `1.68% <0.00%> (-0.14%)` | :arrow_down: |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `86.85% <100.00%> (+0.30%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.98% <0.00%> (-2.71%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.23% <0.00%> (-2.40%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/111/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.74% <0.00%> (-1.34%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [8a2ae21...f1107d5](https://codecov.io/gh/openfga/openfga/pull/111?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
111,jon-whit,2022-07-19 16:12:19,@elbuo8 do you have any comments/feedback on this? I wanted to check with you before we merge.
24,jon-whit,2022-07-19 22:50:05,"Performed some preliminary benchmarks and found that these changes lead to additional heap allocations that caused a significant amount of GC pressure. Overall the performance of Check was diminished. Although the composition and readability improved, the performance degradation isn't worth the change.

For now I'm marking this as closed. It was a good exploration nonetheless."
24,jon-whit,2022-07-20 05:08:16,"For reference, the benchmarks that were run are defined below:

```
# after
➜  openfga git:(graph-dispatcher) ✗ go test -cpuprofile cpuprofile.out -memprofile memprofile.out -benchmem -count=5 -run=^$ -bench BenchmarkOpenFGAServer/TestMemoryDatastore/ ./server
goos: darwin
goarch: arm64
pkg: github.com/openfga/openfga/server
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   22642	     47808 ns/op	   40718 B/op	     641 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   32038	     37316 ns/op	   40575 B/op	     641 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   33388	     36142 ns/op	   40520 B/op	     641 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   35355	     35902 ns/op	   40673 B/op	     641 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   33944	     37152 ns/op	   40806 B/op	     641 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   24348	     45394 ns/op	   46992 B/op	     771 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   28252	     44576 ns/op	   45932 B/op	     771 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   20703	     54264 ns/op	   45917 B/op	     770 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   19468	     55117 ns/op	   45921 B/op	     770 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   19546	     55130 ns/op	   47994 B/op	     770 allocs/op

# before
➜  openfga git:(graph-dispatcher) ✗ go test -cpuprofile cpuprofile.out -memprofile memprofile.out -benchmem -count=5 -run=^$ -bench BenchmarkOpenFGAServer/TestMemoryDatastore/ ./server
goos: darwin
goarch: arm64
pkg: github.com/openfga/openfga/server
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   52742	     21984 ns/op	    9319 B/op	     186 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   56025	     21274 ns/op	    9332 B/op	     186 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   54915	     21379 ns/op	    9327 B/op	     186 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   56046	     20713 ns/op	    9329 B/op	     186 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkCheckWithoutTrace-10         	   57128	     20606 ns/op	    9333 B/op	     186 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   52317	     22205 ns/op	   11172 B/op	     261 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   53200	     22220 ns/op	   11185 B/op	     261 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   53659	     22236 ns/op	   11156 B/op	     260 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   53799	     21885 ns/op	   11167 B/op	     261 allocs/op
BenchmarkOpenFGAServer/TestMemoryDatastore/BenchmarkWithTrace-10                 	   53848	     22106 ns/op	   11171 B/op	     261 allocs/op
```

The number of heap allocations increased and the operations per second decreased with the changes introduced in this experimental PR. Using pprof to profile the differences, it appeared that the majority of the computation time was being bound to GC because of the heap allocations involved with the reduceable check functions. Although the code is easier to read, it probably doesn't warrant the refactor at this time because of this issue."
113,codecov-commenter,2022-07-25 02:46:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#113](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4c57c1e) into [main](https://codecov.io/gh/openfga/openfga/commit/5ddcd390eb488f0c47b64e9ab6b6281408c77d1c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5ddcd39) will **increase** coverage by `0.14%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #113      +/-   ##
==========================================
+ Coverage   76.15%   76.29%   +0.14%     
==========================================
  Files          76       76              
  Lines        8390     8390              
==========================================
+ Hits         6389     6401      +12     
+ Misses       1614     1605       -9     
+ Partials      387      384       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/113/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.20% <ø> (-0.04%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/113/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.72% <100.00%> (+2.73%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/113/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `69.44% <0.00%> (+2.77%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/113/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.88% <0.00%> (+2.94%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [5ddcd39...4c57c1e](https://codecov.io/gh/openfga/openfga/pull/113?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
114,CLAassistant,2022-07-25 15:53:33,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=114) <br/>All committers have signed the CLA.
73,dblclik,2022-07-25 16:01:02,"@jon-whit @adriantam - hey all, I (finally) opened up [PR 114](https://github.com/openfga/openfga/pull/114).  I signed the CLA after opening it, so there's a mark in the PR history that it wasn't in place.  It should be good, but the license check workflow can't run until launched by an owner (like the other workflows).  Feel free to fire away with any/all comments and thoughts 🦖 "
115,CLAassistant,2022-07-25 18:16:18,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=115) <br/>All committers have signed the CLA.
117,codecov-commenter,2022-07-25 23:07:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#117](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (687992d) into [main](https://codecov.io/gh/openfga/openfga/commit/40e65ec854d8391d59b61cabe5dfb32aed647006?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (40e65ec) will **decrease** coverage by `0.14%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #117      +/-   ##
==========================================
- Coverage   76.35%   76.20%   -0.15%     
==========================================
  Files          76       76              
  Lines        8390     8390              
==========================================
- Hits         6406     6394      -12     
- Misses       1602     1610       +8     
- Partials      382      386       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/117/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.52% <0.00%> (-1.50%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/117/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/117/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.20% <0.00%> (-1.21%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/117/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.74% <0.00%> (-0.67%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [40e65ec...687992d](https://codecov.io/gh/openfga/openfga/pull/117?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
119,codecov-commenter,2022-07-26 01:37:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#119](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (71f490c) into [main](https://codecov.io/gh/openfga/openfga/commit/db3e7c61b64e6ec722a0d6ee03015ae42855cad9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (db3e7c6) will **decrease** coverage by `0.08%`.
> The diff coverage is `87.80%`.

```diff
@@            Coverage Diff             @@
##             main     #119      +/-   ##
==========================================
- Coverage   76.31%   76.22%   -0.09%     
==========================================
  Files          76       76              
  Lines        8390     8413      +23     
==========================================
+ Hits         6403     6413      +10     
- Misses       1604     1614      +10     
- Partials      383      386       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/119/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.55% <87.80%> (-0.58%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/119/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `77.94% <0.00%> (-1.48%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/119/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.20% <0.00%> (-1.21%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/119/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.74% <0.00%> (-0.67%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/119/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [db3e7c6...71f490c](https://codecov.io/gh/openfga/openfga/pull/119?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
116,codecov-commenter,2022-07-26 15:23:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#116](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cf65750) into [main](https://codecov.io/gh/openfga/openfga/commit/52797e0614cecdaa41d393788e615423dadc9bae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (52797e0) will **increase** coverage by `0.07%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #116      +/-   ##
==========================================
+ Coverage   76.22%   76.29%   +0.07%     
==========================================
  Files          76       76              
  Lines        8390     8390              
==========================================
+ Hits         6395     6401       +6     
+ Misses       1610     1605       -5     
+ Partials      385      384       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/116/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.52% <0.00%> (-0.30%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/116/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.41% <0.00%> (+0.66%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/116/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `92.40% <0.00%> (+1.20%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/116/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.41% <0.00%> (+1.47%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [52797e0...cf65750](https://codecov.io/gh/openfga/openfga/pull/116?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
120,jon-whit,2022-07-26 20:07:41,"@thisisxvr thanks for reporting this. I'll take a look! In the meantime, if you could upload any step by step instructions that reproduces the issue I would appreciate it 👍 That will help."
120,thisisxvr,2022-07-26 20:39:31,"Hey @jon-whit. Unfortunately I am not aware of a reliable method to repro this issue. What I can tell you is that I've only seen it happen on a live env (on Azure) — never came across it while running locally. I'm fairly confident that it does not occur when it's just a single user using the service in the env (I have the OpenFGA service wrapped in feature flag, so I can control who is using it). 

Here are a couple of examples from the logs:
```
{""log"":""{\""level\"":\""info\"",\""ts\"":1658701171.2792175,\""caller\"":\""logger/logger.go:48\"",\""msg\"":\""HTTP server listening on ':8080'...\"",\""build.version\"":\""v0.1.4\"",\""build.commit\"":\""226299f267219b7e36c3449270ee00d4b1234693\""}\n"",""stream"":""stderr"",""time"":""2022-07-24T22:19:31.279311522Z""}

---4004 successful log entries over 19 hours---

{""log"":""{\""level\"":\""error\"",\""ts\"":1658769667.8109884,\""caller\"":\""logger/logger.go:80\"",\""msg\"":\""grpc error\"",\""build.version\"":\""v0.1.4\"",\""build.commit\"":\""226299f267219b7e36c3449270ee00d4b1234693\"",\""error\"":\""rpc error: code = Canceled desc = context canceled\"",\""request_url\"":\""/stores/01G7QVP4XNWB9W64BEWACZ15FQ/write\"",\""stacktrace\"":\""github.com/openfga/openfga/pkg/logger.(*ZapLogger).ErrorWithContext\\n\\t/home/runner/work/openfga/openfga/pkg/logger/logger.go:80\\ngithub.com/openfga/openfga/server.New.func1\\n\\t/home/runner/work/openfga/openfga/server/server.go:136\\ngithub.com/grpc-ecosystem/grpc-gateway/v2/runtime.HTTPError\\n\\t/home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.10.3/runtime/errors.go:81\\ngo.buf.build/openfga/go/openfga/api/openfga/v1.RegisterOpenFGAServiceHandlerClient.func2\\n\\t/home/runner/go/pkg/mod/go.buf.build/openfga/go/openfga/api@v1.1.20/openfga/v1/openfga_service.pb.gw.go:1429\\ngithub.com/grpc-ecosystem/grpc-gateway/v2/runtime.(*ServeMux).ServeHTTP\\n\\t/home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.10.3/runtime/mux.go:386\\ngithub.com/rs/cors.(*Cors).Handler.func1\\n\\t/home/runner/go/pkg/mod/github.com/rs/cors@v1.8.2/cors.go:231\\nnet/http.HandlerFunc.ServeHTTP\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:2084\\nnet/http.serverHandler.ServeHTTP\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:2916\\nnet/http.(*conn).serve\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:1966\""}\n"",""stream"":""stderr"",""time"":""2022-07-25T17:21:07.81184193Z""}
```

```
{""log"":""{\""level\"":\""info\"",\""ts\"":1658770655.936566,\""caller\"":\""logger/logger.go:48\"",\""msg\"":\""HTTP server listening on ':8080'...\"",\""build.version\"":\""v0.1.4\"",\""build.commit\"":\""226299f267219b7e36c3449270ee00d4b1234693\""}\n"",""stream"":""stderr"",""time"":""2022-07-25T17:37:35.936721505Z""}

---125 successful log entries over 37 minutes---

{""log"":""{\""level\"":\""error\"",\""ts\"":1658772920.3901386,\""caller\"":\""logger/logger.go:80\"",\""msg\"":\""grpc error\"",\""build.version\"":\""v0.1.4\"",\""build.commit\"":\""226299f267219b7e36c3449270ee00d4b1234693\"",\""error\"":\""rpc error: code = Canceled desc = context canceled\"",\""request_url\"":\""/stores/01G7QVP4XNWB9W64BEWACZ15FQ/check\"",\""stacktrace\"":\""github.com/openfga/openfga/pkg/logger.(*ZapLogger).ErrorWithContext\\n\\t/home/runner/work/openfga/openfga/pkg/logger/logger.go:80\\ngithub.com/openfga/openfga/server.New.func1\\n\\t/home/runner/work/openfga/openfga/server/server.go:136\\ngithub.com/grpc-ecosystem/grpc-gateway/v2/runtime.HTTPError\\n\\t/home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.10.3/runtime/errors.go:81\\ngo.buf.build/openfga/go/openfga/api/openfga/v1.RegisterOpenFGAServiceHandlerClient.func3\\n\\t/home/runner/go/pkg/mod/go.buf.build/openfga/go/openfga/api@v1.1.20/openfga/v1/openfga_service.pb.gw.go:1450\\ngithub.com/grpc-ecosystem/grpc-gateway/v2/runtime.(*ServeMux).ServeHTTP\\n\\t/home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.10.3/runtime/mux.go:386\\ngithub.com/rs/cors.(*Cors).Handler.func1\\n\\t/home/runner/go/pkg/mod/github.com/rs/cors@v1.8.2/cors.go:231\\nnet/http.HandlerFunc.ServeHTTP\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:2084\\nnet/http.serverHandler.ServeHTTP\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:2916\\nnet/http.(*conn).serve\\n\\t/opt/hostedtoolcache/go/1.18.3/x64/src/net/http/server.go:1966\""}\n"",""stream"":""stderr"",""time"":""2022-07-25T18:15:20.390695882Z""}
```

Let me know if there's anything I can do to get more info for you."
120,jon-whit,2022-07-26 20:56:04,"@thisisxvr sounds good. No worries. I think I can track it down with what you've already provided.

Thanks for reporting. I probably won't be able to get around to this today but I will tomorrow. I'll keep you updated here 👍 ."
121,codecov-commenter,2022-07-26 21:21:32,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#121](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (9fb35ff) into [main](https://codecov.io/gh/openfga/openfga/commit/c318a91d7f889a483793e4a8c2bd726de1dda8bf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c318a91) will **decrease** coverage by `0.00%`.
> The diff coverage is `90.97%`.

```diff
@@            Coverage Diff             @@
##             main     #121      +/-   ##
==========================================
- Coverage   76.22%   76.21%   -0.01%     
==========================================
  Files          76       76              
  Lines        8413     8397      -16     
==========================================
- Hits         6413     6400      -13     
+ Misses       1614     1612       -2     
+ Partials      386      385       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `11.76% <25.00%> (ø)` | |
| [pkg/testfixtures/storage/memory.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL21lbW9yeS5nbw==) | `50.00% <75.00%> (ø)` | |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `89.13% <84.84%> (ø)` | |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `78.57% <85.71%> (-4.77%)` | :arrow_down: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `84.82% <100.00%> (+1.75%)` | :arrow_up: |
| [server/test/create\_store.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY3JlYXRlX3N0b3JlLmdv) | `70.37% <100.00%> (ø)` | |
| [server/test/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZGVsZXRlX3N0b3JlLmdv) | `75.00% <100.00%> (ø)` | |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.19% <100.00%> (ø)` | |
| [server/test/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZ2V0X3N0b3JlLmdv) | `70.00% <100.00%> (ø)` | |
| [server/test/list\_stores.go](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9zdG9yZXMuZ28=) | `46.57% <100.00%> (ø)` | |
| ... and [16 more](https://codecov.io/gh/openfga/openfga/pull/121/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [c318a91...9fb35ff](https://codecov.io/gh/openfga/openfga/pull/121?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
120,craigpastro,2022-07-26 23:13:46,"Hi @thisisxvr ! Thanks for reporting this issue. I was able to easily reproduce this issue on the code prior to https://github.com/openfga/openfga/pull/113. There was a bug that wasn't releasing a Postgres connection back to the pool which caused pool starvation. It should be fixed in `main`, and we expect to release v0.1.5 very soon. If you can try `main` that would be great. Or please wait for v0.1.5. In any case, it would be great if you can report back when you get a chance.

Thanks again!"
122,codecov-commenter,2022-07-27 00:47:17,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/122?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#122](https://codecov.io/gh/openfga/openfga/pull/122?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (9e2b506) into [main](https://codecov.io/gh/openfga/openfga/commit/c318a91d7f889a483793e4a8c2bd726de1dda8bf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c318a91) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #122   +/-   ##
=======================================
  Coverage   76.22%   76.22%           
=======================================
  Files          76       76           
  Lines        8413     8413           
=======================================
  Hits         6413     6413           
  Misses       1614     1614           
  Partials      386      386           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/122?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/122?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [c318a91...9e2b506](https://codecov.io/gh/openfga/openfga/pull/122?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
120,thisisxvr,2022-07-27 02:57:05,"Thanks @craigpastro. I've deployed `main` to our env, and it is now in use — I will report back if I run into issues."
125,jon-whit,2022-07-27 16:41:26,Referencing #126 here
124,rhamzeh,2022-07-27 16:41:54,"Thanks for raising the issue @vavsab. It's currently blocked until this [PR](https://github.com/openfga/openfga/pull/125) is merged, but that should be happening soon. Expect `v0.1.5` to be out soon."
124,jon-whit,2022-07-27 16:58:04,@vavsab we're releasing `v0.1.5` today. Sorry for the delay. See #128 . Once that's merged we'll tag and release. I'll close this once it's been released 👍 
124,jon-whit,2022-07-27 17:06:54,"See https://github.com/openfga/openfga/releases/tag/v0.1.5.

Closing this now that it's been released. Let us know if you find anything problematic 👍 "
124,vavsab,2022-07-27 17:10:02,"Wow man! You are working at the speed of light! Thanks a lot
"
56,vavsab,2022-07-27 17:20:56,@craigpastro Hi there! When are you going to merge this feature? I'm going to deploy OpenFGA to my production this week. Just trying to understand whether I need to do migrations manually or better wait until this PR is merged.
129,codecov-commenter,2022-07-27 18:19:36,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#129](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b20cac7) into [main](https://codecov.io/gh/openfga/openfga/commit/e2f36e56a1df3af37f99705bebbc09b993bd1394?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e2f36e5) will **increase** coverage by `0.00%`.
> The diff coverage is `0.00%`.

```diff
@@           Coverage Diff           @@
##             main     #129   +/-   ##
=======================================
  Coverage   76.21%   76.22%           
=======================================
  Files          76       76           
  Lines        8413     8407    -6     
=======================================
- Hits         6412     6408    -4     
+ Misses       1614     1613    -1     
+ Partials      387      386    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (-1.69%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [e2f36e5...b20cac7](https://codecov.io/gh/openfga/openfga/pull/129?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
124,rhamzeh,2022-07-27 18:27:21,"Sorry @vavsab, we had an issue in our `v0.1.5` release preventing it from running. We'll be releasing `v0.1.6` with that resolved in a few."
124,vavsab,2022-07-27 18:30:54,Thanks. Just was wondering why it's failing to start
129,rhamzeh,2022-07-27 18:52:36,Should we add to the tag tests where it can try to run the generated image before publishing?
129,jon-whit,2022-07-27 18:55:24,"> Should we add to the tag tests where it can try to run the generated image before publishing?

Yeah, that's a good idea. We could run a prerelease build in a test job and if that succeeds then proceed with the official release (which will publish the release artifacts). Let's tackle that work in a subsequent PR. I'll add an issue for it."
124,rhamzeh,2022-07-27 19:42:35,@vavsab [v0.1.6](https://github.com/orgs/openfga/discussions/14) is now out. Sorry for the hassle.
120,rhamzeh,2022-07-27 19:44:38,"[v0.1.6](https://github.com/orgs/openfga/discussions/14) is now out with the changes included in #113 that would help alleviate this issue.

@thisisxvr thank you for raising this issue. Let us know if this release resolves it for you or not!"
56,craigpastro,2022-07-27 20:22:21,Hi @vavsab! I plan to merge it today actually. Please let me know if it helps!
114,codecov-commenter,2022-07-27 20:36:33,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#114](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0083461) into [main](https://codecov.io/gh/openfga/openfga/commit/b7d987f12a5e8f093a7eefa52bfddea349c9f966?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b7d987f) will **increase** coverage by `0.05%`.
> The diff coverage is `84.48%`.

```diff
@@            Coverage Diff             @@
##             main     openfga/syntax-transformer#114      +/-   ##
==========================================
+ Coverage   75.66%   75.71%   +0.05%     
==========================================
  Files          77       77              
  Lines        8484     8541      +57     
==========================================
+ Hits         6419     6467      +48     
- Misses       1680     1689       +9     
  Partials      385      385              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/114/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `63.15% <0.00%> (-3.51%)` | :arrow_down: |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/114/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `69.04% <ø> (ø)` | |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/114/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `90.35% <86.53%> (-3.30%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/114/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.16% <100.00%> (+1.22%)` | :arrow_up: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b7d987f...0083461](https://codecov.io/gh/openfga/openfga/pull/114?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
56,vavsab,2022-07-27 21:44:23,"> Hi @vavsab! I plan to merge it today actually. Please let me know if it helps!

Great! Then I will wait with deployment until merge & release. Thanks "
131,codecov-commenter,2022-07-27 22:16:54,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/131?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#131](https://codecov.io/gh/openfga/openfga/pull/131?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cdae9e3) into [main](https://codecov.io/gh/openfga/openfga/commit/8cbaf24ebca7b1553762f889cf1e012efe6dc8e1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8cbaf24) will **decrease** coverage by `0.17%`.
> The diff coverage is `91.34%`.

```diff
@@            Coverage Diff             @@
##             main     #131      +/-   ##
==========================================
- Coverage   75.61%   75.44%   -0.18%     
==========================================
  Files          77       76       -1     
  Lines        8535     8372     -163     
==========================================
- Hits         6454     6316     -138     
+ Misses       1694     1673      -21     
+ Partials      387      383       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/131?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL2F1dGhuLmdv) | `21.42% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `10.81% <25.00%> (-0.96%)` | :arrow_down: |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `57.14% <66.66%> (-26.20%)` | :arrow_down: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `88.88% <84.84%> (-0.25%)` | :arrow_down: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `85.34% <100.00%> (+1.13%)` | :arrow_up: |
| [server/test/create\_store.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY3JlYXRlX3N0b3JlLmdv) | `68.00% <100.00%> (-2.38%)` | :arrow_down: |
| [server/test/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZGVsZXRlX3N0b3JlLmdv) | `72.91% <100.00%> (-2.09%)` | :arrow_down: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.17% <100.00%> (-0.02%)` | :arrow_down: |
| [server/test/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZ2V0X3N0b3JlLmdv) | `66.66% <100.00%> (-3.34%)` | :arrow_down: |
| [server/test/list\_stores.go](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9zdG9yZXMuZ28=) | `43.47% <100.00%> (-3.10%)` | :arrow_down: |
| ... and [16 more](https://codecov.io/gh/openfga/openfga/pull/131/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
44,vavsab,2022-07-28 13:37:53,"@craigpastro when are you going to create a release for it? 
It's in main branch but not released :("
133,jon-whit,2022-07-28 18:06:45,"👋 @vavsab at this time we do not support the embedded Playground with authentication.

We do have on our roadmap a plan to add an authentication input field (or something similar) to allow you to provide a bearer token in the Playground UI. That work will likely be part of a larger effort to open-source the OpenFGA Playground source code though. We will keep you updated with these developments as they unfold."
134,rhamzeh,2022-07-28 18:46:58,"Thanks for your feedback @vavsab! It will go out in the upcoming `v0.1.7` release, we will try to get out a small release out with this change today."
44,craigpastro,2022-07-28 20:41:07,"👋 @vavsab. Sorry for the delay. Need to merge the docs on it https://github.com/openfga/openfga.dev/pull/175, and we will work on pushing it out a new release after that. Thanks!"
114,dblclik,2022-07-28 21:07:15,"@jon-whit @rhamzeh - I noticed that Semgrep and Snyk are failing, but I wasn't sure if that is expected if I don't have those accounts (I don't believe they're free offerings, but might be wrong there)"
114,rhamzeh,2022-07-28 21:17:03,"> I noticed that Semgrep and Snyk are failing, but I wasn't sure if that is expected if I don't have those accounts (I don't believe they're free offerings, but might be wrong there)

Yeah - we are working on a better solution for those, right now they will fail b/c you don't have the secrets setup. Another fallback FOSSA license check should have ran though. But for the scope of this change, they're not blockers.

They will still run properly and alert us on merge to main.

Thanks for submitting this!
"
120,jon-whit,2022-07-28 21:17:46,"@thisisxvr did the `v0.1.6` release resolve your issue? If so, do you mind if we close?"
114,dblclik,2022-07-28 21:33:27,"@jon-whit @rhamzeh - I noticed that this test (see below) is passing on my local but failing in the GH Action -- any thoughts on why that might be?

![Screen Shot 2022-07-28 at 5 32 33 PM](https://user-images.githubusercontent.com/3995753/181641327-07dcef42-4762-43ba-bac6-cd8f85e01d53.png)
 "
120,thisisxvr,2022-07-28 22:59:08,"I've had `main` running for nearly 48 hours now with no issues — which is the longest I've seen without this error popping up, so I'm happy to consider the issue resolved. Thanks very much @jon-whit and @craigpastro for the quick resolve 🙌."
120,jon-whit,2022-07-28 23:00:15,"> I've had `main` running for nearly 48 hours now with no issues — which is the longest I've seen without this error popping up, so I'm happy to consider the issue resolved. Thanks very much @jon-whit and @craigpastro for the quick resolve 🙌.

No problem! Thanks for reporting and for following through with confirmation of the fix. We appreciate it!"
134,vavsab,2022-07-29 13:03:55,Take your time. [Made a fork](https://hub.docker.com/r/mapped/openfga) to unblock myself. Thanks for the nice migration feature!
123,dblclik,2022-07-29 19:18:08,"@rhamzeh - I can take this chore/issue, unless anyone else is already working on it 👍 "
136,codecov-commenter,2022-07-29 19:46:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#136](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cbf1af2) into [main](https://codecov.io/gh/openfga/openfga/commit/b7d987f12a5e8f093a7eefa52bfddea349c9f966?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b7d987f) will **decrease** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #136      +/-   ##
==========================================
- Coverage   75.66%   75.63%   -0.03%     
==========================================
  Files          77       77              
  Lines        8484     8484              
==========================================
- Hits         6419     6417       -2     
- Misses       1680     1681       +1     
- Partials      385      386       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b7d987f...cbf1af2](https://codecov.io/gh/openfga/openfga/pull/136?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
123,rhamzeh,2022-07-29 19:51:11,Thanks for taking this on @dblclik!
137,codecov-commenter,2022-07-29 21:24:11,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#137](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ed83ef6) into [main](https://codecov.io/gh/openfga/openfga/commit/9e6036e1b156ed6bab8281c094453517352dc21e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (9e6036e) will **decrease** coverage by `0.54%`.
> The diff coverage is `97.41%`.

```diff
@@            Coverage Diff             @@
##             main     #137      +/-   ##
==========================================
- Coverage   76.17%   75.62%   -0.55%     
==========================================
  Files          76       77       +1     
  Lines        8390     8484      +94     
==========================================
+ Hits         6391     6416      +25     
- Misses       1613     1682      +69     
  Partials      386      386              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `11.76% <0.00%> (ø)` | |
| [server/test/read\_changes.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9jaGFuZ2VzLmdv) | `88.62% <ø> (ø)` | |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `69.04% <ø> (ø)` | |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.19% <100.00%> (ø)` | |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `96.39% <100.00%> (ø)` | |
| [server/test/read\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF90dXBsZXMuZ28=) | `97.39% <100.00%> (ø)` | |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `51.90% <100.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (-1.69%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `83.43% <0.00%> (-0.64%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `91.20% <0.00%> (-0.04%)` | :arrow_down: |
| ... and [5 more](https://codecov.io/gh/openfga/openfga/pull/137/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [9e6036e...ed83ef6](https://codecov.io/gh/openfga/openfga/pull/137?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
138,codecov-commenter,2022-08-01 16:38:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/138?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#138](https://codecov.io/gh/openfga/openfga/pull/138?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (9d398a0) into [main](https://codecov.io/gh/openfga/openfga/commit/95c60edb64769bf38969d6110ea218d98a7e072e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (95c60ed) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #138   +/-   ##
=======================================
  Coverage   75.68%   75.68%           
=======================================
  Files          77       77           
  Lines        8494     8494           
=======================================
  Hits         6429     6429           
  Misses       1680     1680           
  Partials      385      385           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/138?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/138?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [95c60ed...9d398a0](https://codecov.io/gh/openfga/openfga/pull/138?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
141,jon-whit,2022-08-01 19:17:43,"@rhamzeh @matldupont looks like the preshared auth support in the embedded Playground works mostly (see attached video). The only hiccup is that fetching the predefined model from the default Playground store fails because the local auth key isn't appropriate for the hosted Playground.

Do you guys have some recommendations on how we should resolve that elegantly?

https://user-images.githubusercontent.com/2899204/182228380-a05828ff-a989-4c71-92de-847072d534e3.mov


"
139,dependabot[bot],2022-08-01 20:38:18,Superseded by #143.
143,codecov-commenter,2022-08-01 20:42:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/143?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#143](https://codecov.io/gh/openfga/openfga/pull/143?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (aabb0c0) into [main](https://codecov.io/gh/openfga/openfga/commit/367206308f98b2ad69ada07a8f2deab4b543f14c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3672063) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #143   +/-   ##
=======================================
  Coverage   75.66%   75.66%           
=======================================
  Files          77       77           
  Lines        8494     8494           
=======================================
  Hits         6427     6427           
  Misses       1681     1681           
  Partials      386      386           
```



------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/143?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/143?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [3672063...aabb0c0](https://codecov.io/gh/openfga/openfga/pull/143?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
140,codecov-commenter,2022-08-01 20:42:12,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/140?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#140](https://codecov.io/gh/openfga/openfga/pull/140?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (02c7bf8) into [main](https://codecov.io/gh/openfga/openfga/commit/8cbaf24ebca7b1553762f889cf1e012efe6dc8e1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8cbaf24) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #140   +/-   ##
=======================================
  Coverage   75.61%   75.61%           
=======================================
  Files          77       77           
  Lines        8535     8535           
=======================================
  Hits         6454     6454           
  Misses       1694     1694           
  Partials      387      387           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
141,rhamzeh,2022-08-02 15:28:44,"> The only hiccup is that fetching the predefined model from the default Playground store fails because the local auth key isn't appropriate for the hosted Playground.

Is that what's happening? Let's discuss this in an issue in that repo, because the local playground should not be talking to the hosted version."
141,codecov-commenter,2022-08-02 16:50:57,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#141](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f1232a5) into [main](https://codecov.io/gh/openfga/openfga/commit/b4c45a4cd88989838bed3989fd1eb65a932b7e13?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b4c45a4) will **decrease** coverage by `0.11%`.
> The diff coverage is `0.00%`.

```diff
@@            Coverage Diff             @@
##             main     #141      +/-   ##
==========================================
- Coverage   75.68%   75.57%   -0.12%     
==========================================
  Files          77       77              
  Lines        8494     8504      +10     
==========================================
- Hits         6429     6427       -2     
- Misses       1680     1691      +11     
- Partials      385      386       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Last update [b4c45a4...f1232a5](https://codecov.io/gh/openfga/openfga/pull/141?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
134,rhamzeh,2022-08-03 11:58:43,@vavsab [v0.1.7](https://github.com/orgs/openfga/discussions/15) that was released last Friday now includes this feature. Thank you for being patient with us!
134,vavsab,2022-08-03 12:28:23,@rhamzeh  Thanks. Already switched and using it. Works good
133,jon-whit,2022-08-03 22:32:42,"@vavsab we now have support for preshared key authentication in the OpenFGA embedded Playground. If you pull down the main branch it's supported. It will be included in our next most release. I'm closing this now that it's supported. If you find any issues with it, please don't hesitate to reach back out 👍 "
147,codecov-commenter,2022-08-04 00:45:45,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/147?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#147](https://codecov.io/gh/openfga/openfga/pull/147?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (06f513a) into [main](https://codecov.io/gh/openfga/openfga/commit/dc8bfcf31e04e50820cd1873948e4683cb2b11d1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (dc8bfcf) will **increase** coverage by `0.05%`.
> The diff coverage is `90.58%`.

```diff
@@            Coverage Diff             @@
##             main     #147      +/-   ##
==========================================
+ Coverage   75.58%   75.64%   +0.05%     
==========================================
  Files          77       77              
  Lines        8504     8535      +31     
==========================================
+ Hits         6428     6456      +28     
- Misses       1691     1693       +2     
- Partials      385      386       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/147?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/147/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.31% <76.92%> (-0.43%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/147/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `85.40% <93.05%> (+1.96%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/147/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+0.28%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
133,vavsab,2022-08-04 03:22:36,Thanks a lot 🥰
145,codecov-commenter,2022-08-05 01:06:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/145?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#145](https://codecov.io/gh/openfga/openfga/pull/145?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d93e99b) into [main](https://codecov.io/gh/openfga/openfga/commit/f526d7d7e0c96754714c6b85f569affab34af562?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (f526d7d) will **decrease** coverage by `0.62%`.
> The diff coverage is `62.88%`.

```diff
@@            Coverage Diff             @@
##             main     #145      +/-   ##
==========================================
- Coverage   75.41%   74.79%   -0.63%     
==========================================
  Files          76       79       +3     
  Lines        8372     8789     +417     
==========================================
+ Hits         6314     6574     +260     
- Misses       1674     1815     +141     
- Partials      384      400      +16     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/145?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `35.82% <0.00%> (-4.68%)` | :arrow_down: |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `100.00% <ø> (ø)` | |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <50.00%> (+3.24%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `61.93% <61.93%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.43% <70.00%> (+0.12%)` | :arrow_up: |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `71.18% <71.18%> (ø)` | |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.80% <80.80%> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.24% <91.30%> (+0.04%)` | :arrow_up: |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <100.00%> (+0.14%)` | :arrow_up: |
| ... and [6 more](https://codecov.io/gh/openfga/openfga/pull/145/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
148,codecov-commenter,2022-08-06 00:32:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/148?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#148](https://codecov.io/gh/openfga/openfga/pull/148?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (91f8772) into [main](https://codecov.io/gh/openfga/openfga/commit/78045ede7707a4e27c74b1856385c0808d05944c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (78045ed) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #148   +/-   ##
=======================================
  Coverage   75.44%   75.44%           
=======================================
  Files          76       76           
  Lines        8372     8372           
=======================================
  Hits         6316     6316           
  Misses       1673     1673           
  Partials      383      383           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
149,codecov-commenter,2022-08-06 04:01:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/149?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#149](https://codecov.io/gh/openfga/openfga/pull/149?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5ce9f62) into [main](https://codecov.io/gh/openfga/openfga/commit/78045ede7707a4e27c74b1856385c0808d05944c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (78045ed) will **decrease** coverage by `0.40%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #149      +/-   ##
==========================================
- Coverage   75.44%   75.03%   -0.41%     
==========================================
  Files          76       76              
  Lines        8372     8244     -128     
==========================================
- Hits         6316     6186     -130     
- Misses       1673     1674       +1     
- Partials      383      384       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/149?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/149/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `95.40% <ø> (-0.98%)` | :arrow_down: |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/149/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `82.45% <100.00%> (-1.42%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/149/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
153,codecov-commenter,2022-08-08 15:37:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/153?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#153](https://codecov.io/gh/openfga/openfga/pull/153?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b41115b) into [main](https://codecov.io/gh/openfga/openfga/commit/78045ede7707a4e27c74b1856385c0808d05944c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (78045ed) will **decrease** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #153      +/-   ##
==========================================
- Coverage   75.44%   75.41%   -0.03%     
==========================================
  Files          76       76              
  Lines        8372     8372              
==========================================
- Hits         6316     6314       -2     
- Misses       1673     1674       +1     
- Partials      383      384       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/153?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/153/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
152,jon-whit,2022-08-08 15:53:12,@ghstahl is there any way you could distill the problem down to a smaller reproducible example with a sample dataset? It's hard to troubleshoot exactly what the issue may be since there are no relationship tuples provided as a sample dataset. If you could get me at least a sample dataset that would be helpful.
152,rhamzeh,2022-08-08 16:05:05,"Thanks for reporting @ghstahl!

There are definitely a few issues here.

1. `Object:   fgaSdk.PtrString(uuid.New().String())` is not a valid object and we _should_ have returned a 4xx error. We'll tackle this.

2. It seems like you had `is anne related to project:X as can_delete?` as `true` originally without using the contextual tuples. That is consistent with the API response.
I'm curious, what was your expectation?

I'll echo what @jon-whit said. If you could provide us with a sample set of tuples (whether here or on https://play.fga.dev), we'd love to be able to help you through with this.

P.S. If you would like to export the tuples you can use:
```shell
STORE_ID=... #REPLACE_WITH_YOUR_STORE_ID
curl http://127.0.0.1:8080/stores/$STORE_ID/read-tuples -X POST
```

For docs on how to get the store id from the playground, you can refer to the docs [here](https://docs.fga.dev/intro/playground#getting-store-id)

"
152,ghstahl,2022-08-08 16:40:38,"# StandAlone Test 

1. Create store, name it ```issue152```  
2. Add the following Model
```dsl
type organization
  relations
    define base_project_editor as self or project_manager
    define member as self
    define project_editor as base_project_editor and user_in_context
    define project_manager as self and user_in_context
    define user_in_context as self
type project
  relations
    define can_delete as manager
    define can_edit as editor
    define can_view as editor
    define editor as project_editor from owner or project_editor from partner or manager
    define manager as project_manager from owner
    define owner as self
    define partner as self
```
4. Add the following tuples.
This is straight from the following [tutorial](https://openfga.dev/docs/modeling/organization-context-authorization)  

there is an error in the documentation.   Beth needs to be added to org:B as a project_manager.    

I added these by hand in the playground.  

```go
body := fgaSdk.WriteRequest{
	Writes:  &fgaSdk.TupleKeys{
		TupleKeys: []fgaSdk.TupleKey { 
		        {
		                // Anne has a `project manager` role at organization A
		                User: fgaSdk.PtrString(""anne""),
		                Relation: fgaSdk.PtrString(""project_manager""),
		                Object: fgaSdk.PtrString(""organization:A""),
	                },
	                {
		                // Anne has a `project manager` role at organization B
		                User: fgaSdk.PtrString(""anne""),
		                Relation: fgaSdk.PtrString(""project_manager""),
		                Object: fgaSdk.PtrString(""organization:B""),
	                },
	                {
		                // Anne has a `project manager` role at organization C
		                User: fgaSdk.PtrString(""anne""),
		                Relation: fgaSdk.PtrString(""project_manager""),
		                Object: fgaSdk.PtrString(""organization:C""),
	                },
	                {
		                // Beth has a `project manager` role at organization B
		                User: fgaSdk.PtrString(""beth""),
		                Relation: fgaSdk.PtrString(""project_manager""),
		                Object: fgaSdk.PtrString(""organization:B""),
	                },
	                {
		                // Carl has a `project manager` role at organization C
		                User: fgaSdk.PtrString(""carl""),
		                Relation: fgaSdk.PtrString(""project_manager""),
		                Object: fgaSdk.PtrString(""organization:C""),
	                },
	                {
		                // Organization A owns Project X
		                User: fgaSdk.PtrString(""organization:A""),
		                Relation: fgaSdk.PtrString(""owner""),
		                Object: fgaSdk.PtrString(""project:X""),
	                },
	                {
		                // Project X is shared with Organization B
		                User: fgaSdk.PtrString(""organization:B""),
		                Relation: fgaSdk.PtrString(""partner""),
		                Object: fgaSdk.PtrString(""project:X""),
	                }, 
		},
	},
}

_, response, err := fgaClient.OpenFgaApi.Write(context.Background()).Body(body).Execute()
if err != nil {
    // .. Handle error
}
```
6. playground queries
```
is anne related to organization:A as project_manager?
   false.    This is because anne isnt a user_in_context to organization:A
is anne related to project:X as can_delete?
   false.    This is because anne isnt a user_in_context to organization:A

Lets add anne:
USER:         anne
RELATION: user_in_context
OBJECT:     organization:A

is anne related to organization:A as project_manager?
   true
is anne related to project:X as can_delete?
   true
```
8. Tuples

```json
{
    ""tuples"": [
        {
            ""key"": {
                ""object"": ""organization:A"",
                ""relation"": ""project_manager"",
                ""user"": ""anne""
            },
            ""timestamp"": ""2022-08-08T16:17:57.454Z""
        },
        {
            ""key"": {
                ""object"": ""organization:B"",
                ""relation"": ""project_manager"",
                ""user"": ""anne""
            },
            ""timestamp"": ""2022-08-08T16:18:11.968135Z""
        },
        {
            ""key"": {
                ""object"": ""organization:C"",
                ""relation"": ""project_manager"",
                ""user"": ""anne""
            },
            ""timestamp"": ""2022-08-08T16:18:29.876606Z""
        },
        {
            ""key"": {
                ""object"": ""organization:B"",
                ""relation"": ""project_manager"",
                ""user"": ""beth""
            },
            ""timestamp"": ""2022-08-08T16:19:22.469647Z""
        },
        {
            ""key"": {
                ""object"": ""organization:C"",
                ""relation"": ""project_manager"",
                ""user"": ""carl""
            },
            ""timestamp"": ""2022-08-08T16:19:35.648110Z""
        },
        {
            ""key"": {
                ""object"": ""project:X"",
                ""relation"": ""owner"",
                ""user"": ""organization:A""
            },
            ""timestamp"": ""2022-08-08T16:19:49.237763Z""
        },
        {
            ""key"": {
                ""object"": ""project:X"",
                ""relation"": ""partner"",
                ""user"": ""organization:B""
            },
            ""timestamp"": ""2022-08-08T16:20:02.614081Z""
        },
        {
            ""key"": {
                ""object"": ""organization:A"",
                ""relation"": ""user_in_context"",
                ""user"": ""anne""
            },
            ""timestamp"": ""2022-08-08T16:39:47.504544Z""
        }
    ],
    ""continuation_token"": """"
}
```
10.  Stand-Alone Source Code  

```go
package main

import (
	""context""
	""errors""
	""fmt""
	""os""

	""github.com/google/uuid""
	fgaSdk ""github.com/openfga/go-sdk""
	""github.com/rs/zerolog/log""
)

func main() {
	DoContextAuthorizaiton()
}

func DumpStores() {
	configuration, err := fgaSdk.NewConfiguration(fgaSdk.Configuration{
		ApiScheme: os.Getenv(""OPENFGA_API_SCHEME""), // optional, defaults to ""https""
		ApiHost:   os.Getenv(""OPENFGA_API_HOST""),   // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)
	})

	if err != nil {
		// .. Handle error
		log.Fatal().Err(err).Msg(""Error creating configuration"")
	}
	apiClient := fgaSdk.NewAPIClient(configuration)
	continuationToken := """"
	pageSize := int32(10)
	for {
		data, httpResponse, err := apiClient.OpenFgaApi.
			ListStores(context.Background()).
			ContinuationToken(continuationToken).
			PageSize(pageSize).
			Execute()
		if err != nil {
			// .. Handle error
			log.Fatal().Err(err).Msg(""Error creating configuration"")
		}
		if httpResponse.StatusCode != 200 {
			// .. Handle error
			log.Fatal().Int(""statusCode"", httpResponse.StatusCode).Msg(""Failed to get stores"")
		}
		if data.Stores == nil || len(*data.Stores) == 0 {
			break
		}
		for _, store := range *data.Stores {
			log.Info().Interface(""store"", store).Send()
		}
		if data.ContinuationToken == nil || len(*data.ContinuationToken) == 0 {
			break
		}
		continuationToken = *data.ContinuationToken
	}
}

func GetStoreIDByName(storeName string) (string, error) {
	configuration, err := fgaSdk.NewConfiguration(fgaSdk.Configuration{
		ApiScheme: os.Getenv(""OPENFGA_API_SCHEME""), // optional, defaults to ""https""
		ApiHost:   os.Getenv(""OPENFGA_API_HOST""),   // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)
	})

	if err != nil {
		// .. Handle error
		log.Fatal().Err(err).Msg(""Error creating configuration"")
	}
	apiClient := fgaSdk.NewAPIClient(configuration)
	continuationToken := """"
	pageSize := int32(1)
	storeID := """"
	for {
		data, httpResponse, err := apiClient.OpenFgaApi.
			ListStores(context.Background()).
			ContinuationToken(continuationToken).
			PageSize(pageSize).
			Execute()
		if err != nil {
			return """", err
		}
		if httpResponse.StatusCode != 200 {
			return """", err
		}
		if data.Stores == nil || len(*data.Stores) == 0 {
			break
		}

		for _, store := range *data.Stores {
			if store.Name != nil {
				if *store.Name == storeName {
					return *store.Id, nil
				}
			}
		}
		if len(storeID) > 0 {
			// found store in the previous for loop
			break
		}
		if data.ContinuationToken == nil || len(*data.ContinuationToken) == 0 {
			break
		}
		continuationToken = *data.ContinuationToken
	}
	return """", errors.New(""store not found"")
}

func GetApiClientByStoreID(storeID string) (*fgaSdk.APIClient, error) {
	configuration, err := fgaSdk.NewConfiguration(fgaSdk.Configuration{
		ApiScheme: os.Getenv(""OPENFGA_API_SCHEME""), // optional, defaults to ""https""
		ApiHost:   os.Getenv(""OPENFGA_API_HOST""),   // required, define without the scheme (e.g. api.openfga.example instead of https://api.openfga.example)
	})
	log.Info().Msgf(""Found store: %s"", storeID)
	configuration.StoreId = storeID

	if err != nil {
		// .. Handle error
		log.Fatal().Err(err).Msg(""Error creating configuration"")
	}
	apiClient := fgaSdk.NewAPIClient(configuration)
	return apiClient, nil
}

func DoContextAuthorizaiton() {
	DumpStores()
	storeName := ""issue152""
	storeID, err := GetStoreIDByName(storeName)
	if err != nil {
		log.Fatal().Err(err).Msg(""Fail to get store ID"")
	}
	fgaClient, err := GetApiClientByStoreID(storeID)
	if err != nil {
		log.Fatal().Err(err).Msg(""Fail to get API client"")
	}
	// is anne related to project:X as can_delete?
	//  returns true in playground
	//  no context here, so bad, because anne doesn't have can_delete to project:X in other orgs
	body := fgaSdk.CheckRequest{
		TupleKey: &fgaSdk.TupleKey{
			User:     fgaSdk.PtrString(""anne""),
			Relation: fgaSdk.PtrString(""can_delete""),
			Object:   fgaSdk.PtrString(""project:X""),
		},
	}
	data, response, err := fgaClient.OpenFgaApi.Check(context.Background()).Body(body).Execute()
	if err != nil {
		log.Error().Err(err).Msg(""Failed to check permission"")
	} else {
		log.Info().Int(""StatusCode"", response.StatusCode).Send()
		log.Info().Interface(""data"", data).Send()
	}

	// is anne related to project:X as can_delete?  IN CONTEXT NOW
	//  Lets do a garbage request to see if it works
	body = fgaSdk.CheckRequest{
		TupleKey: &fgaSdk.TupleKey{
			User:     fgaSdk.PtrString(""anne""),
			Relation: fgaSdk.PtrString(""can_delete""),
			Object:   fgaSdk.PtrString(""project:X""),
		},
		ContextualTuples: &fgaSdk.ContextualTupleKeys{
			TupleKeys: []fgaSdk.TupleKey{
				{
					User:     fgaSdk.PtrString(""anne""),
					Relation: fgaSdk.PtrString(""user_in_context""),
					Object:   fgaSdk.PtrString(fmt.Sprintf(""organization:%s"", uuid.New().String())),
				},
			},
		},
	}
	data, response, err = fgaClient.OpenFgaApi.Check(context.Background()).Body(body).Execute()
	if err != nil {
		log.Error().Err(err).Msg(""Failed to check permission"")
	} else {
		log.Info().Int(""StatusCode"", response.StatusCode).Send()
		log.Info().Interface(""data"", data).Send()
	}

}
```"
152,ghstahl,2022-08-08 17:18:23,"> It seems like you had ```is anne related to project:X as can_delete?``` as true originally without using the contextual tuples. That is consistent with the API response.
I'm curious, what was your expectation?
```Yes``` I expect this to be the case, because it is accurate under this context.   

I fixed the invalid object with the same result.
```go
{
	User:     fgaSdk.PtrString(""anne""),
	Relation: fgaSdk.PtrString(""user_in_context""),
	Object:   fgaSdk.PtrString(fmt.Sprintf(""organization:%s"", uuid.New().String())),
}
```



"
152,ghstahl,2022-08-08 19:00:47,"I can also reproduce this just using postman

## Request
```curl
curl --location --request POST 'http://localhost:3601/stores/01G9Z3NC2VFD7BGSXFSZ42ESN8/check' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json' \
--data-raw '{
  ""tuple_key"": {
    ""object"": ""project:X"",
    ""relation"": ""can_delete"",
    ""user"": ""anne""
  },
  ""contextual_tuples"": {
    ""tuple_keys"": [
      {
        ""object"": ""in:flames"",
        ""relation"": ""user_in_context"",
        ""user"": ""anne""
      } 
    ]
  } 
}'
```
## Response
```json
{
    ""allowed"": true,
    ""resolution"": """"
}
```
I would think that I should get a 200 back from this, because I haven't gotten around to make the association from anne to organization:DOESNOTEXITYET as user_in_context.  or the organization:EXISTS but we don't have a relationship.  

Anyway, in both cases it doesn't exist from anne, thus I expect a false back. "
157,dependabot[bot],2022-08-08 20:38:01,"Looks like go.opentelemetry.io/otel is up-to-date now, so this is no longer needed."
156,codecov-commenter,2022-08-08 20:41:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/156?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#156](https://codecov.io/gh/openfga/openfga/pull/156?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b6e8c33) into [main](https://codecov.io/gh/openfga/openfga/commit/e3385540d2723a5de338f21796d83368c8e9f7c0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e338554) will **decrease** coverage by `0.01%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #156      +/-   ##
==========================================
- Coverage   75.44%   75.43%   -0.02%     
==========================================
  Files          76       76              
  Lines        8372     8372              
==========================================
- Hits         6316     6315       -1     
- Misses       1673     1674       +1     
  Partials      383      383              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/156?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/156/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.55% <0.00%> (-0.29%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
160,codecov-commenter,2022-08-08 20:41:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/160?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#160](https://codecov.io/gh/openfga/openfga/pull/160?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (24afa99) into [main](https://codecov.io/gh/openfga/openfga/commit/38fd35dcbc98fd9a4d8733dc78f4f10cc511121f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (38fd35d) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #160   +/-   ##
=======================================
  Coverage   75.41%   75.41%           
=======================================
  Files          76       76           
  Lines        8372     8372           
=======================================
  Hits         6314     6314           
  Misses       1674     1674           
  Partials      384      384           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/160?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/160/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
161,codecov-commenter,2022-08-08 20:47:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/161?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#161](https://codecov.io/gh/openfga/openfga/pull/161?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6f5d139) into [main](https://codecov.io/gh/openfga/openfga/commit/38fd35dcbc98fd9a4d8733dc78f4f10cc511121f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (38fd35d) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #161   +/-   ##
=======================================
  Coverage   75.41%   75.41%           
=======================================
  Files          76       76           
  Lines        8372     8372           
=======================================
  Hits         6314     6314           
  Misses       1674     1674           
  Partials      384      384           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/161?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/161/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
158,codecov-commenter,2022-08-08 20:47:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/158?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#158](https://codecov.io/gh/openfga/openfga/pull/158?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e3a37b8) into [main](https://codecov.io/gh/openfga/openfga/commit/38fd35dcbc98fd9a4d8733dc78f4f10cc511121f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (38fd35d) will **increase** coverage by `0.02%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #158      +/-   ##
==========================================
+ Coverage   75.41%   75.44%   +0.02%     
==========================================
  Files          76       76              
  Lines        8372     8372              
==========================================
+ Hits         6314     6316       +2     
+ Misses       1674     1673       -1     
+ Partials      384      383       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/158?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/158/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+0.56%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
152,rhamzeh,2022-08-09 15:18:27,"Looking at the tuples you posted, it seems that the last tuple may be the issue you have:

```json
        {
            ""key"": {
                ""object"": ""organization:A"",
                ""relation"": ""user_in_context"",
                ""user"": ""anne""
            },
            ""timestamp"": ""2022-08-08T16:39:47.504544Z""
        }
```

This means that OpenFGA will always treat anne as user_in_context of organization:A

Which may be why you are getting true instead of false.

When you are passing the following as a contextual tuple, it is _in addition_ to whatever other tuples already exist and will not replace them:
```json
      {
        ""object"": ""in:flames"",
        ""relation"": ""user_in_context"",
        ""user"": ""anne""
      } 
```

So you may want to delete that last tuple above and retry."
152,ghstahl,2022-08-09 16:06:20,"given this tutorial [organization-context-authorization](https://openfga.dev/docs/modeling/organization-context-authorization)  it has a final Model that added user_in_context to the organization.  

```DSL
type organization
  relations
    define member as self
    define project_manager as self and user_in_context
    define base_project_editor as self or project_manager
    define project_editor as base_project_editor and user_in_context
    define user_in_context as self
``` 
It instructs me to make a relationship between anne and organization:A  as user_in_context. 

```go
body := fgaSdk.WriteRequest{
	Writes:  &fgaSdk.TupleKeys{
		TupleKeys: []fgaSdk.TupleKey { 
			{
				// Anne is authorizing from the context of organization:A
				User: fgaSdk.PtrString(""anne""),
				Relation: fgaSdk.PtrString(""user_in_context""),
				Object: fgaSdk.PtrString(""organization:A""),
			}, 
		},
	},
}

_, response, err := fgaClient.OpenFgaApi.Write(context.Background()).Body(body).Execute()
if err != nil {
    // .. Handle error
}
```

then follows up by asking if anne is in the org
```go

body := fgaSdk.CheckRequest{
	TupleKey: &fgaSdk.TupleKey{
		User: fgaSdk.PtrString(""anne""),
		Relation: fgaSdk.PtrString(""can_view""),
		Object: fgaSdk.PtrString(""project:X""),
	},
	ContextualTuples: &fgaSdk.ContextualTuples{
		TupleKeys: []fgaSdk.TupleKey{
			{
				User: fgaSdk.PtrString(""anne""),
				Relation: fgaSdk.PtrString(""user_in_context""),
				Object: fgaSdk.PtrString(""organization:A""),
			}
		}
	}
}
data, response, err := fgaClient.OpenFgaApi.Check(context.Background()).Body(body).Execute()

// data = { allowed: true }
```

This all makes sense to me on the surface, so I don't know what to do now as the tutorial says to do it.  
"
144,codecov-commenter,2022-08-09 16:48:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/144?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#144](https://codecov.io/gh/openfga/openfga/pull/144?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (af1a7bf) into [main](https://codecov.io/gh/openfga/openfga/commit/905cf9f5ea4f7999c6aa82961aa938d7f78721df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (905cf9f) will **increase** coverage by `0.11%`.
> The diff coverage is `39.21%`.

```diff
@@            Coverage Diff             @@
##             main     #144      +/-   ##
==========================================
+ Coverage   75.19%   75.30%   +0.11%     
==========================================
  Files          79       78       -1     
  Lines        8845     8804      -41     
==========================================
- Hits         6651     6630      -21     
+ Misses       1788     1773      -15     
+ Partials      406      401       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/144?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [server/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL2F1dGhuLmdv) | `21.42% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <44.44%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.39% <61.53%> (-3.44%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `94.08% <100.00%> (+2.15%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/144/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
162,codecov-commenter,2022-08-09 17:51:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/162?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#162](https://codecov.io/gh/openfga/openfga/pull/162?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (433c679) into [main](https://codecov.io/gh/openfga/openfga/commit/dfa331c25e39753374609ac3138fd46e82e3c501?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (dfa331c) will **decrease** coverage by `0.03%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #162      +/-   ##
==========================================
- Coverage   75.44%   75.40%   -0.04%     
==========================================
  Files          76       76              
  Lines        8372     8372              
==========================================
- Hits         6316     6313       -3     
- Misses       1673     1675       +2     
- Partials      383      384       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/162?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/162/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.99% <0.00%> (-0.85%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
152,rhamzeh,2022-08-09 22:40:50,"In the final step [Using Contextual Tuples](https://openfga.dev/docs/modeling/organization-context-authorization#using-contextual-tuples), it is describing the problems of what was done in the previous step (writing the tuple), but it does not expressly indicate that the previously written tuple from the previous step should be deleted.

Sorry about that and the confusion it caused. We'll fix it within the next two days and get back to you.

Thanks for reporting that @ghstahl!"
152,ghstahl,2022-08-09 23:51:46,"Ok got it to work by deleting ```is anne related to organization:A as user_in_context?```

When I had that relationship, it completely made sense to me that it should work, but no!  More importantly I felt I could easily explain the concept of context.  

I am imagining having to explain this to someone new in a year and this is how it goes.

Me >   So you see, you have to add ```anne is a project_manager of organization:A``` for ```user_in_context``` to come into play.   
Other Engineer >  But there is a ```define user_in_context as self```  and it looks exactly like that ```member``` one.
Me > Yea yea, I know there is a ```define user_in_context as self``` but don't set it EVER!  
Other Engineer > I don't get it!
Me > its magic,  it gets created on the fly only when you use contextual tuples, and then it's gone.
Other Engineer > Really?

The thing with this is that this is such an important concept that it has to be a first-class thing.  It will eventually be in everyone's model, especially for enterprise offerings.    

For me it was requirement # 1.  

All joking aside, it does have an elegant aspect to it, but damn its confusing.  I totally get it now.  

"
145,miparnisari,2022-08-10 17:59:10,"Pending:
- ~the test for the streaming endpoint (consume the stream in its entirety and then make your test assertions. See https://grpc.io/docs/languages/go/basics/#client-side-streaming-rpc)~ https://github.com/openfga/openfga/pull/174
- (a nice to have)remove the duplicate validation of the type and relation. 
- (a nice to have) the “failed to set grpc header” error being written on the streaming endpoint
- (a nice to have) checks should listen to cancellation events
- ~use a `CombinedIterator` for store tuples & contextual tuples~ https://github.com/openfga/openfga/pull/172
- ~add the type checking for `tupleIterator`~
- ~instead of having two counters, have one with a tag~
- ~simplify errors `RelationNotFound, UnknownRelationWhenWritingAuthzModel, UnknownRelationWhenListingObjects`~ https://github.com/openfga/openfga/pull/173
- all counters should be prefixed with the service name, not `openfga`"
164,jon-whit,2022-08-12 19:53:48,Working on adding the appropriate documentation to openfga/openfga.dev for this new feature. I'll cross-reference with this.
164,codecov-commenter,2022-08-12 19:56:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/164?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#164](https://codecov.io/gh/openfga/openfga/pull/164?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (451aa5b) into [main](https://codecov.io/gh/openfga/openfga/commit/821a198cf134ea04b89e2cb54d82ec34d4784012?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (821a198) will **increase** coverage by `0.11%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #164      +/-   ##
==========================================
+ Coverage   74.77%   74.88%   +0.11%     
==========================================
  Files          79       79              
  Lines        8789     8789              
==========================================
+ Hits         6572     6582      +10     
+ Misses       1816     1809       -7     
+ Partials      401      398       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/164?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/164/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+0.56%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/164/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.08% <0.00%> (+0.64%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/164/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/164/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.80% <0.00%> (+1.20%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/164/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.00% <0.00%> (+1.42%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
169,codecov-commenter,2022-08-16 00:02:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/169?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#169](https://codecov.io/gh/openfga/openfga/pull/169?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (1679c0c) into [main](https://codecov.io/gh/openfga/openfga/commit/8d73a28dbdb71e40bb15a74956f6c68c5eaa2bf2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8d73a28) will **increase** coverage by `0.01%`.
> The diff coverage is `88.88%`.

```diff
@@            Coverage Diff             @@
##             main     #169      +/-   ##
==========================================
+ Coverage   74.76%   74.77%   +0.01%     
==========================================
  Files          79       79              
  Lines        8789     8785       -4     
==========================================
- Hits         6571     6569       -2     
+ Misses       1817     1815       -2     
  Partials      401      401              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/169?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/169/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `71.18% <ø> (ø)` | |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/169/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `62.20% <88.88%> (+0.27%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/169/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.99% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
146,jon-whit,2022-08-16 16:33:12,"> I think contextual tuples may need some changes. And can we add tests to check as well please?

@craigpastro it seems to work fine with ContextualTuples. I added two tests in `server/test/check` for these cases. Let me know what you think!"
171,codecov-commenter,2022-08-16 22:19:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/171?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#171](https://codecov.io/gh/openfga/openfga/pull/171?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a5607ec) into [main](https://codecov.io/gh/openfga/openfga/commit/2226f1b4a51521be1e71cf08c30b1446b86140a5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2226f1b) will **increase** coverage by `0.03%`.
> The diff coverage is `81.81%`.

```diff
@@            Coverage Diff             @@
##             main     #171      +/-   ##
==========================================
+ Coverage   74.76%   74.79%   +0.03%     
==========================================
  Files          79       79              
  Lines        8785     8792       +7     
==========================================
+ Hits         6568     6576       +8     
  Misses       1815     1815              
+ Partials      402      401       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/171?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `100.00% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `10.81% <33.33%> (ø)` | |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `72.58% <75.00%> (+1.39%)` | :arrow_up: |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <100.00%> (ø)` | |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `62.20% <100.00%> (ø)` | |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.80% <100.00%> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.32% <100.00%> (+0.07%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/171/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.99% <0.00%> (+0.28%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
172,codecov-commenter,2022-08-16 23:05:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/172?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#172](https://codecov.io/gh/openfga/openfga/pull/172?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c9858eb) into [main](https://codecov.io/gh/openfga/openfga/commit/37445455034344f3f2a8c199fe0a9da3b14657fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3744545) will **increase** coverage by `0.69%`.
> The diff coverage is `77.90%`.

```diff
@@            Coverage Diff             @@
##             main     #172      +/-   ##
==========================================
+ Coverage   75.24%   75.93%   +0.69%     
==========================================
  Files          78       79       +1     
  Lines        8811     8890      +79     
==========================================
+ Hits         6630     6751     +121     
+ Misses       1779     1747      -32     
+ Partials      402      392      -10     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/172?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `38.46% <ø> (-32.28%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `50.00% <25.00%> (-0.53%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <36.17%> (+13.06%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `80.60% <78.57%> (-0.79%)` | :arrow_down: |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `85.71% <85.71%> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <90.90%> (-8.25%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `94.82% <100.00%> (+0.18%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.67% <100.00%> (+0.84%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <100.00%> (+0.93%)` | :arrow_up: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `85.37% <100.00%> (ø)` | |
| ... and [13 more](https://codecov.io/gh/openfga/openfga/pull/172/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
173,codecov-commenter,2022-08-17 01:06:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/173?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#173](https://codecov.io/gh/openfga/openfga/pull/173?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (48514a6) into [main](https://codecov.io/gh/openfga/openfga/commit/53f4151753c49ea304348b3c67994ae12db5ab54?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (53f4151) will **increase** coverage by `0.37%`.
> The diff coverage is `81.66%`.

```diff
@@            Coverage Diff             @@
##             main     #173      +/-   ##
==========================================
+ Coverage   74.83%   75.21%   +0.37%     
==========================================
  Files          79       79              
  Lines        8815     8845      +30     
==========================================
+ Hits         6597     6653      +56     
+ Misses       1817     1787      -30     
- Partials      401      405       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/173?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/173/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `81.39% <66.66%> (+19.18%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/173/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `79.54% <73.52%> (-0.86%)` | :arrow_down: |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/173/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `93.75% <100.00%> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/173/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.16% <100.00%> (+0.59%)` | :arrow_up: |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/173/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `97.46% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
174,codecov-commenter,2022-08-17 18:56:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/174?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#174](https://codecov.io/gh/openfga/openfga/pull/174?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0578674) into [main](https://codecov.io/gh/openfga/openfga/commit/667706a72a8a7d67132414db34d99b1997b1050a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (667706a) will **increase** coverage by `0.44%`.
> The diff coverage is `77.41%`.

```diff
@@            Coverage Diff             @@
##             main     #174      +/-   ##
==========================================
+ Coverage   74.77%   75.21%   +0.44%     
==========================================
  Files          79       79              
  Lines        8792     8820      +28     
==========================================
+ Hits         6574     6634      +60     
+ Misses       1816     1783      -33     
- Partials      402      403       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/174?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.39% <77.41%> (-0.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+1.40%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `81.39% <0.00%> (+19.18%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,elbuo8,2022-08-17 21:14:56,Could you share the request payload?
177,codecov-commenter,2022-08-18 00:27:31,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/177?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#177](https://codecov.io/gh/openfga/openfga/pull/177?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4620ca9) into [main](https://codecov.io/gh/openfga/openfga/commit/8c9352d02dce8f6b7af94f29e26dc5a58c330c87?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8c9352d) will **not change** coverage.
> The diff coverage is `100.00%`.

```diff
@@           Coverage Diff           @@
##             main     #177   +/-   ##
=======================================
  Coverage   74.82%   74.82%           
=======================================
  Files          79       79           
  Lines        8792     8792           
=======================================
  Hits         6579     6579           
  Misses       1813     1813           
  Partials      400      400           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/177?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/177/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <100.00%> (ø)` | |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/177/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `62.20% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
178,codecov-commenter,2022-08-18 23:54:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/178?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#178](https://codecov.io/gh/openfga/openfga/pull/178?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (7907ef4) into [main](https://codecov.io/gh/openfga/openfga/commit/667706a72a8a7d67132414db34d99b1997b1050a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (667706a) will **increase** coverage by `0.05%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #178      +/-   ##
==========================================
+ Coverage   74.77%   74.82%   +0.05%     
==========================================
  Files          79       79              
  Lines        8792     8792              
==========================================
+ Hits         6574     6579       +5     
+ Misses       1816     1813       -3     
+ Partials      402      400       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/178?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/178/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+1.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
180,codecov-commenter,2022-08-19 14:57:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/180?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#180](https://codecov.io/gh/openfga/openfga/pull/180?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (51023a7) into [main](https://codecov.io/gh/openfga/openfga/commit/8c9352d02dce8f6b7af94f29e26dc5a58c330c87?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8c9352d) will **not change** coverage.
> The diff coverage is `n/a`.

```diff
@@           Coverage Diff           @@
##             main     #180   +/-   ##
=======================================
  Coverage   74.82%   74.82%           
=======================================
  Files          79       79           
  Lines        8792     8792           
=======================================
  Hits         6579     6579           
  Misses       1813     1813           
  Partials      400      400           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
181,jon-whit,2022-08-22 01:48:09,"Tricky tricky. When we refactored this we introduce that tricky bugger.

Good catch 🚀 !"
184,codecov-commenter,2022-08-22 20:19:31,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/184?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#184](https://codecov.io/gh/openfga/openfga/pull/184?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (abb8bcd) into [main](https://codecov.io/gh/openfga/openfga/commit/53f4151753c49ea304348b3c67994ae12db5ab54?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (53f4151) will **decrease** coverage by `0.04%`.
> The diff coverage is `58.33%`.

```diff
@@            Coverage Diff             @@
##             main     #184      +/-   ##
==========================================
- Coverage   74.83%   74.79%   -0.05%     
==========================================
  Files          79       79              
  Lines        8815     8816       +1     
==========================================
- Hits         6597     6594       -3     
- Misses       1817     1819       +2     
- Partials      401      403       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/184?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/184/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `35.82% <0.00%> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/184/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `10.81% <20.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/184/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.75% <100.00%> (-1.09%)` | :arrow_down: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/184/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `62.20% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
184,elbuo8,2022-08-23 16:19:07,"While the `method` is arguably wrong (it's Check itself that produced the metric) you can correlate that the parent of the Check came from ListObjects via the `requestID` field. 

With the iteration work being discussed for ListObjects I don't think there is the need to adjust this immediately."
185,codecov-commenter,2022-08-23 18:20:59,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/185?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#185](https://codecov.io/gh/openfga/openfga/pull/185?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (9c50d2c) into [main](https://codecov.io/gh/openfga/openfga/commit/a53c8b505cdeba1bd0ffa69828cfa7fd257c9f69?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a53c8b5) will **increase** coverage by `0.02%`.
> The diff coverage is `60.00%`.

```diff
@@            Coverage Diff             @@
##             main     #185      +/-   ##
==========================================
+ Coverage   75.18%   75.21%   +0.02%     
==========================================
  Files          79       79              
  Lines        8843     8843              
==========================================
+ Hits         6649     6651       +2     
+ Misses       1788     1787       -1     
+ Partials      406      405       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/185?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/185/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `81.39% <60.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/185/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+0.56%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,tnipri,2022-08-24 15:23:47,"> Could you share the request payload?

Hey @elbuo8 , it just happened again (same error) - I'm using @openfga/sdk. I don't have the request since it is generated by openfga' library. This error happens regardless of what request I'm sending (it's crashing for every request which a minute ago worked fine).

```
this.fgaClient = new OpenFgaApi({...})

const { allowed } = await this.fgaClient.check({
      tuple_key: {
        user: 'user:9',
        relation: 'can_read',
        object: 'organization:14',
      },
    });
```

Restarting openfga' docker seems to make it work again. This is a great tool - hope this will get fixed soon so we can use it on production as well."
186,codecov-commenter,2022-08-24 22:19:55,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/186?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#186](https://codecov.io/gh/openfga/openfga/pull/186?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (ba82390) into [main](https://codecov.io/gh/openfga/openfga/commit/53f4151753c49ea304348b3c67994ae12db5ab54?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (53f4151) will **increase** coverage by `0.35%`.
> The diff coverage is `68.62%`.

```diff
@@            Coverage Diff             @@
##             main     #186      +/-   ##
==========================================
+ Coverage   74.83%   75.19%   +0.35%     
==========================================
  Files          79       78       -1     
  Lines        8815     8803      -12     
==========================================
+ Hits         6597     6619      +22     
+ Misses       1817     1779      -38     
- Partials      401      405       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/186?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/186/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `81.39% <60.00%> (+19.18%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/186/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.39% <61.53%> (-3.44%)` | :arrow_down: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/186/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `79.54% <72.72%> (-0.86%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/186/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/186/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.16% <0.00%> (+0.59%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,jon-whit,2022-08-24 23:48:29,@tnipri Ill dig into this more tomorrow and try to reproduce. Could you at least share the model and the relationship tuples that you produce the issue with? That would help a lot.
188,codecov-commenter,2022-08-25 22:19:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/188?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#188](https://codecov.io/gh/openfga/openfga/pull/188?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cad0044) into [main](https://codecov.io/gh/openfga/openfga/commit/905cf9f5ea4f7999c6aa82961aa938d7f78721df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (905cf9f) will **increase** coverage by `0.02%`.
> The diff coverage is `41.89%`.

```diff
@@            Coverage Diff             @@
##             main     #188      +/-   ##
==========================================
+ Coverage   75.19%   75.22%   +0.02%     
==========================================
  Files          79       78       -1     
  Lines        8845     8811      -34     
==========================================
- Hits         6651     6628      -23     
+ Misses       1788     1780       -8     
+ Partials      406      403       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/188?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <0.00%> (ø)` | |
| [server/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL2F1dGhuLmdv) | `21.42% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <44.44%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.54% <57.89%> (+0.10%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.39% <61.53%> (-3.44%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `94.08% <100.00%> (+2.15%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/188/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
182,aaguiarz,2022-08-26 12:52:45,"Hi @NexZhu 

Thanks for the feedback. We are considering doing a SDK-level implementation of batching first, where we could execute requests in parallel.

How would you expect an API for batch checks to behave? 

Thanks!
"
184,jon-whit,2022-08-26 15:31:22,"> While the `method` is arguably wrong (it's Check itself that produced the metric) you can correlate that the parent of the Check came from ListObjects via the `requestID` field.
> 
> With the iteration work being discussed for ListObjects I don't think there is the need to adjust this immediately.

I agree with this. To me, this is a matter of distributed tracing with correlations between ListObjects --> Check. The DB Read metrics are still tightly bound to the Check API, since Check is the delegate in this case anyways. In the future when ListObjects is implemented using reverse expansion, then we'll have read metrics unique to the ListObjects endpoint."
192,codecov-commenter,2022-08-26 23:16:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/192?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#192](https://codecov.io/gh/openfga/openfga/pull/192?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (23fad44) into [main](https://codecov.io/gh/openfga/openfga/commit/2dfe665dbd8889c138cfa75c13b960d06e535876?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2dfe665) will **decrease** coverage by `0.24%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #192      +/-   ##
==========================================
- Coverage   75.73%   75.49%   -0.25%     
==========================================
  Files          79       78       -1     
  Lines        8897     8854      -43     
==========================================
- Hits         6738     6684      -54     
- Misses       1762     1779      +17     
+ Partials      397      391       -6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/192?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/192/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <100.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/192/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `76.27% <0.00%> (-10.74%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/192/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.26% <0.00%> (-0.65%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/192/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.55% <0.00%> (-0.29%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,miparnisari,2022-08-27 00:08:23,"Also, what storage are you using? `memory` or `postgres`?"
193,codecov-commenter,2022-08-27 00:20:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/193?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#193](https://codecov.io/gh/openfga/openfga/pull/193?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b8e7b3f) into [main](https://codecov.io/gh/openfga/openfga/commit/703ca7226f5819b6eaa1673f791b67830aff22c1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (703ca72) will **increase** coverage by `0.01%`.
> The diff coverage is `50.00%`.

```diff
@@            Coverage Diff             @@
##             main     #193      +/-   ##
==========================================
+ Coverage   75.74%   75.75%   +0.01%     
==========================================
  Files          79       79              
  Lines        8896     8897       +1     
==========================================
+ Hits         6738     6740       +2     
+ Misses       1761     1760       -1     
  Partials      397      397              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/193?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/193/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.90% <50.00%> (-0.50%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/193/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/193/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.11% <0.00%> (+0.84%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
194,craigpastro,2022-08-27 01:10:08,"Unit tests always fail! Need to merge https://github.com/openfga/openfga/pull/192 first, which hopefully helps."
195,codecov-commenter,2022-08-27 01:11:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/195?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#195](https://codecov.io/gh/openfga/openfga/pull/195?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3b14c41) into [main](https://codecov.io/gh/openfga/openfga/commit/905cf9f5ea4f7999c6aa82961aa938d7f78721df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (905cf9f) will **increase** coverage by `0.01%`.
> The diff coverage is `41.89%`.

```diff
@@            Coverage Diff             @@
##             main     #195      +/-   ##
==========================================
+ Coverage   75.19%   75.21%   +0.01%     
==========================================
  Files          79       78       -1     
  Lines        8845     8811      -34     
==========================================
- Hits         6651     6627      -24     
+ Misses       1788     1781       -7     
+ Partials      406      403       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/195?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <0.00%> (ø)` | |
| [server/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL2F1dGhuLmdv) | `21.42% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <44.44%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.54% <57.89%> (+0.10%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.39% <61.53%> (-3.44%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `94.08% <100.00%> (+2.15%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.99% <0.00%> (-0.29%)` | :arrow_down: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/195/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,tnipri,2022-08-27 02:45:53,"Thanks @jon-whit. Here is the model as taken from openfga playground:

```
type organization
  relations
    define can_change_owner as owner
    define can_delete_organization as owner
    define can_delete_user as owner
    define can_invite_user as owner
    define can_read as owner or member
    define can_read_members as owner or member
    define member as self or owner
    define owner as self

type user
  relations
    define can_read as owner or member from parent_organization
    define owner as self
    define parent_organization as self
```


@miparnisari - I'm using postgres. I used the migration tool from ver 0.1.7 to initialize the pg database"
176,tnipri,2022-08-27 03:01:59,"@jon-whit forgot to add the relation tuples. It's super basic:

user: user:9
relation: owner
object: organization:14

user: organization:14
relation: parent_organization
object: user:9"
196,codecov-commenter,2022-08-27 03:48:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/196?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#196](https://codecov.io/gh/openfga/openfga/pull/196?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b6c9f75) into [main](https://codecov.io/gh/openfga/openfga/commit/905cf9f5ea4f7999c6aa82961aa938d7f78721df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (905cf9f) will **increase** coverage by `0.02%`.
> The diff coverage is `41.89%`.

```diff
@@            Coverage Diff             @@
##             main     #196      +/-   ##
==========================================
+ Coverage   75.19%   75.22%   +0.02%     
==========================================
  Files          79       78       -1     
  Lines        8845     8811      -34     
==========================================
- Hits         6651     6628      -23     
+ Misses       1788     1780       -8     
+ Partials      406      403       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/196?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <0.00%> (ø)` | |
| [server/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL2F1dGhuLmdv) | `21.42% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <44.44%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.54% <57.89%> (+0.10%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.39% <61.53%> (-3.44%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `94.08% <100.00%> (+2.15%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/196/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
182,NexZhu,2022-08-27 09:52:40,"Well I've wrap the SDK like that for my usage for now, but batching in one HTTP request wil be better, This feature is important for something like an API endpoint to request a big list of resources, which should all be checked for permission and filtered.

I think API for batch checks can simply take an array of tuples and return an array of results in the same order. Also for some scenario, users may only be interested in if all the checks passed / if any of the checks passed, we can provide checkAll/checkAny APIs or options to control the behavior. For example, for `checkAll` request, OpenFGA can return `false` as soon as one check results in `false`. For now, I've wrap the SDK to do this:

```ts
  checkAllTuples<Type extends ObjectType>(
    args: AuthzArg<Type>[],
  ): EitherAsync<ErrOpenfgaRequestFailed, boolean> {
    return EitherAsync.all(args.map((arg) => this.check(arg)))
      .mapLeft((err) => new ErrOpenfgaRequestFailed({ cause: err }))
      .map((results) => !results.includes(false))
  }

  checkSomeTuples(
    args: AuthzArg<ObjectType>[],
  ): EitherAsync<ErrOpenfgaRequestFailed, boolean> {
    return EitherAsync<ErrOpenfgaRequestFailed, boolean>(async () => {
      try {
        await Promise.any(
          args.map((arg) =>
            this.check(arg).then((result) => {
              if (!result) {
                // eslint-disable-next-line no-throw-literal
                throw false // Throw false to indicate that one check result is false
              }
              return Promise.resolve()
            }),
          ),
        )
        return true
      } catch (e) {
        // If one check result is false, return false
        if (e === false) {
          return false
        }
        // Request error
        throw e
      }
    }).mapLeft((err) => new ErrOpenfgaRequestFailed({ cause: err }))
  }
```"
146,codecov-commenter,2022-08-28 15:14:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/146?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#146](https://codecov.io/gh/openfga/openfga/pull/146?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (61f5f95) into [main](https://codecov.io/gh/openfga/openfga/commit/37445455034344f3f2a8c199fe0a9da3b14657fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3744545) will **increase** coverage by `0.39%`.
> The diff coverage is `40.62%`.

```diff
@@            Coverage Diff             @@
##             main     #146      +/-   ##
==========================================
+ Coverage   75.24%   75.63%   +0.39%     
==========================================
  Files          78       78              
  Lines        8811     8801      -10     
==========================================
+ Hits         6630     6657      +27     
+ Misses       1779     1749      -30     
+ Partials      402      395       -7     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/146?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/146/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `50.00% <33.33%> (-0.53%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/146/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <36.17%> (+13.06%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/146/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.32% <100.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/146/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `64.76% <100.00%> (+0.22%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/146/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,jon-whit,2022-08-28 17:30:15,"@tnipri Using `v0.0.2` of the Javascript `@openfga/sdk` and with the authorization model and tuples above, I cannot reproduce on `v0.2.0` of the OpenFGA server.

To further troubleshoot the issue you are seeing, would you please provide a video screen capture using QuickTime or something similar to demonstrate the issue you are seeing?

Additionally, what OS and version of the OS are you running? What docker client version are you using? Any other environmental context would help us troubleshoot the issue."
197,codecov-commenter,2022-08-28 19:55:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/197?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.66**% // Head: **83.66**% // Decreases project coverage by **`-0.00%`** :warning:
> Coverage data is based on head [(`09cecd8`)](https://codecov.io/gh/openfga/openfga/pull/197?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`30f72cb`)](https://codecov.io/gh/openfga/openfga/commit/30f72cb191a7c187b1544f641fc8de5ad84d8c66?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 96.49% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #197      +/-   ##
==========================================
- Coverage   83.66%   83.66%   -0.01%     
==========================================
  Files          85       85              
  Lines       13611    13666      +55     
==========================================
+ Hits        11388    11433      +45     
- Misses       1852     1859       +7     
- Partials      371      374       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/197?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `33.33% <ø> (ø)` | |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <0.00%> (+3.17%)` | :arrow_up: |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `89.36% <95.00%> (+4.17%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `95.28% <100.00%> (+0.09%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.19% <0.00%> (-1.28%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.69% <0.00%> (-0.72%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/197/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.60% <0.00%> (-0.55%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/197?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
192,elbuo8,2022-08-28 20:31:58,@jon-whit agreed. Particularly if want them to run concurrently. But don't think these changes should be blocked until that lands.
187,rhamzeh,2022-08-29 13:36:34,"> Since version does not belong in the app config, I don't think the migrate command should be reading values from the app config.yaml

Can we at least read the other common variables from config? It would be very confusing if something was modified there but not here."
187,rhamzeh,2022-08-29 13:38:26,"> `version` and `OPENFGA_VERSION`

These are very vague terms, what are they referencing? OpenFGA version? The tag? The commit hash?

Can we use `db-schema-version` and `OPENFGA_DB_SCHEMA_VERSION` instead (or something along those lines)?"
199,codecov-commenter,2022-08-29 18:26:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/199?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#199](https://codecov.io/gh/openfga/openfga/pull/199?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d396770) into [main](https://codecov.io/gh/openfga/openfga/commit/2dfe665dbd8889c138cfa75c13b960d06e535876?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2dfe665) will **increase** coverage by `0.01%`.
> The diff coverage is `47.61%`.

```diff
@@            Coverage Diff             @@
##             main     #199      +/-   ##
==========================================
+ Coverage   75.73%   75.74%   +0.01%     
==========================================
  Files          79       79              
  Lines        8897     8902       +5     
==========================================
+ Hits         6738     6743       +5     
  Misses       1762     1762              
  Partials      397      397              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.90% <ø> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.17% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <14.28%> (ø)` | |
| [storage/errors.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9lcnJvcnMuZ28=) | `60.00% <66.66%> (ø)` | |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <100.00%> (+5.49%)` | :arrow_up: |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <100.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/199/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
202,codecov-commenter,2022-08-29 18:26:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/202?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#202](https://codecov.io/gh/openfga/openfga/pull/202?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (5a3aa1f) into [main](https://codecov.io/gh/openfga/openfga/commit/37445455034344f3f2a8c199fe0a9da3b14657fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3744545) will **increase** coverage by `0.54%`.
> The diff coverage is `77.90%`.

```diff
@@            Coverage Diff             @@
##             main     #202      +/-   ##
==========================================
+ Coverage   75.24%   75.79%   +0.54%     
==========================================
  Files          78       79       +1     
  Lines        8811     8890      +79     
==========================================
+ Hits         6630     6738     +108     
+ Misses       1779     1756      -23     
+ Partials      402      396       -6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/202?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `38.46% <ø> (-32.28%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `50.00% <25.00%> (-0.53%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <36.17%> (+13.06%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.39% <78.57%> (-2.01%)` | :arrow_down: |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `85.71% <85.71%> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <90.90%> (-8.25%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `94.82% <100.00%> (+0.18%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <100.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <100.00%> (-0.33%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `85.37% <100.00%> (ø)` | |
| ... and [8 more](https://codecov.io/gh/openfga/openfga/pull/202/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
198,codecov-commenter,2022-08-29 19:22:00,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/198?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#198](https://codecov.io/gh/openfga/openfga/pull/198?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4b64620) into [main](https://codecov.io/gh/openfga/openfga/commit/37445455034344f3f2a8c199fe0a9da3b14657fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3744545) will **increase** coverage by `0.51%`.
> The diff coverage is `76.08%`.

```diff
@@            Coverage Diff             @@
##             main     #198      +/-   ##
==========================================
+ Coverage   75.24%   75.76%   +0.51%     
==========================================
  Files          78       79       +1     
  Lines        8811     8896      +85     
==========================================
+ Hits         6630     6740     +110     
+ Misses       1779     1760      -19     
+ Partials      402      396       -6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/198?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `38.46% <ø> (-32.28%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `50.00% <25.00%> (-0.53%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <36.17%> (+13.06%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `32.40% <50.00%> (+0.01%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.39% <78.57%> (-2.01%)` | :arrow_down: |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `85.71% <85.71%> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <90.90%> (-8.25%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `94.82% <100.00%> (+0.18%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <100.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <100.00%> (-0.33%)` | :arrow_down: |
| ... and [9 more](https://codecov.io/gh/openfga/openfga/pull/198/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
201,codecov-commenter,2022-08-29 19:22:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/201?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#201](https://codecov.io/gh/openfga/openfga/pull/201?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (799f61d) into [main](https://codecov.io/gh/openfga/openfga/commit/37445455034344f3f2a8c199fe0a9da3b14657fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3744545) will **increase** coverage by `0.62%`.
> The diff coverage is `77.90%`.

```diff
@@            Coverage Diff             @@
##             main     #201      +/-   ##
==========================================
+ Coverage   75.24%   75.87%   +0.62%     
==========================================
  Files          78       79       +1     
  Lines        8811     8890      +79     
==========================================
+ Hits         6630     6745     +115     
+ Misses       1779     1751      -28     
+ Partials      402      394       -8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/201?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `38.46% <ø> (-32.28%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `50.00% <25.00%> (-0.53%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <36.17%> (+13.06%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.39% <78.57%> (-2.01%)` | :arrow_down: |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `85.71% <85.71%> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <90.90%> (-8.25%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `94.82% <100.00%> (+0.18%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.67% <100.00%> (+0.84%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <100.00%> (-0.33%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `85.37% <100.00%> (ø)` | |
| ... and [11 more](https://codecov.io/gh/openfga/openfga/pull/201/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
203,codecov-commenter,2022-08-30 00:37:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/203?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#203](https://codecov.io/gh/openfga/openfga/pull/203?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2cbfd28) into [main](https://codecov.io/gh/openfga/openfga/commit/263be0695bcc5ed31b1037efd2f702fdfc76a259?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (263be06) will **decrease** coverage by `75.10%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main    #203       +/-   ##
==========================================
- Coverage   75.81%   0.71%   -75.11%     
==========================================
  Files          78      54       -24     
  Lines        8849    4633     -4216     
==========================================
- Hits         6709      33     -6676     
- Misses       1752    4596     +2844     
+ Partials      388       4      -384     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/203?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/utils/utils.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3V0aWxzL3V0aWxzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2dhdGV3YXkvZ2F0ZXdheS5nbw==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL21pZGRsZXdhcmUvYXV0aG4uZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `0.00% <0.00%> (-94.12%)` | :arrow_down: |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `0.00% <0.00%> (-94.09%)` | :arrow_down: |
| ... and [62 more](https://codecov.io/gh/openfga/openfga/pull/203/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
194,codecov-commenter,2022-08-30 16:30:45,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/194?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#194](https://codecov.io/gh/openfga/openfga/pull/194?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e98c4f1) into [main](https://codecov.io/gh/openfga/openfga/commit/2dfe665dbd8889c138cfa75c13b960d06e535876?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2dfe665) will **decrease** coverage by `75.02%`.
> The diff coverage is `16.12%`.

```diff
@@            Coverage Diff             @@
##             main    #194       +/-   ##
==========================================
- Coverage   75.73%   0.70%   -75.03%     
==========================================
  Files          79      55       -24     
  Lines        8897    4676     -4221     
==========================================
- Hits         6738      33     -6705     
- Misses       1762    4639     +2877     
+ Partials      397       4      -393     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/194?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `0.00% <0.00%> (-87.01%)` | :arrow_down: |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `0.00% <ø> (-62.50%)` | :arrow_down: |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `0.00% <0.00%> (-50.91%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `0.00% <ø> (-31.91%)` | :arrow_down: |
| [storage/errors.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9lcnJvcnMuZ28=) | `0.00% <0.00%> (-60.00%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `0.00% <0.00%> (-90.18%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `0.00% <0.00%> (-64.77%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `42.30% <100.00%> (-29.13%)` | :arrow_down: |
| ... and [73 more](https://codecov.io/gh/openfga/openfga/pull/194/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
204,codecov-commenter,2022-08-30 16:34:17,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/204?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#204](https://codecov.io/gh/openfga/openfga/pull/204?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (fa02d0c) into [main](https://codecov.io/gh/openfga/openfga/commit/2dfe665dbd8889c138cfa75c13b960d06e535876?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (2dfe665) will **decrease** coverage by `0.00%`.
> The diff coverage is `47.61%`.

```diff
@@            Coverage Diff             @@
##             main     #204      +/-   ##
==========================================
- Coverage   75.73%   75.72%   -0.01%     
==========================================
  Files          79       79              
  Lines        8897     8902       +5     
==========================================
+ Hits         6738     6741       +3     
- Misses       1762     1763       +1     
- Partials      397      398       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/204?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.90% <ø> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.17% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.00% <14.28%> (ø)` | |
| [storage/errors.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9lcnJvcnMuZ28=) | `60.00% <66.66%> (ø)` | |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <100.00%> (+5.49%)` | :arrow_up: |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <100.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/204/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
187,craigpastro,2022-08-30 17:11:38,"> Can we at least read the other common variables from config? It would be very confusing if something was modified there but not here.

I can't imagine what other config variables would apply here. We could separate the datastore flags and apply these both to run and migrate. This will prevent them changing independently.

> These are very vague terms, what are they referencing? OpenFGA version? The tag? The commit hash?

My thought with the cli interface is that each command has its own flags/env vars and they are not related to each other. I wasn't expected flags that work for run to work for migrate unless explicitly mentioned that they do so. In that case, I think version makes sense here because it is related only to the migrate command. I am curious what other people think.

That said, I am not opposed to using `db-schema-version` if you think it adds clarity. It just conflicts with `datastore` which we are using everywhere else, and `datastore-schema-version` is getting pretty long... but it is also okay."
206,jon-whit,2022-08-31 15:35:05,"We can't run tests in parallel yet because our server code has race conditions on shared globals with packages we depend on :( .

https://github.com/openfga/openfga/blob/main/server/server.go#L150
https://github.com/openfga/openfga/blob/main/server/server.go#L528

We need to refactor to avoid the races on these. Ideally `New()` is a singleton depending on no shared globals. `Run()`, ideally, also shouldn't depend on shared variables across packages."
176,miparnisari,2022-08-31 17:36:33,@tnipri would you mind pulling the latest version of the Docker image? It should log more details about the internal server error. Thank you!
209,codecov-commenter,2022-09-01 00:21:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/209?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#209](https://codecov.io/gh/openfga/openfga/pull/209?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4fb0bc6) into [main](https://codecov.io/gh/openfga/openfga/commit/b2bba79dcdd07943848137cafa591b85a3e785a6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (b2bba79) will **decrease** coverage by `0.12%`.
> The diff coverage is `75.00%`.

```diff
@@            Coverage Diff             @@
##             main     #209      +/-   ##
==========================================
- Coverage   75.96%   75.83%   -0.13%     
==========================================
  Files          78       78              
  Lines        8849     8849              
==========================================
- Hits         6722     6711      -11     
- Misses       1742     1748       +6     
- Partials      385      390       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/209?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `31.26% <75.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.71% <0.00%> (-2.25%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.16% <0.00%> (-1.39%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <0.00%> (-0.63%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/209/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
210,CLAassistant,2022-09-01 14:23:01,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=210) <br/>All committers have signed the CLA.
211,codecov-commenter,2022-09-01 23:31:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/211?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#211](https://codecov.io/gh/openfga/openfga/pull/211?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3a78932) into [main](https://codecov.io/gh/openfga/openfga/commit/e3e0cf885cbaac18c8c01829836d9b2091fe525f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e3e0cf8) will **increase** coverage by `0.11%`.
> The diff coverage is `90.10%`.

```diff
@@            Coverage Diff             @@
##             main     #211      +/-   ##
==========================================
+ Coverage   76.62%   76.73%   +0.11%     
==========================================
  Files          79       80       +1     
  Lines        8804     8790      -14     
==========================================
- Hits         6746     6745       -1     
+ Misses       1700     1691       -9     
+ Partials      358      354       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/211?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `30.87% <ø> (+0.20%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (ø)` | |
| [server/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL21pZGRsZXdhcmUvbG9nZ2luZy5nbw==) | `33.33% <33.33%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `87.07% <100.00%> (+0.07%)` | :arrow_up: |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `94.23% <100.00%> (+0.37%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.26% <100.00%> (ø)` | |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (+2.53%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.99% <0.00%> (ø)` | |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/211/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
212,codecov-commenter,2022-09-01 23:35:01,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/212?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#212](https://codecov.io/gh/openfga/openfga/pull/212?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (3a3d2dc) into [main](https://codecov.io/gh/openfga/openfga/commit/6aceea464737c5579a3b555ebeb7427084530260?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6aceea4) will **increase** coverage by `0.03%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #212      +/-   ##
==========================================
+ Coverage   75.82%   75.86%   +0.03%     
==========================================
  Files          78       78              
  Lines        8849     8849              
==========================================
+ Hits         6710     6713       +3     
+ Misses       1751     1747       -4     
- Partials      388      389       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/212?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/212/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `79.54% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/212/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/212/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
213,codecov-commenter,2022-09-02 00:34:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/213?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#213](https://codecov.io/gh/openfga/openfga/pull/213?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6726297) into [main](https://codecov.io/gh/openfga/openfga/commit/62528d39eb071bb6d6bdba0f1f8f3ba245f32854?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (62528d3) will **increase** coverage by `0.05%`.
> The diff coverage is `47.05%`.

```diff
@@            Coverage Diff             @@
##             main     #213      +/-   ##
==========================================
+ Coverage   76.60%   76.65%   +0.05%     
==========================================
  Files          78       79       +1     
  Lines        8745     8744       -1     
==========================================
+ Hits         6699     6703       +4     
+ Misses       1689     1684       -5     
  Partials      357      357              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/213?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/health/health.go](https://codecov.io/gh/openfga/openfga/pull/213/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2hlYWx0aC9oZWFsdGguZ28=) | `43.75% <43.75%> (ø)` | |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/213/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `30.66% <100.00%> (-0.60%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/213/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
210,codecov-commenter,2022-09-03 17:38:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/210?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#210](https://codecov.io/gh/openfga/openfga/pull/210?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (110da20) into [main](https://codecov.io/gh/openfga/openfga/commit/e3e0cf885cbaac18c8c01829836d9b2091fe525f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e3e0cf8) will **decrease** coverage by `0.69%`.
> The diff coverage is `66.46%`.

```diff
@@            Coverage Diff             @@
##             main     #210      +/-   ##
==========================================
- Coverage   76.62%   75.92%   -0.70%     
==========================================
  Files          79       83       +4     
  Lines        8804     9642     +838     
==========================================
+ Hits         6746     7321     +575     
- Misses       1700     1899     +199     
- Partials      358      422      +64     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/210?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `82.35% <0.00%> (-4.66%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `62.24% <62.24%> (ø)` | |
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `72.58% <72.58%> (ø)` | |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `81.61% <81.61%> (ø)` | |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.19% <83.19%> (ø)` | |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `66.66% <100.00%> (+9.52%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.90% <0.00%> (+0.62%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (+1.26%)` | :arrow_up: |
| ... and [3 more](https://codecov.io/gh/openfga/openfga/pull/210/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
214,codecov-commenter,2022-09-05 18:43:53,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/214?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#214](https://codecov.io/gh/openfga/openfga/pull/214?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (d477b5e) into [main](https://codecov.io/gh/openfga/openfga/commit/cac231c7e5522f56e8f8f9163927940e8635751a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (cac231c) will **decrease** coverage by `0.11%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #214      +/-   ##
==========================================
- Coverage   75.95%   75.83%   -0.12%     
==========================================
  Files          78       78              
  Lines        8849     8849              
==========================================
- Hits         6721     6711      -10     
- Misses       1743     1748       +5     
- Partials      385      390       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/214?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.71% <0.00%> (-1.97%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `79.16% <0.00%> (-1.39%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <0.00%> (-0.63%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/214/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
216,codecov-commenter,2022-09-06 20:55:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/216?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#216](https://codecov.io/gh/openfga/openfga/pull/216?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (6d6c1cf) into [main](https://codecov.io/gh/openfga/openfga/commit/433416873ae40d1fa84ab9dbdcc75ab8d963c62a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (4334168) will **increase** coverage by `0.06%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #216      +/-   ##
==========================================
+ Coverage   75.90%   75.97%   +0.06%     
==========================================
  Files          78       78              
  Lines        8845     8845              
==========================================
+ Hits         6714     6720       +6     
+ Misses       1746     1740       -6     
  Partials      385      385              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/216?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/216/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (+0.28%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/216/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
218,codecov-commenter,2022-09-06 22:35:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/218?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#218](https://codecov.io/gh/openfga/openfga/pull/218?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (1a958c7) into [main](https://codecov.io/gh/openfga/openfga/commit/c295734259c0589096ba450310fc8456e345fc8e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c295734) will **increase** coverage by `0.60%`.
> The diff coverage is `97.37%`.

```diff
@@            Coverage Diff             @@
##             main     #218      +/-   ##
==========================================
+ Coverage   76.04%   76.64%   +0.60%     
==========================================
  Files          78       78              
  Lines        8845     8745     -100     
==========================================
- Hits         6726     6703      -23     
+ Misses       1737     1685      -52     
+ Partials      382      357      -25     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/218?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <33.33%> (ø)` | |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `93.85% <75.00%> (+0.10%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <75.00%> (-0.63%)` | :arrow_down: |
| [storage/test/authz\_models.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L2F1dGh6X21vZGVscy5nbw==) | `94.14% <98.38%> (+32.39%)` | :arrow_up: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.13% <100.00%> (-0.05%)` | :arrow_down: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `79.54% <100.00%> (ø)` | |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `96.37% <100.00%> (ø)` | |
| [server/test/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVsLmdv) | `96.10% <100.00%> (-0.29%)` | :arrow_down: |
| [server/test/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVscy5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [10 more](https://codecov.io/gh/openfga/openfga/pull/218/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
219,codecov-commenter,2022-09-07 20:52:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/219?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#219](https://codecov.io/gh/openfga/openfga/pull/219?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (64a55b4) into [main](https://codecov.io/gh/openfga/openfga/commit/184e1910b54d99879a2980c4483797db1e278c2b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (184e191) will **decrease** coverage by `0.04%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #219      +/-   ##
==========================================
- Coverage   76.81%   76.76%   -0.05%     
==========================================
  Files          80       80              
  Lines        8790     8790              
==========================================
- Hits         6752     6748       -4     
- Misses       1687     1689       +2     
- Partials      351      353       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/219?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.26% <0.00%> (-1.32%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <0.00%> (-0.63%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (-0.29%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/219/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
220,codecov-commenter,2022-09-08 01:45:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/220?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#220](https://codecov.io/gh/openfga/openfga/pull/220?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c2e5058) into [main](https://codecov.io/gh/openfga/openfga/commit/86f31f568823e3c651080538ce3b9e63b47b7ff7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (86f31f5) will **decrease** coverage by `76.05%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main    #220       +/-   ##
==========================================
- Coverage   76.76%   0.70%   -76.06%     
==========================================
  Files          79      55       -24     
  Lines        8804    4694     -4110     
==========================================
- Hits         6758      33     -6725     
- Misses       1691    4657     +2966     
+ Partials      355       4      -351     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/220?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/utils/utils.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3V0aWxzL3V0aWxzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2dhdGV3YXkvZ2F0ZXdheS5nbw==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL21pZGRsZXdhcmUvYXV0aG4uZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `0.00% <0.00%> (-94.54%)` | :arrow_down: |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `0.00% <0.00%> (-94.09%)` | :arrow_down: |
| ... and [63 more](https://codecov.io/gh/openfga/openfga/pull/220/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
220,craigpastro,2022-09-08 16:45:36,Whoops. I didn't realize one of them was a Testable Example which needs the fmt. I'll close this for now.
221,codecov-commenter,2022-09-08 23:04:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/221?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#221](https://codecov.io/gh/openfga/openfga/pull/221?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (a50a9b6) into [main](https://codecov.io/gh/openfga/openfga/commit/86f31f568823e3c651080538ce3b9e63b47b7ff7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (86f31f5) will **decrease** coverage by `76.05%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main    #221       +/-   ##
==========================================
- Coverage   76.76%   0.70%   -76.06%     
==========================================
  Files          79      55       -24     
  Lines        8804    4694     -4110     
==========================================
- Hits         6758      33     -6725     
- Misses       1691    4657     +2966     
+ Partials      355       4      -351     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/221?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/utils/utils.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3V0aWxzL3V0aWxzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2dhdGV3YXkvZ2F0ZXdheS5nbw==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL21pZGRsZXdhcmUvYXV0aG4uZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `0.00% <0.00%> (-94.54%)` | :arrow_down: |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `0.00% <0.00%> (-94.09%)` | :arrow_down: |
| ... and [63 more](https://codecov.io/gh/openfga/openfga/pull/221/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
210,craigpastro,2022-09-08 23:42:57,"Oh, could you please add a line near the bottom of the readme that says something along the lines of:

> OpenFGA's MySQL Storage Adapter was contributed to OpenFGA by @MidasLamb. Auth0 is not using it in a production environment.

Just so people know that it may not be production ready. Of course, if you are using it in production let us know!
"
176,OysteinVesth,2022-09-09 06:00:43,"We are experiencing the exact same issue using this image `openfga/openfga:v0.2.1`. It works for a while then suddenly stops, I can make it start again by calling the `/stores` endpoint a few times. I think I actually got an `Deadline passed` message from the server, but have to wait until the next time it fails to be sure.

From the logs:
```bash
2022-09-09T05:38:22.065Z        INFO    db_stats        {""method"": ""ListStores"", ""reads"": 1, ""writes"": 0}
2022-09-09T05:38:25.068Z        ERROR   grpc_error      {""error"": ""rpc error: code = Unknown desc = rpc error: code = Code(4000) desc = Internal Server Error"", ""request_url"": ""/stores""}
github.com/openfga/openfga/pkg/logger.(*ZapLogger).ErrorWithContext
        /home/runner/work/openfga/openfga/pkg/logger/logger.go:80
github.com/openfga/openfga/server.New.func1
        /home/runner/work/openfga/openfga/server/server.go:143
github.com/grpc-ecosystem/grpc-gateway/v2/runtime.HTTPError
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.11.2/runtime/errors.go:81
go.buf.build/openfga/go/openfga/api/openfga/v1.RegisterOpenFGAServiceHandlerClient.func15
        /home/runner/go/pkg/mod/go.buf.build/openfga/go/openfga/api@v1.2.28/openfga/v1/openfga_service.pb.gw.go:1843
github.com/grpc-ecosystem/grpc-gateway/v2/runtime.(*ServeMux).ServeHTTP
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.11.2/runtime/mux.go:386
github.com/rs/cors.(*Cors).Handler.func1
        /home/runner/go/pkg/mod/github.com/rs/cors@v1.8.2/cors.go:231
net/http.HandlerFunc.ServeHTTP
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:2084
net/http.serverHandler.ServeHTTP
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:2916
net/http.(*conn).serve
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:1966
```

Our container is running in k8s and we're using the postgres engine with postgres v10. I've used curl to call the API endpoints. 
Just let me know if you need any more info!"
210,MidasLamb,2022-09-09 13:40:47,"> Oh, could you please add a line near the bottom of the readme that says something along the lines of:
> 
> > OpenFGA's MySQL Storage Adapter was contributed to OpenFGA by @MidasLamb. Auth0 is not using it in a production environment.
> 
> Just so people know that it may not be production ready. Of course, if you are using it in production let us know!

I've added a line that says that @twintag has contributed it, as that's my employer and I'm doing this as part of my job, normally relatively soon after this has been merged, we'd be using it in production, we're getting in the finishing touches  of our initial store/schema currently. 
Once it's live in production I'll make another PR to update this line to say that we're using it as such!"
210,craigpastro,2022-09-09 22:19:55,@MidasLamb could you please also add a `make run-mysql` and a `make migrate-mysql` to the [Makefile](https://github.com/openfga/openfga/blob/main/Makefile). Thanks!
210,miparnisari,2022-09-10 00:02:24,Also can you update https://github.com/openfga/openfga/blob/main/.config-schema.json#L65?
176,craigpastro,2022-09-10 01:46:42,"Hi @OysteinVesth ! Thanks for the report. We had a bug where we were not properly logging the internal errors so it is quite difficult to figure out what is going on. A [fix](https://github.com/openfga/openfga/pull/222) has been merged to main today, and we'll try to cut a new release soon. If it is possible to use main then that may help to track down what is happening.

What this sounds like (and looks like from the error, but really it could be anything) is that OpenFGA is losing its connection to Postgres, then reconnecting. Is that possible?"
176,OysteinVesth,2022-09-10 07:35:12,"Thanks for the response @craigpastro! We are using Aurora serverless for our postgres db, so that is probably the case. 
Is this expected behavior? Is there any way we can mitigate it?"
224,codecov-commenter,2022-09-11 03:14:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/224?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#224](https://codecov.io/gh/openfga/openfga/pull/224?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (c02e18b) into [main](https://codecov.io/gh/openfga/openfga/commit/60bd76d99b031991e66d6ffb89e01c454e9d1f4c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (60bd76d) will **increase** coverage by `0.19%`.
> The diff coverage is `100.00%`.

```diff
@@            Coverage Diff             @@
##             main     #224      +/-   ##
==========================================
+ Coverage   76.72%   76.91%   +0.19%     
==========================================
  Files          80       80              
  Lines        8790     8847      +57     
==========================================
+ Hits         6744     6805      +61     
+ Misses       1693     1689       -4     
  Partials      353      353              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/224?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/224/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `94.23% <100.00%> (ø)` | |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/224/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (ø)` | |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/224/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/224/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (ø)` | |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/224/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
225,codecov-commenter,2022-09-11 17:53:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/225?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.74**% // Head: **77.63**% // Decreases project coverage by **`-0.11%`** :warning:
> Coverage data is based on head [(`b05eb9c`)](https://codecov.io/gh/openfga/openfga/pull/225?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`47554eb`)](https://codecov.io/gh/openfga/openfga/commit/47554ebff29d92652dc48f02a48c1dfd629adcb3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #225      +/-   ##
==========================================
- Coverage   77.74%   77.63%   -0.12%     
==========================================
  Files          81       81              
  Lines        8995     8995              
==========================================
- Hits         6993     6983      -10     
- Misses       1659     1667       +8     
- Partials      343      345       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/225?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <ø> (ø)` | |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `85.34% <ø> (ø)` | |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `72.58% <ø> (ø)` | |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <ø> (-0.71%)` | :arrow_down: |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `83.56% <100.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.03% <100.00%> (-0.62%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.75% <0.00%> (-1.25%)` | :arrow_down: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/225/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/225?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
176,craigpastro,2022-09-11 18:10:57,"Hi again @OysteinVesth. So a couple of us were able to reproduce this behaviour using serverless Aurora. Thanks again for bringing it to our attention.

I did some reading and what I think is happening is that after OpenFGA does something it will return the connection to the pool. After some time Aurora will close the connection, then when OpenFGA tries to use that connection again it ends up with a broken pipe error. pgx does not check whether the connection is dead at this point https://github.com/jackc/pgx/issues/74, hence the error. After it gets the error back it knows the connection is bad and can remove it from the pool. So the next request should work. At least that was my experience. Note pgx does not retry.

Possible mitigations:
- Upgrade to pgx v5 which calls `CheckConn()` on idle connections. v5 is in beta with an expected release this month (September). https://github.com/jackc/pgx/blob/v5-dev/CHANGELOG.md I've tried it out and so far cannot reproduce the error.
- Wrap each read in a transaction which has retries: https://github.com/jackc/pgx/issues/74. I'm not sure if that will affect performance. Haven't tried this yet.
- In Postgres connection config, set the max connection lifetime to be shorter than the time that Aurora closes the connection. This can be done by adding, for example, `?pool_max_conn_lifetime=5m&pool_max_conn_lifetime_jitter=1m` to the connection string. I've tried this and so far can't reproduce the error.

The last one is something you can try immediately. The first two will require an update to OpenFGA.

I'll be back if I think of anything else.
"
210,MidasLamb,2022-09-12 07:23:23,"> @MidasLamb could you please also add a `make run-mysql` and a `make migrate-mysql` to the [Makefile](https://github.com/openfga/openfga/blob/main/Makefile). Thanks!

Does the Makefile assume a database is present somehow? Or are the uris more of an example? It seems to match what's in the docker compose file, I can change that to also set up a mysql database next to the postgres one. Not sure what the preferred approach is here."
176,tnipri,2022-09-12 14:14:01,"Hey @miparnisari and @jon-whit , sorry for the delay - this issue happens randomly. I upgraded to 0.2.1 like you asked:

`starting openfga service...  {""version"": ""v0.2.1"", ""date"": ""2022-08-31T01:31:16Z"", ""commit"": ""2dfe665dbd8889c138cfa75c13b960d06e535876"", ""go-version"": ""go1.18.5""}`

The logs from the crash looks similar to the previous one:

`2022-09-12T13:43:32.155Z        INFO    db_stats        {""method"": ""Check"", ""reads"": 10, ""writes"": 0}
2022-09-12T13:59:02.517Z        ERROR   grpc_error      {""error"": ""rpc error: code = Unknown desc = rpc error: code = Code(4000) desc = Internal Server Error"", ""request_url"": ""/stores/01G9TE715A51EDP84Q7S9VH9CX/check""}
github.com/openfga/openfga/pkg/logger.(*ZapLogger).ErrorWithContext
        /home/runner/work/openfga/openfga/pkg/logger/logger.go:80
github.com/openfga/openfga/server.New.func1
        /home/runner/work/openfga/openfga/server/server.go:143
github.com/grpc-ecosystem/grpc-gateway/v2/runtime.HTTPError
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.11.2/runtime/errors.go:81
go.buf.build/openfga/go/openfga/api/openfga/v1.RegisterOpenFGAServiceHandlerClient.func3
        /home/runner/go/pkg/mod/go.buf.build/openfga/go/openfga/api@v1.2.28/openfga/v1/openfga_service.pb.gw.go:1591
github.com/grpc-ecosystem/grpc-gateway/v2/runtime.(*ServeMux).ServeHTTP
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/grpc-gateway/v2@v2.11.2/runtime/mux.go:386
github.com/rs/cors.(*Cors).Handler.func1
        /home/runner/go/pkg/mod/github.com/rs/cors@v1.8.2/cors.go:231
net/http.HandlerFunc.ServeHTTP
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:2084
net/http.serverHandler.ServeHTTP
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:2916
net/http.(*conn).serve
        /opt/hostedtoolcache/go/1.18.5/x64/src/net/http/server.go:1966
`

Please let me know if anything else is needed. 
"
227,codecov-commenter,2022-09-12 16:57:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/227?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.92**% // Head: **76.98**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`a6b38bb`)](https://codecov.io/gh/openfga/openfga/pull/227?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e3a3cc4`)](https://codecov.io/gh/openfga/openfga/commit/e3a3cc4bc601707dd1b4295837b6a2cb1d0fb796?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #227      +/-   ##
==========================================
+ Coverage   76.92%   76.98%   +0.05%     
==========================================
  Files          80       80              
  Lines        8876     8876              
==========================================
+ Hits         6828     6833       +5     
+ Misses       1695     1690       -5     
  Partials      353      353              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/227?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/227/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/227?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
210,craigpastro,2022-09-12 16:58:41,"> > @MidasLamb could you please also add a `make run-mysql` and a `make migrate-mysql` to the [Makefile](https://github.com/openfga/openfga/blob/main/Makefile). Thanks!
> 
> Does the Makefile assume a database is present somehow? Or are the uris more of an example? It seems to match what's in the docker compose file, I can change that to also set up a mysql database next to the postgres one. Not sure what the preferred approach is here.

Good point! I [created a PR](https://github.com/openfga/openfga/pull/227) that adds a `start-postgres-container` command to the Makefile and that container works with the `run-postgres` and `migrate-postgres` commands. I imagine something like this for MySQL as well to help with local development. WDYT?
"
231,codecov-commenter,2022-09-12 18:40:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/231?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#231](https://codecov.io/gh/openfga/openfga/pull/231?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (0ee21e7) into [main](https://codecov.io/gh/openfga/openfga/commit/8edfacac1b208fdae1b26f8d1f34ff5116877422?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (8edfaca) will **decrease** coverage by `0.06%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #231      +/-   ##
==========================================
- Coverage   76.96%   76.89%   -0.07%     
==========================================
  Files          80       80              
  Lines        8847     8847              
==========================================
- Hits         6809     6803       -6     
- Misses       1687     1690       +3     
- Partials      351      354       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/231?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.26% <0.00%> (-1.32%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.85%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <0.00%> (-0.63%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/231/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,craigpastro,2022-09-12 23:18:21,"Hi @tnipri ! Sorry about that, but I think the logs we have in 0.2.1 are not sufficient to see what exactly the problem is. Are you able to run the main branch where we have improved logging? If not we are planning a new release in the very near future.

In the meantime can you give me a bit more detail about how you are running OpenFGA. In particular, how are you running Postgres and what version are you running?

And, just so I understand correctly, you start OpenFGA and it runs fine for a little while.
1. Then, after an idle period, you send a request which results in an internal server error? Or does it just happen with no idle period?
2. After you get the first internal server error do all subsequent requests also fail? And the only way to get it working again is to restart OpenFGA?

Thank you for your help!
"
176,OysteinVesth,2022-09-13 07:12:04,"I might look into the last one @craigpastro.
The problem kind of fixed itself. I had forgot to add readiness/liveness probes to the OpenFGA pod. These ping the postgres db, so now it never reaches the 10 min `auto_pause` limit we've set in Aurora.

Anyway, thanks you so much for the detailed response!"
229,codecov-commenter,2022-09-13 16:03:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/229?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> Merging [#229](https://codecov.io/gh/openfga/openfga/pull/229?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (691c4e6) into [main](https://codecov.io/gh/openfga/openfga/commit/e84f647bdfbcfe1cadcdd752b575e2ffdace21fc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) (e84f647) will **decrease** coverage by `0.18%`.
> The diff coverage is `n/a`.

```diff
@@            Coverage Diff             @@
##             main     #229      +/-   ##
==========================================
- Coverage   77.09%   76.91%   -0.19%     
==========================================
  Files          80       80              
  Lines        8847     8847              
==========================================
- Hits         6821     6805      -16     
- Misses       1679     1689      +10     
- Partials      347      353       +6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/229?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-2.53%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.83% <0.00%> (-1.97%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.26% <0.00%> (-1.32%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.28% <0.00%> (-1.25%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/229/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)
"
176,tnipri,2022-09-13 20:33:29,"> Hi @tnipri ! Sorry about that, but I think the logs we have in 0.2.1 are not sufficient to see what exactly the problem is. Are you able to run the main branch where we have improved logging? If not we are planning a new release in the very near future.
> 
> In the meantime can you give me a bit more detail about how you are running OpenFGA. In particular, how are you running Postgres and what version are you running?
> 
> And, just so I understand correctly, you start OpenFGA and it runs fine for a little while.
> 
> 1. Then, after an idle period, you send a request which results in an internal server error? Or does it just happen with no idle period?
> 2. After you get the first internal server error do all subsequent requests also fail? And the only way to get it working again is to restart OpenFGA?
> 
> Thank you for your help!

I'm deploying openfga using docker, so I have to wait for a new version to give more accurate logs

I'm using postgres latest version (14), also deployed using docker.

1. It suddenly happens after an idle period.
2. All subsequent requests also fail. You are correct - only by restarting I can get it working again

Let me know if you need anything else!"
233,codecov-commenter,2022-09-14 00:03:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/233?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.86**% // Head: **76.96**% // Increases project coverage by **`+0.09%`** :tada:
> Coverage data is based on head [(`2b30c06`)](https://codecov.io/gh/openfga/openfga/pull/233?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bbfcfcb`)](https://codecov.io/gh/openfga/openfga/commit/bbfcfcb1d53fde756f764a22829a10d252183e47?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #233      +/-   ##
==========================================
+ Coverage   76.86%   76.96%   +0.09%     
==========================================
  Files          80       80              
  Lines        8847     8872      +25     
==========================================
+ Hits         6800     6828      +28     
+ Misses       1694     1690       -4     
- Partials      353      354       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/233?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/233/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/233/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.27% <0.00%> (-0.57%)` | :arrow_down: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/233/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/233?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
234,codecov-commenter,2022-09-14 03:42:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/234?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.91**% // Head: **77.02**% // Increases project coverage by **`+0.10%`** :tada:
> Coverage data is based on head [(`434d6c6`)](https://codecov.io/gh/openfga/openfga/pull/234?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0eca64b`)](https://codecov.io/gh/openfga/openfga/commit/0eca64b31a0825e2a4c5bbeaa129165d21bca19b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #234      +/-   ##
==========================================
+ Coverage   76.91%   77.02%   +0.10%     
==========================================
  Files          80       80              
  Lines        8873     8876       +3     
==========================================
+ Hits         6825     6837      +12     
+ Misses       1695     1687       -8     
+ Partials      353      352       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/234?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/234/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `23.88% <ø> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/234/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.77% <100.00%> (+0.94%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/234/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/234/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/234?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
176,craigpastro,2022-09-14 17:53:28,"Hi @tnipri ! I tried to replicate this by running Postgres:14 in a container with
```
$ docker run -d --name postgres -p 5432:5432 -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=password postgres:14
```
then running OpenFGA from the binary so I could get the new logs, but so far with no luck. Is there anything else you could add about your setup that would help? Sorry for asking so much.

Hopefully, we will cut a new release today, so if you could try that again after and report back that would be great!

Thanks!"
227,craigpastro,2022-09-15 16:22:16,I'm happy to make them less chatty. Anything in particular?
237,codecov-commenter,2022-09-15 19:43:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/237?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.92**% // Head: **76.98**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`6059891`)](https://codecov.io/gh/openfga/openfga/pull/237?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e3a3cc4`)](https://codecov.io/gh/openfga/openfga/commit/e3a3cc4bc601707dd1b4295837b6a2cb1d0fb796?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #237      +/-   ##
==========================================
+ Coverage   76.92%   76.98%   +0.05%     
==========================================
  Files          80       80              
  Lines        8876     8876              
==========================================
+ Hits         6828     6833       +5     
+ Misses       1695     1690       -5     
  Partials      353      353              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/237?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/237/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/237?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
239,codecov-commenter,2022-09-15 22:44:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/239?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.90**% // Head: **76.98**% // Increases project coverage by **`+0.07%`** :tada:
> Coverage data is based on head [(`fda942b`)](https://codecov.io/gh/openfga/openfga/pull/239?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6940694`)](https://codecov.io/gh/openfga/openfga/commit/69406949bbe20e3713be30ec8961321326a35d9a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #239      +/-   ##
==========================================
+ Coverage   76.90%   76.98%   +0.07%     
==========================================
  Files          80       80              
  Lines        8876     8876              
==========================================
+ Hits         6826     6833       +7     
+ Misses       1696     1690       -6     
+ Partials      354      353       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/239?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/239/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `80.60% <0.00%> (+1.21%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/239/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/239?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
232,codecov-commenter,2022-09-16 00:00:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/232?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.50**% // Head: **77.64**% // Increases project coverage by **`+0.14%`** :tada:
> Coverage data is based on head [(`16063dc`)](https://codecov.io/gh/openfga/openfga/pull/232?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6aca04a`)](https://codecov.io/gh/openfga/openfga/commit/6aca04aaaffc63a78a966c81496bf374265d02d7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 90.54% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #232      +/-   ##
==========================================
+ Coverage   77.50%   77.64%   +0.14%     
==========================================
  Files          81       81              
  Lines        8987     8995       +8     
==========================================
+ Hits         6965     6984      +19     
+ Misses       1675     1666       -9     
+ Partials      347      345       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/232?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/232/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `91.66% <88.52%> (+0.68%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/232/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `97.01% <100.00%> (+0.06%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/232/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.75% <100.00%> (+0.54%)` | :arrow_up: |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/232/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `86.66% <100.00%> (+20.87%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/232/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.94% <0.00%> (+0.55%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/232?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
206,codecov-commenter,2022-09-16 15:56:38,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/206?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.90**% // Head: **76.93**% // Increases project coverage by **`+0.03%`** :tada:
> Coverage data is based on head [(`0e9148d`)](https://codecov.io/gh/openfga/openfga/pull/206?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`c6f4052`)](https://codecov.io/gh/openfga/openfga/commit/c6f4052c53d50d6aae5814d599265e262f98c0f0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 71.42% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #206      +/-   ##
==========================================
+ Coverage   76.90%   76.93%   +0.03%     
==========================================
  Files          80       80              
  Lines        8876     8911      +35     
==========================================
+ Hits         6826     6856      +30     
- Misses       1696     1698       +2     
- Partials      354      357       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/206/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `83.56% <69.23%> (-3.52%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/206/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `30.87% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/206/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.94% <0.00%> (+0.55%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/206/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `76.92% <0.00%> (+19.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/206?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
240,codecov-commenter,2022-09-16 17:49:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/240?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **76.86**% // Head: **77.31**% // Increases project coverage by **`+0.45%`** :tada:
> Coverage data is based on head [(`070edc0`)](https://codecov.io/gh/openfga/openfga/pull/240?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e088948`)](https://codecov.io/gh/openfga/openfga/commit/e0889487523d3cc97d7c753fb8022d50ad9076c2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 88.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #240      +/-   ##
==========================================
+ Coverage   76.86%   77.31%   +0.45%     
==========================================
  Files          80       80              
  Lines        8911     8843      -68     
==========================================
- Hits         6849     6837      -12     
+ Misses       1704     1663      -41     
+ Partials      358      343      -15     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/240?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `71.42% <ø> (+13.73%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `24.35% <20.00%> (+0.47%)` | :arrow_up: |
| [pkg/id/id.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2lkL2lkLmdv) | `71.42% <80.00%> (-1.91%)` | :arrow_down: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.50% <100.00%> (+0.36%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.92% <100.00%> (+1.37%)` | :arrow_up: |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `96.37% <100.00%> (-0.01%)` | :arrow_down: |
| [server/test/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVsLmdv) | `96.00% <100.00%> (-0.11%)` | :arrow_down: |
| [server/test/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVscy5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/test/read\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF90dXBsZXMuZ28=) | `96.77% <100.00%> (-0.07%)` | :arrow_down: |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `65.78% <100.00%> (-0.88%)` | :arrow_down: |
| ... and [7 more](https://codecov.io/gh/openfga/openfga/pull/240/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/240?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
241,jon-whit,2022-09-16 20:32:58,Tests will fail until it is implemented. Feel free to help with the implementation for the memory and postgres storage adapters 👍 
179,craigpastro,2022-09-16 21:10:15,"Oh my goodness! Sorry for the delay in response.

The reason that we use ulids is that they are sortable (similar to snowflake ids). This is important for our continuations tokens. We have some queries of the form `ulid > someulid`.

Do you know if the byte representation of a ulid is sortable? If so, then yes, this could be a nice optimization.

Thanks for your comment!"
223,codecov-commenter,2022-09-16 23:53:45,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/223?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.28**% // Head: **77.38**% // Increases project coverage by **`+0.10%`** :tada:
> Coverage data is based on head [(`f955e91`)](https://codecov.io/gh/openfga/openfga/pull/223?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`992e18f`)](https://codecov.io/gh/openfga/openfga/commit/992e18f3938cc0a4fccaafaf5e486fc160c7dd25?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 96.78% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #223      +/-   ##
==========================================
+ Coverage   77.28%   77.38%   +0.10%     
==========================================
  Files          80       81       +1     
  Lines        8843     8949     +106     
==========================================
+ Hits         6834     6925      +91     
- Misses       1664     1675      +11     
- Partials      345      349       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/223?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `24.35% <33.33%> (ø)` | |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `63.88% <60.00%> (-30.35%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `96.79% <96.79%> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.20% <100.00%> (-2.06%)` | :arrow_down: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.92% <100.00%> (ø)` | |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `88.88% <100.00%> (-0.25%)` | :arrow_down: |
| [server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXNzZXJ0aW9ucy5nbw==) | `92.68% <100.00%> (-0.18%)` | :arrow_down: |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/223/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/223?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
243,dependabot[bot],2022-09-19 20:06:18,"Looks like go.opentelemetry.io/otel/trace is up-to-date now, so this is no longer needed."
244,dependabot[bot],2022-09-19 20:06:20,"Looks like go.opentelemetry.io/otel is up-to-date now, so this is no longer needed."
242,codecov-commenter,2022-09-19 20:10:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/242?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.28**% // Head: **77.46**% // Increases project coverage by **`+0.18%`** :tada:
> Coverage data is based on head [(`38c2ef9`)](https://codecov.io/gh/openfga/openfga/pull/242?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e174d4b`)](https://codecov.io/gh/openfga/openfga/commit/e174d4bed0c386c2377b8999011322183fb8ccf6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #242      +/-   ##
==========================================
+ Coverage   77.28%   77.46%   +0.18%     
==========================================
  Files          80       80              
  Lines        8843     8843              
==========================================
+ Hits         6834     6850      +16     
+ Misses       1664     1653      -11     
+ Partials      345      340       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/242?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/242/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.90% <0.00%> (+0.62%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/242/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/242/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (+1.26%)` | :arrow_up: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/242/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `81.57% <0.00%> (+1.31%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/242/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.05% <0.00%> (+2.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/242?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
210,craigpastro,2022-09-20 21:03:13,Hi @MidasLamb ! Sorry to ping you but we were hoping to get this merged before we make too many changes under the hood. Thanks!
210,MidasLamb,2022-09-21 06:59:15,"> Hi @MidasLamb ! Sorry to ping you but we were hoping to get this merged before we make too many changes under the hood. Thanks!

Hey, no problem, something high prio came up, but I should be able to pick this up again this week!"
245,dependabot[bot],2022-09-21 20:13:19,"Looks like go.buf.build/openfga/go/openfga/api is up-to-date now, so this is no longer needed."
247,codecov-commenter,2022-09-22 00:25:51,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/247?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.48**% // Head: **77.50**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`e849432`)](https://codecov.io/gh/openfga/openfga/pull/247?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46fce4c`)](https://codecov.io/gh/openfga/openfga/commit/46fce4c6d9a0e9b2435683b4102056b327aa7a0f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 88.02% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #247      +/-   ##
==========================================
+ Coverage   77.48%   77.50%   +0.01%     
==========================================
  Files          81       81              
  Lines        8955     8987      +32     
==========================================
+ Hits         6939     6965      +26     
- Misses       1670     1675       +5     
- Partials      346      347       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/247?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `96.95% <ø> (ø)` | |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `71.87% <0.00%> (ø)` | |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.50% <0.00%> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `24.36% <26.66%> (+0.01%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.03% <69.23%> (-0.25%)` | :arrow_down: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `80.92% <100.00%> (ø)` | |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `96.37% <100.00%> (ø)` | |
| [server/test/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVsLmdv) | `100.00% <100.00%> (+4.00%)` | :arrow_up: |
| [server/test/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVscy5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [8 more](https://codecov.io/gh/openfga/openfga/pull/247/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/247?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
241,jon-whit,2022-09-22 15:50:46,@miparnisari or @craigpastro  do you mind renaming this signature based on what we discussed yesterday? I agree that a name such as `ReadStartingWithUser` probably is more logical at this point (until we refactor our storage interface to be more concise).
249,codecov-commenter,2022-09-22 16:51:51,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/249?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.64**% // Head: **80.58**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`94dbb4d`)](https://codecov.io/gh/openfga/openfga/pull/249?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`fce498d`)](https://codecov.io/gh/openfga/openfga/commit/fce498dd863e7f0bdef29dab19f4a1a04f2d8574?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 83.33% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #249      +/-   ##
==========================================
- Coverage   80.64%   80.58%   -0.06%     
==========================================
  Files          85       86       +1     
  Lines       11612    11794     +182     
==========================================
+ Hits         9364     9504     +140     
- Misses       1834     1868      +34     
- Partials      414      422       +8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/249?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `88.84% <73.13%> (-4.99%)` | :arrow_down: |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `90.09% <90.09%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `75.84% <0.00%> (-3.98%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.36% <0.00%> (-0.46%)` | :arrow_down: |
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/249/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.42% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/249?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
251,codecov-commenter,2022-09-23 21:12:49,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/251?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **78.30**% // Head: **81.90**% // Increases project coverage by **`+3.59%`** :tada:
> Coverage data is based on head [(`d7861f4`)](https://codecov.io/gh/openfga/openfga/pull/251?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`18d4e84`)](https://codecov.io/gh/openfga/openfga/commit/18d4e8482e5650675671011ceb3fd721198d09ed?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 97.87% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #251      +/-   ##
==========================================
+ Coverage   78.30%   81.90%   +3.59%     
==========================================
  Files          81       81              
  Lines        9178    10768    +1590     
==========================================
+ Hits         7187     8819    +1632     
+ Misses       1654     1607      -47     
- Partials      337      342       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/251?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <ø> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.42% <63.63%> (-0.78%)` | :arrow_down: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.51% <85.71%> (+<0.01%)` | :arrow_up: |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `78.04% <92.30%> (+6.17%)` | :arrow_up: |
| [storage/test/authz\_models.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L2F1dGh6X21vZGVscy5nbw==) | `94.39% <95.40%> (+0.61%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `94.53% <97.94%> (+70.17%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `90.90% <100.00%> (+0.22%)` | :arrow_up: |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `96.74% <100.00%> (+0.37%)` | :arrow_up: |
| [server/test/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVsLmdv) | `100.00% <100.00%> (ø)` | |
| [server/test/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVscy5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [15 more](https://codecov.io/gh/openfga/openfga/pull/251/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/251?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
179,mmrath,2022-09-23 21:28:09,Yes the binary representation of ULID are sortable.
179,craigpastro,2022-09-24 14:49:58,"Interesting. Thanks! We'll try to check it out. Or, of course, we welcome PRs!"
176,tnipri,2022-09-25 10:37:39,"Hey @craigpastro , I don't know what's causing this issue. I updated the version and here are the new logs (it happened again):

```
2022-09-25T09:58:51.819Z        ERROR   grpc_error      {""error"": ""postgres error: write failed: write tcp 192.168.0.4:57202->192.168.65.2:5432: write: broken pipe"", ""public_error"": ""rpc error: code = Code(4000) desc = Internal Server Error""}
github.com/openfga/openfga/pkg/logger.(*ZapLogger).Error
        /home/runner/work/openfga/openfga/pkg/logger/logger.go:56
github.com/openfga/openfga/server/middleware.NewErrorLoggingInterceptor.func1
        /home/runner/work/openfga/openfga/server/middleware/logging.go:20
google.golang.org/grpc.chainUnaryInterceptors.func1.1
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1135
github.com/grpc-ecosystem/go-grpc-middleware/auth.UnaryServerInterceptor.func1
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.3.0/auth/auth.go:47
google.golang.org/grpc.chainUnaryInterceptors.func1.1
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1138
github.com/grpc-ecosystem/go-grpc-middleware/validator.UnaryServerInterceptor.func1
        /home/runner/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.3.0/validator/validator.go:47
google.golang.org/grpc.chainUnaryInterceptors.func1.1
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1138
google.golang.org/grpc.chainUnaryInterceptors.func1
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1140
go.buf.build/openfga/go/openfga/api/openfga/v1._OpenFGAService_Check_Handler
        /home/runner/go/pkg/mod/go.buf.build/openfga/go/openfga/api@v1.2.30/openfga/v1/openfga_service_grpc.pb.go:377
google.golang.org/grpc.(*Server).processUnaryRPC
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1301
google.golang.org/grpc.(*Server).handleStream
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:1642
google.golang.org/grpc.(*Server).serveStreams.func1.2
        /home/runner/go/pkg/mod/google.golang.org/grpc@v1.49.0/server.go:938
```"
176,craigpastro,2022-09-25 18:04:23,"Hi @tnipri. This is very helpful! It seems like you are expenriencing the same problem as @OysteinVesth did above. One thing that you can try is, in your Postgres connection string, set the max connection lifetime to be quite short. Perhaps 5 minutes or so. You can do this by adding `?pool_max_conn_lifetime=5m&pool_max_conn_lifetime_jitter=1m` to your connection string.

Alternatively, now that pgx v5 has been released we could also update that library, which I think also fixes the problem."
241,codecov-commenter,2022-09-26 19:14:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/241?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **77.50**% // Head: **77.66**% // Increases project coverage by **`+0.16%`** :tada:
> Coverage data is based on head [(`d68c3d8`)](https://codecov.io/gh/openfga/openfga/pull/241?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6aca04a`)](https://codecov.io/gh/openfga/openfga/commit/6aca04aaaffc63a78a966c81496bf374265d02d7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 95.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #241      +/-   ##
==========================================
+ Coverage   77.50%   77.66%   +0.16%     
==========================================
  Files          81       81              
  Lines        8987     9076      +89     
==========================================
+ Hits         6965     7049      +84     
- Misses       1675     1679       +4     
- Partials      347      348       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/241?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `91.75% <ø> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.61% <82.35%> (+0.58%)` | :arrow_up: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `57.01% <97.95%> (+5.19%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `90.59% <100.00%> (+0.39%)` | :arrow_up: |
| [storage/test/storage.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3N0b3JhZ2UuZ28=) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/241/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.11% <0.00%> (-0.28%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/241?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
253,codecov-commenter,2022-09-27 05:09:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/253?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.66**% // Head: **80.71**% // Increases project coverage by **`+0.04%`** :tada:
> Coverage data is based on head [(`fabd44b`)](https://codecov.io/gh/openfga/openfga/pull/253?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`9b54e8e`)](https://codecov.io/gh/openfga/openfga/commit/9b54e8e836cdd22bbbc9fa61c567bf5036183851?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #253      +/-   ##
==========================================
+ Coverage   80.66%   80.71%   +0.04%     
==========================================
  Files          85       85              
  Lines       11674    11676       +2     
==========================================
+ Hits         9417     9424       +7     
+ Misses       1841     1837       -4     
+ Partials      416      415       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/253?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/test/authz\_models.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L2F1dGh6X21vZGVscy5nbw==) | `94.41% <100.00%> (+0.02%)` | :arrow_up: |
| [storage/test/storage.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3N0b3JhZ2UuZ28=) | `100.00% <100.00%> (ø)` | |
| [storage/test/stores.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3N0b3Jlcy5nbw==) | `42.30% <100.00%> (ø)` | |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `66.66% <100.00%> (+1.42%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/253/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.77% <0.00%> (+1.11%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/253?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
256,codecov-commenter,2022-09-28 21:43:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/256?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **78.13**% // Head: **78.19**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`caa6036`)](https://codecov.io/gh/openfga/openfga/pull/256?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`cc5a286`)](https://codecov.io/gh/openfga/openfga/commit/cc5a2868e173b36ef6a5282dd5d70e16530c7788?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #256      +/-   ##
==========================================
+ Coverage   78.13%   78.19%   +0.05%     
==========================================
  Files          81       81              
  Lines        9199     9178      -21     
==========================================
- Hits         7188     7177      -11     
+ Misses       1667     1661       -6     
+ Partials      344      340       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/256?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.26% <100.00%> (-0.13%)` | :arrow_down: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `90.68% <100.00%> (+8.91%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.75% <0.00%> (-1.25%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.61% <0.00%> (-0.60%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/256/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.94% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/256?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
257,codecov-commenter,2022-09-28 23:19:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/257?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.67**% // Head: **80.73**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`a6bc48a`)](https://codecov.io/gh/openfga/openfga/pull/257?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`cba0be7`)](https://codecov.io/gh/openfga/openfga/commit/cba0be7f10df457ba6b2016b7922067b80cd1a7c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 85.92% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #257      +/-   ##
==========================================
+ Coverage   80.67%   80.73%   +0.05%     
==========================================
  Files          85       85              
  Lines       11676    11611      -65     
==========================================
- Hits         9420     9374      -46     
+ Misses       1840     1826      -14     
+ Partials      416      411       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/257?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.00% <ø> (+1.25%)` | :arrow_up: |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `85.71% <ø> (ø)` | |
| [storage/test/storage.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3N0b3JhZ2UuZ28=) | `100.00% <ø> (ø)` | |
| [storage/caching/caching.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9jYWNoaW5nL2NhY2hpbmcuZ28=) | `63.63% <57.14%> (-4.79%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `62.98% <57.14%> (+0.34%)` | :arrow_up: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `91.53% <63.63%> (-0.13%)` | :arrow_down: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `94.53% <71.42%> (ø)` | |
| [server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `82.85% <84.61%> (+4.80%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `93.83% <85.00%> (-0.20%)` | :arrow_down: |
| [storage/test/authz\_models.go](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L2F1dGh6X21vZGVscy5nbw==) | `93.22% <86.95%> (-1.20%)` | :arrow_down: |
| ... and [22 more](https://codecov.io/gh/openfga/openfga/pull/257/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/257?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
210,MidasLamb,2022-09-29 06:36:27,"> Hi @MidasLamb! Thanks again for your contribution! It looks great now!
> 
> Would you mind terribly allowing us to make changes to your PR? I think there is a button you can click. We've already introduced a couple of changes: one to the storage interface and one to the underlying storage. I feel bad to keep asking you to make changes. bow
> 
> Thanks again!

Hey @craigpastro !
No worries! I think the biggest hurdle is the timezone difference :smile: when I wake up you guys have progressed a bunch each day again, meaning I have to play catch-up each morning :sweat_smile:  I don't have any problems with you making changes, however I think there currently is an issue allowing it because the PR is coming from an organizational repository: https://github.com/orgs/community/discussions/5634"
250,craigpastro,2022-10-04 21:55:05,Does it even make sense that we are validating the tuple on read? What if I want to read tuples which do not validate against the current model so I can delete them?
250,miparnisari,2022-10-05 18:10:21,"> Does it even make sense that we are validating the tuple on read? What if I want to read tuples which do not validate against the current model so I can delete them?

We are not validating tuples on read. We're only validating the input tuple."
250,craigpastro,2022-10-05 19:02:29,"> We are not validating tuples on read. We're only validating the input tuple.

I understood we are validating the input tuple on a read request. So I was wondering if we should be doing that?"
267,codecov-commenter,2022-10-05 20:23:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/267?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.72**% // Head: **80.73**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`372fe16`)](https://codecov.io/gh/openfga/openfga/pull/267?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6269abc`)](https://codecov.io/gh/openfga/openfga/commit/6269abc5a46deaa83bc940cc91a9a7d76c23335c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #267   +/-   ##
=======================================
  Coverage   80.72%   80.73%           
=======================================
  Files          85       85           
  Lines       11612    11612           
=======================================
+ Hits         9374     9375    +1     
+ Misses       1827     1826    -1     
  Partials      411      411           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/267?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/267/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.25% <0.00%> (+0.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/267?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
176,craigpastro,2022-10-06 18:26:50,"Hi again @tnipri ! Are you still seeing crashes? We released v0.2.3 today https://github.com/openfga/openfga/releases/tag/v0.2.3, which updates the pgx library to v5 which may be a fix for the bug you are seeing. If you get a chance to run it, please let us know if it solved your problem. Thanks!"
268,codecov-commenter,2022-10-08 00:00:32,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/268?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.73**% // Head: **80.67**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`c324fd2`)](https://codecov.io/gh/openfga/openfga/pull/268?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`07a7a1a`)](https://codecov.io/gh/openfga/openfga/commit/07a7a1a7eaa4d04f2c9e7efed40072ae2f3560b4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 0.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #268      +/-   ##
==========================================
- Coverage   80.73%   80.67%   -0.06%     
==========================================
  Files          85       85              
  Lines       11612    11614       +2     
==========================================
- Hits         9375     9370       -5     
- Misses       1826     1832       +6     
- Partials      411      412       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/268?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/268/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9taWdyYXRlLmdv) | `0.00% <0.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/268/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.27% <0.00%> (-1.27%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/268/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.75% <0.00%> (-1.25%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/268/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.81% <0.00%> (-0.59%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/268/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.81% <0.00%> (+0.55%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/268?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
269,codecov-commenter,2022-10-08 00:50:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/269?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@44249cc`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch coverage: 0.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@          Coverage Diff           @@
##             main    #269   +/-   ##
======================================
  Coverage        ?   0.45%           
======================================
  Files           ?      60           
  Lines           ?    5733           
  Branches        ?       0           
======================================
  Hits            ?      26           
  Misses          ?    5703           
  Partials        ?       4           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/269?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/269/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9ydW4uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/cmd/service/service.go](https://codecov.io/gh/openfga/openfga/pull/269/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NtZC9zZXJ2aWNlL3NlcnZpY2UuZ28=) | `0.00% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/269?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
270,codecov-commenter,2022-10-08 06:16:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/270?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.64**% // Head: **80.60**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`561b169`)](https://codecov.io/gh/openfga/openfga/pull/270?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`85f195e`)](https://codecov.io/gh/openfga/openfga/commit/85f195e20f874c1abf52503d5cce1684ea1352f8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 50.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #270      +/-   ##
==========================================
- Coverage   80.64%   80.60%   -0.04%     
==========================================
  Files          85       85              
  Lines       11614    11616       +2     
==========================================
- Hits         9366     9363       -3     
- Misses       1835     1838       +3     
- Partials      413      415       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/270?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/270/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.36% <50.00%> (-0.46%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/270/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.42% <0.00%> (-0.56%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/270?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
272,codecov-commenter,2022-10-10 19:34:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/272?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@fa9d981`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@          Coverage Diff           @@
##             main    #272   +/-   ##
======================================
  Coverage        ?   0.45%           
======================================
  Files           ?      60           
  Lines           ?    5733           
  Branches        ?       0           
======================================
  Hits            ?      26           
  Misses          ?    5703           
  Partials        ?       4           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/272?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
271,codecov-commenter,2022-10-10 19:39:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/271?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.64**% // Head: **80.62**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`8b5319b`)](https://codecov.io/gh/openfga/openfga/pull/271?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`435538d`)](https://codecov.io/gh/openfga/openfga/commit/435538d110f5be823d7a523f86801ca72d7cc402?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #271      +/-   ##
==========================================
- Coverage   80.64%   80.62%   -0.02%     
==========================================
  Files          85       85              
  Lines       11612    11612              
==========================================
- Hits         9364     9362       -2     
- Misses       1834     1835       +1     
- Partials      414      415       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/271?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/271/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.42% <0.00%> (-0.56%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/271?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
274,jon-whit,2022-10-11 14:47:02,@ghstahl this should be fixed now on the `main` branch. Our next release will include it.
176,tnipri,2022-10-12 09:44:57,"thanks @craigpastro I've been running the new version for couple of days now - so far without exceptions!

I will post here in case I encounter anything else. Thanks again for this tool!"
176,craigpastro,2022-10-12 15:01:21,"Hi @tnipri, that’s great to hear. Seems like upgrading to pgx fixed the problem. Thank you for bringing it to our attention!

I’ll close this issue for now, but please reopen it if you encounter it again. Thanks!"
278,codecov-commenter,2022-10-12 17:26:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/278?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.60**% // Head: **80.58**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`449e5a8`)](https://codecov.io/gh/openfga/openfga/pull/278?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8b3aac1`)](https://codecov.io/gh/openfga/openfga/commit/8b3aac1cf11a4840bce735209e1b58df52cb09e3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #278      +/-   ##
==========================================
- Coverage   80.60%   80.58%   -0.02%     
==========================================
  Files          86       86              
  Lines       11794    11794              
==========================================
- Hits         9506     9504       -2     
- Misses       1867     1868       +1     
- Partials      421      422       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/278?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/278/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `94.82% <ø> (ø)` | |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/278/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `85.71% <ø> (ø)` | |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/278/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `33.33% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/278/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.42% <0.00%> (-0.56%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/278?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
279,codecov-commenter,2022-10-12 21:32:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/279?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.38**% // Head: **82.28**% // Decreases project coverage by **`-0.10%`** :warning:
> Coverage data is based on head [(`f214b91`)](https://codecov.io/gh/openfga/openfga/pull/279?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`64f19de`)](https://codecov.io/gh/openfga/openfga/commit/64f19de457590850b584742d6764c04d1aa32585?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 70.80% of modified lines in pull request are covered.

> :exclamation: Current head f214b91 differs from pull request most recent head eb11f1d. Consider uploading reports for the commit eb11f1d to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #279      +/-   ##
==========================================
- Coverage   82.38%   82.28%   -0.11%     
==========================================
  Files          85       85              
  Lines       12216    13427    +1211     
==========================================
+ Hits        10064    11048     +984     
- Misses       1755     1954     +199     
- Partials      397      425      +28     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/279?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <ø> (ø)` | |
| [cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `0.00% <ø> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <ø> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <0.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <ø> (ø)` | |
| [server/commands/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2RlbGV0ZV9zdG9yZS5nbw==) | `77.77% <ø> (ø)` | |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `94.73% <ø> (ø)` | |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `89.23% <ø> (ø)` | |
| ... and [38 more](https://codecov.io/gh/openfga/openfga/pull/279/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/279?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
237,trondhindenes,2022-10-13 08:48:10,"this PR has been stuck for a bit, I'm not quite sure what to do. It started with me just updating the corresponding compose-file in docs to a working example (https://github.com/openfga/openfga.dev/pull/205) and I was asked in the comment to make the same changes in this repo (which is the current PR). So I did that but it feels like a bit of can of worms. I guess the compose-file in docs and the one in this repo should be in sync, which they currently aren't. I also understand that changing the compose-file in this repo has other implications. So I guess I'm asking:

- should the compose-file in the docs repo and this one be kept in sync at all?
- if so, wouldn't it be better if the docs one replicates this one instead of the other way around?"
281,codecov-commenter,2022-10-13 15:35:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/281?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.57**% // Head: **80.83**% // Increases project coverage by **`+0.26%`** :tada:
> Coverage data is based on head [(`88e3f8b`)](https://codecov.io/gh/openfga/openfga/pull/281?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bab4b87`)](https://codecov.io/gh/openfga/openfga/commit/bab4b875d6ee0af1b013ff4d72c40388f4dd8ea5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #281      +/-   ##
==========================================
+ Coverage   80.57%   80.83%   +0.26%     
==========================================
  Files          86       86              
  Lines       11794    11794              
==========================================
+ Hits         9503     9534      +31     
+ Misses       1869     1846      -23     
+ Partials      422      414       -8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/281?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/281/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.00% <0.00%> (+1.25%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/281/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (+1.26%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/281/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.81% <0.00%> (+1.66%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/281/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.00% <0.00%> (+2.02%)` | :arrow_up: |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/281/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `88.97% <0.00%> (+7.35%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/281?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
285,CLAassistant,2022-10-15 16:47:35,[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/openfga/openfga?pullRequest=285) <br/>All committers have signed the CLA.
290,codecov-commenter,2022-10-17 23:59:24,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/290?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.86**% // Head: **80.83**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`206c67e`)](https://codecov.io/gh/openfga/openfga/pull/290?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`aa6d870`)](https://codecov.io/gh/openfga/openfga/commit/aa6d87049cad1a4aafa954c1fdbfc1f348a78360?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #290      +/-   ##
==========================================
- Coverage   80.86%   80.83%   -0.03%     
==========================================
  Files          86       86              
  Lines       11794    11794              
==========================================
- Hits         9537     9534       -3     
- Misses       1844     1846       +2     
- Partials      413      414       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/290?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/290/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.81% <0.00%> (-0.84%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/290/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.00% <0.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/290/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/290?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
292,codecov-commenter,2022-10-18 00:00:24,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/292?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.86**% // Head: **80.94**% // Increases project coverage by **`+0.08%`** :tada:
> Coverage data is based on head [(`795335f`)](https://codecov.io/gh/openfga/openfga/pull/292?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`aa6d870`)](https://codecov.io/gh/openfga/openfga/commit/aa6d87049cad1a4aafa954c1fdbfc1f348a78360?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #292      +/-   ##
==========================================
+ Coverage   80.86%   80.94%   +0.08%     
==========================================
  Files          86       86              
  Lines       11794    11794              
==========================================
+ Hits         9537     9547      +10     
+ Misses       1844     1837       -7     
+ Partials      413      410       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/292?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/292/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.00% <0.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/292/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.94% <0.00%> (+0.58%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/292/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/292/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `89.47% <0.00%> (+0.83%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/292/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/292?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
292,dependabot[bot],2022-10-18 00:03:45,"Looks like go.opentelemetry.io/otel/trace is up-to-date now, so this is no longer needed."
287,codecov-commenter,2022-10-18 00:06:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/287?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@4274505`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@          Coverage Diff           @@
##             main    #287   +/-   ##
======================================
  Coverage        ?   0.44%           
======================================
  Files           ?      60           
  Lines           ?    5814           
  Branches        ?       0           
======================================
  Hits            ?      26           
  Misses          ?    5784           
  Partials        ?       4           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/287?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
294,codecov-commenter,2022-10-18 00:06:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/294?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.79**% // Head: **0.44**% // Decreases project coverage by **`-80.34%`** :warning:
> Coverage data is based on head [(`04a9449`)](https://codecov.io/gh/openfga/openfga/pull/294?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4274505`)](https://codecov.io/gh/openfga/openfga/commit/427450568acfb091bbd6b443aeaa0e410dd0d494?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #294       +/-   ##
==========================================
- Coverage   80.79%   0.44%   -80.35%     
==========================================
  Files          86      60       -26     
  Lines       11794    5814     -5980     
==========================================
- Hits         9529      26     -9503     
- Misses       1850    5784     +3934     
+ Partials      415       4      -411     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/294?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/utils/utils.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3V0aWxzL3V0aWxzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2dhdGV3YXkvZ2F0ZXdheS5nbw==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL21pZGRsZXdhcmUvYXV0aG4uZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `0.00% <0.00%> (-94.09%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `0.00% <0.00%> (-93.28%)` | :arrow_down: |
| ... and [70 more](https://codecov.io/gh/openfga/openfga/pull/294/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/294?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
297,codecov-commenter,2022-10-19 03:32:57,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/297?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.75**% // Head: **83.78**% // Increases project coverage by **`+0.03%`** :tada:
> Coverage data is based on head [(`b0176c3`)](https://codecov.io/gh/openfga/openfga/pull/297?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f068c22`)](https://codecov.io/gh/openfga/openfga/commit/f068c227c81f9810d076fdb7a80a1d3d31343058?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #297      +/-   ##
==========================================
+ Coverage   83.75%   83.78%   +0.03%     
==========================================
  Files          85       85              
  Lines       13666    13694      +28     
==========================================
+ Hits        11446    11474      +28     
  Misses       1850     1850              
  Partials      370      370              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/297?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/297/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.12% <100.00%> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/297/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `95.35% <100.00%> (+0.06%)` | :arrow_up: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/297/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `81.25% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/297?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
299,codecov-commenter,2022-10-19 22:29:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/299?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **80.83**% // Head: **80.91**% // Increases project coverage by **`+0.07%`** :tada:
> Coverage data is based on head [(`55fc728`)](https://codecov.io/gh/openfga/openfga/pull/299?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`622976a`)](https://codecov.io/gh/openfga/openfga/commit/622976a543017d58d32df02d4e8d3d5b164f9087?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 62.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #299      +/-   ##
==========================================
+ Coverage   80.83%   80.91%   +0.07%     
==========================================
  Files          86       86              
  Lines       11794    11808      +14     
==========================================
+ Hits         9534     9554      +20     
+ Misses       1846     1844       -2     
+ Partials      414      410       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/299?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `30.53% <42.85%> (-0.35%)` | :arrow_down: |
| [server/errors/encoded\_errors.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lbmNvZGVkX2Vycm9ycy5nbw==) | `93.33% <77.77%> (-0.76%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.56% <0.00%> (+0.55%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/299/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `89.47% <0.00%> (+1.66%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/299?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
300,rhamzeh,2022-10-19 22:55:43,Thanks for raising this issue!
299,jon-whit,2022-10-20 15:02:03,"> The error responses differ between unary & streaming, is this ok?
> 
> ```
> 2022/10/19 16:32:26 [DEBUG] GET http://localhost:55647/stores
> {""code"":""unauthenticated"",""message"":""unauthenticated""}
> 2022/10/19 16:32:26 [DEBUG] POST http://localhost:55647/stores/01GFS9EMKGY23KN2JJQH6WFPRZ/streamed-list-objects
> {""error"":{""code"":16,""message"":""unauthenticated"",""details"":[]}}
> ```

I don't know a way around that. The response from the grpc streaming endpoint is a `*status.Status`. It differs with the unary because of the custom `HTTPErrorHandler`. We have control over the response body of the error with the custom HTTPErrorHandler in the unary case, but not in the streaming RPC case (AFAIK).

We have this same issue with the streaming endpoint itself. If you receive an error during the stream you get a grpc error and not a customer OpenFGA error."
301,jon-whit,2022-10-20 15:18:41,"I understand what you're trying to do, but my initial gut reaction is that this would be quite difficult and nuanced. In the scenario you gave the relations are direct relations, but what if the relation the developer wants to filter by is not a direct relation (e.g. it involves rewrites other than `as self`). There is some complex nuance to this, and I think it warrants more discovery and research before we can confidently say anything about supporting it or not supporting it.

In general, supporting this may require a costly sub-query evaluation before the top-level query can be resolved, and the top-level query would somehow have to be able to traverse the graph in reverse in a filtered form (where the filtered traversal is impacted by the sub-query). Not saying it’s not possible, but it’s definitely more complex for the general case than this simple model demonstrates.

We'll keep an open mind and see if we can come up with something 👍 "
301,jaredzhou,2022-10-20 15:54:07,"thank you for the response. i don't think we need to support the filter like `check` that indirect relation and rewrite involved, at least not a must.  users just need to add some object-to-objects relations to be used like tags to some objects, and it even can be nothing to do with auth check, when query the `GET /list-objects` api, it can be simply filtered by tags and reduce the number of returned ids"
301,jaredzhou,2022-10-20 16:03:38,"i have not reading the code details, but for my understanding, it's like the intersect result of two sets. the origin object ids set and   the filtered object ids set which only produced by direct object-to-object relations"
300,jon-whit,2022-10-20 22:31:10,"👀 I think the issue may be related to the resolution context sharing resolution depth across concurrent paths of eval. Let me double check my hypothesis and get back with you. I think I may have a fix.

Good catch!"
300,ghstahl,2022-10-21 02:41:13,I now have a 100% reproducible case in my unit tests.  Let me know if you need that data set.
303,codecov-commenter,2022-10-21 20:51:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/303?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.27**% // Head: **82.16**% // Decreases project coverage by **`-0.10%`** :warning:
> Coverage data is based on head [(`fbd0d76`)](https://codecov.io/gh/openfga/openfga/pull/303?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`1c5048e`)](https://codecov.io/gh/openfga/openfga/commit/1c5048e6c87a31647cd6d3d991e01c9939a489b5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #303      +/-   ##
==========================================
- Coverage   82.27%   82.16%   -0.11%     
==========================================
  Files          85       85              
  Lines       12095    12095              
==========================================
- Hits         9951     9938      -13     
- Misses       1746     1755       +9     
- Partials      398      402       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/303?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.35% <0.00%> (-1.59%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (-1.27%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `88.65% <0.00%> (-0.71%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.27% <0.00%> (-0.60%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.67% <0.00%> (-0.56%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/303/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `92.36% <0.00%> (+1.09%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/303?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
304,rhamzeh,2022-10-24 04:36:54,"Hi @mango009 👋🏽 

Did you verify that your checks are working without the contextual tuples? Tried to check them here and they were (correctly) returning false, because the user you were using in the check was `anne` instead of `user:anne`.
The tuple should be:
```json
{
  ""tuple_key"": {
    ""user"": ""user:anne"",
    ""relation"": ""can_upload"",
    ""object"": ""artifact:doc1""
  }
}
```

Tried reproducing on the FGA Playground: https://play.fga.dev/stores/create/?id=01GG41ZGQZD6GMDBM84RK2FG49

```sh
curl -X POST 'https://api.playground.fga.dev/stores/01GG41ZGQZD6GMDBM84RK2FG49/check' \
 -d '{
  ""tuple_key"": {
    ""user"": ""user:anne"",
    ""relation"": ""can_download"",
    ""object"": ""artifact:doc1""
  },
  ""contextual_tuples"": {
    ""tuple_keys"": [
      {
        ""user"": ""user:anne"",
        ""relation"": ""user"",
        ""object"": ""tenure:gt3""
      }
    ]
  }
}'
```
returns `{""allowed"":true,""resolution"":""""}` - which is correct. This would return the same result if the contextual tuple was not sent as placement in a tenure should not affect ability to download (according to the model).

```sh
curl -X POST 'https://api.playground.fga.dev/stores/01GG41ZGQZD6GMDBM84RK2FG49/check' \
 -d '{
  ""tuple_key"": {
    ""user"": ""user:anne"",
    ""relation"": ""can_upload"",
    ""object"": ""artifact:doc1""
  },
  ""contextual_tuples"": {
    ""tuple_keys"": [
      {
        ""user"": ""user:anne"",
        ""relation"": ""user"",
        ""object"": ""tenure:gt3""
      }
    ]
  }
}'
```
returns `{""allowed"":true,""resolution"":""""}` - which is correct. This is different from if the contextual tuple was not passed, as if `user:anne` was not in that tenure, then they would not have had upload access.

Note: Unfortunately the Playground does not support intersections in the Graph preview."
300,jon-whit,2022-10-24 15:02:50,@ghstahl please share it with me if you can 👍 . I'm going to work on resolving this issue in the next few days. 
276,jon-whit,2022-10-24 16:12:51,Rebase and then we can merge 👍 
291,craigpastro,2022-10-24 16:52:09,"I think this is how it needs to be, but there are other problems as well. So let's come back to this in the future."
309,codecov-commenter,2022-10-24 22:03:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/309?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.20**% // Head: **82.33**% // Increases project coverage by **`+0.13%`** :tada:
> Coverage data is based on head [(`a313027`)](https://codecov.io/gh/openfga/openfga/pull/309?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`b8d3007`)](https://codecov.io/gh/openfga/openfga/commit/b8d3007f2f4c418396a6697de8a293ccb783206e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #309      +/-   ##
==========================================
+ Coverage   82.20%   82.33%   +0.13%     
==========================================
  Files          85       85              
  Lines       12196    12196              
==========================================
+ Hits        10026    10042      +16     
+ Misses       1765     1754      -11     
+ Partials      405      400       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/309?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/309/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/309/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.86% <0.00%> (+0.59%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/309/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/309/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/309/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `89.43% <0.00%> (+1.47%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/309?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
312,codecov-commenter,2022-10-24 22:10:38,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/312?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.27**% // Head: **82.35**% // Increases project coverage by **`+0.07%`** :tada:
> Coverage data is based on head [(`cd4a225`)](https://codecov.io/gh/openfga/openfga/pull/312?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`1c5048e`)](https://codecov.io/gh/openfga/openfga/commit/1c5048e6c87a31647cd6d3d991e01c9939a489b5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 95.69% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #312      +/-   ##
==========================================
+ Coverage   82.27%   82.35%   +0.07%     
==========================================
  Files          85       85              
  Lines       12095    12206     +111     
==========================================
+ Hits         9951    10052     +101     
- Misses       1746     1754       +8     
- Partials      398      400       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/312?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `98.15% <95.62%> (+1.41%)` | :arrow_up: |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `89.23% <100.00%> (+5.35%)` | :arrow_up: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `88.37% <100.00%> (+0.27%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.96% <0.00%> (-1.99%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.53% <0.00%> (-1.27%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `90.46% <0.00%> (-0.82%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.67% <0.00%> (-0.56%)` | :arrow_down: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `98.94% <0.00%> (+0.02%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `94.89% <0.00%> (+0.06%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/312/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/312?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
308,dependabot[bot],2022-10-25 03:27:49,"Looks like go.opentelemetry.io/otel is up-to-date now, so this is no longer needed."
301,jon-whit,2022-10-25 03:45:03,"> thank you for the response. i don't think we need to support the filter like `check` that indirect relation and rewrite involved, at least not a must. users just need to add some object-to-objects relations to be used like tags to some objects, and it even can be nothing to do with auth check, when query the `GET /list-objects` api, it can be simply filtered by tags and reduce the number of returned ids

I'm not sure I understand what you mean here. Relationships in OpenFGA don't have a tagging/metadata mechanism like you are describing, but rather the relationships themselves establish connectivity between objects in the graph of relationships. Maybe you could provide a more clear example that demonstrates the situation (with tuples etc..)?

In your original example you mentioned filtering the set of `document#reader` relationships that a user `bob` has based on a parent relationship with some folder `folder:a`. If `folder#parent` relationships involved more than just a direct relation to documents though (like some other relationships might), then it would require a filtered expansion (see the [Expand API](https://openfga.dev/api/service#/Relationship%20Queries/Expand)) of the relationship(s) before an intersection of the two sets could be computed for the filtered set. This could be quite costly to compute server side within the scope of the request.

This problem is much more nuanced and challenging than one might think. If, on the other hand, you are referring to some other process where you label/categorize relationships with other metadata and then filter based on that metadata, then that may be something that we could potentially look into. I'm not sure what exactly that would look like in general usage though.."
300,ghstahl,2022-10-25 15:08:27,"## OpenFGA 
image: ""openfga/openfga:v0.2.4""

## OpenFGA go sdk
github.com/openfga/go-sdk v0.1.1

## VSCODE
```
Version: 1.72.2 (user setup)
Commit: d045a5eda657f4d7b676dedbfa7aab8207f8a075
Date: 2022-10-12T22:15:18.074Z
Electron: 19.0.17
Chromium: 102.0.5005.167
Node.js: 16.14.2
V8: 10.2.154.15-electron.0
OS: Windows_NT x64 10.0.22621
Sandboxed: No
```
## GO
```
go version go1.19.2 windows/amd64
```
I love these types of reproducible tests.  If I run it using  ```go test ./...``` it fails every time with the complex error.  
I am hammering the openfga server with writes followed by Read(s) and Check(s)

So, I set a break point where the error occurred.  Error being the complexity response from the OpenFGA server.  

Of course, it doesn't return an error in this case. 

I speculate that the server hasn't absorbed all the information I wrote to give me a fast response at the time I am making a Check call."
297,jon-whit,2022-10-25 16:51:46,"@craigpastro are we sure this is related to https://discord.com/channels/759188666072825867/920359187949707305/1019251304251523112? 

The reported issue seems to be a problem with the string validation of the `user` value, not behavior related to the evaluation of undefined object types encountered in user values during Check evaluation. For example, the reported issue didn't include any user values that had something like `type:id`. All of his examples were something just directly of the form `id`. Could you clarify how this relates to that issue?"
297,craigpastro,2022-10-25 16:59:09,"In the context of TTU rewrites:

The first fix for that bug was to skip user_ids. This fix is to skip objects which don't have the corresponding computed userset relation. As of now, a client can write a user of the form ""object:id"" where ""object"" can be anything. Our current code will consider this an object, attach the computed userset ""relation"" to it, and recursively call check on it. This doesn't make sense unless the ""object"" type has the ""relation"" defined on it.

In terms of what we have discovered recently, this may need rethinking."
300,ghstahl,2022-10-25 19:17:39,"New data set
This one happens every time.

I uploaded the wrong one last time.  Opps.  This one is good
[complex_error_repo_2.zip](https://github.com/openfga/openfga/files/9863799/complex_error_repo_2.zip)
"
315,miparnisari,2022-10-26 22:48:13,"> Nice. Does this fix this bug we discussed this morning?

I think so :) 

`./openfga run --datastore-engine postgres --datastore-uri 'postgres://postgres:password@localhost:5432/postgres' --listObjects-max-results 50000  --listObjects-deadline 360s --http-upstream-timeout 360s`

and I inserted ` time.Sleep(359 * time.Second)` inside function `internalCheck`:

<img width=""853"" alt=""image"" src=""https://user-images.githubusercontent.com/5374887/198151901-4c5cf3c4-a956-4cef-a622-1e3dacb1b6d1.png"">


> This LGTM, but I am wondering if we simply have too many knobs. Perhaps we should be more opinionated with our config. For example, perhaps `ListObjectsDeadline` should always be set to 1 second less than `UpstreamTimeout`? 🤷

Yeah I agree, I'm not sure why we have two configs in the first place.

"
301,jaredzhou,2022-10-27 02:54:37,"yes, this is exactly what i mean. i described it as tags but implemented by object-to-object relationships.  considering the complexity for implementing indirect relations for filtering. i think just filtering by direct object-to-object relationship maybe easier to do. for usage, users can insert the object-to-object relationships for particular usage. e.g. insert parent-child file relationship for list files in certain folders. for more scenario, i think resources that potentially has large amount totally, but can has reasonable amount under some tags."
315,jon-whit,2022-10-27 15:45:13,"> This LGTM, but I am wondering if we simply have too many knobs. Perhaps we should be more opinionated with our config.

I agree with you on this, but I'm not sure the best course of action to take here. The `http.UpstreamTimeout` will cause a 500 error to be returned if it is exceeded. It helps us protect the server from proxying HTTP requests to the grpc endpoints and potentially having those requests hang for an extended period of time. But that differs from the intended usage of the `ListObjectsDeadline`, which is meant simply to control how long the server is willing to collect/aggregate objects for the ListObjects endpoint. If the ListObjectsDeadline is met, we return everything we've collected up to that point but we return a 200 (OK). 

So the behavior is intended to be fundamentally different and to control different mechanisms and protect the server in different ways 🤷 "
314,jon-whit,2022-10-28 04:40:02,@fschulte-eiwa could you please build/run the `main` branch and confirm if this has been fixed with #315?
317,codecov-commenter,2022-10-28 21:59:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/317?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.25**% // Head: **0.20**% // Decreases project coverage by **`-82.04%`** :warning:
> Coverage data is based on head [(`44a75c5`)](https://codecov.io/gh/openfga/openfga/pull/317?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a666499`)](https://codecov.io/gh/openfga/openfga/commit/a6664997725fe883803aaf4b846615d39638734d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 0.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #317       +/-   ##
==========================================
- Coverage   82.25%   0.20%   -82.05%     
==========================================
  Files          85      58       -27     
  Lines       12216    5824     -6392     
==========================================
- Hits        10048      12    -10036     
- Misses       1766    5812     +4046     
+ Partials      402       0      -402     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/317?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <ø> (ø)` | |
| [cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `0.00% <ø> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `0.00% <0.00%> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <ø> (ø)` | |
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `0.00% <0.00%> (-47.46%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `0.00% <0.00%> (-41.05%)` | :arrow_down: |
| [pkg/utils/utils.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3V0aWxzL3V0aWxzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/encoder/base64.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvYmFzZTY0Lmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |
| ... and [75 more](https://codecov.io/gh/openfga/openfga/pull/317/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/317?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
318,codecov-commenter,2022-10-29 01:14:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/318?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **81.59**% // Decreases project coverage by **`-0.77%`** :warning:
> Coverage data is based on head [(`64b2efe`)](https://codecov.io/gh/openfga/openfga/pull/318?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`839599b`)](https://codecov.io/gh/openfga/openfga/commit/839599b3d882f0872418fe6a41c077f436d4012f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #318      +/-   ##
==========================================
- Coverage   82.37%   81.59%   -0.78%     
==========================================
  Files          85       85              
  Lines       12209    11655     -554     
==========================================
- Hits        10057     9510     -547     
+ Misses       1753     1748       -5     
+ Partials      399      397       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/318?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `92.55% <100.00%> (-2.34%)` | :arrow_down: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `88.37% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.69% <0.00%> (+0.24%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/318?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
276,craigpastro,2022-10-29 16:55:03,Thank you for the contribution again!
321,codecov-commenter,2022-10-31 19:50:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/321?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@64f19de`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@          Coverage Diff           @@
##             main    #321   +/-   ##
======================================
  Coverage        ?   0.20%           
======================================
  Files           ?      59           
  Lines           ?    5930           
  Branches        ?       0           
======================================
  Hits            ?      12           
  Misses          ?    5918           
  Partials        ?       0           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/321?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
320,codecov-commenter,2022-10-31 19:51:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/320?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.28**% // Head: **82.40**% // Increases project coverage by **`+0.12%`** :tada:
> Coverage data is based on head [(`2085051`)](https://codecov.io/gh/openfga/openfga/pull/320?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`964ff0f`)](https://codecov.io/gh/openfga/openfga/commit/964ff0fec6f40cda284d7688a3f5ac5b872f42b2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #320      +/-   ##
==========================================
+ Coverage   82.28%   82.40%   +0.12%     
==========================================
  Files          85       85              
  Lines       12216    12216              
==========================================
+ Hits        10052    10067      +15     
+ Misses       1763     1753      -10     
+ Partials      401      396       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/320?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/320/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/320/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `89.43% <0.00%> (+1.47%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/320/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+2.52%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/320?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
314,fschulte-eiwa,2022-11-01 15:14:08,"> @fschulte-eiwa could you please build/run the `main` branch and confirm if this has been fixed with #315?

@jon-whit worked fine. I set the following parameters `--listObjects-max-results 50000 --listObjects-deadline 360s` and got the error informing that the `upstreamTimeout` should be higher than `listObjects-deadline`. Added `--http-upstream-timeout 365s` and listing worked as expected. Thanks.

"
314,jon-whit,2022-11-01 15:45:41,@fschulte-eiwa awesome! These changes will go out in our next release `v0.2.5`. Keep an eye out for that release notice. It'll probably be coming soon.
317,jon-whit,2022-11-01 16:52:09,- [x] Let's move the `cmd/openfga/util` package up one level so that it's under `cmd/util`.
323,codecov-commenter,2022-11-01 22:20:11,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/323?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.29**% // Head: **82.40**% // Increases project coverage by **`+0.11%`** :tada:
> Coverage data is based on head [(`a858573`)](https://codecov.io/gh/openfga/openfga/pull/323?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`73ac448`)](https://codecov.io/gh/openfga/openfga/commit/73ac44808f9083588e51cab7d45327f2d41937e0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #323      +/-   ##
==========================================
+ Coverage   82.29%   82.40%   +0.11%     
==========================================
  Files          85       85              
  Lines       12216    12216              
==========================================
+ Hits        10053    10067      +14     
+ Misses       1762     1753       -9     
+ Partials      401      396       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/323?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/323/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.45% <0.00%> (+0.59%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/323/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/323/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `89.43% <0.00%> (+1.96%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/323?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
324,codecov-commenter,2022-11-02 18:11:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/324?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.38**% // Head: **82.67**% // Increases project coverage by **`+0.29%`** :tada:
> Coverage data is based on head [(`36505ed`)](https://codecov.io/gh/openfga/openfga/pull/324?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`64f19de`)](https://codecov.io/gh/openfga/openfga/commit/64f19de457590850b584742d6764c04d1aa32585?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 48.23% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #324      +/-   ##
==========================================
+ Coverage   82.38%   82.67%   +0.29%     
==========================================
  Files          85       83       -2     
  Lines       12216    12105     -111     
==========================================
- Hits        10064    10008      -56     
+ Misses       1755     1694      -61     
- Partials      397      403       +6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/324?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <ø> (ø)` | |
| [cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `0.00% <ø> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <ø> (ø)` | |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `90.09% <ø> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <0.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <ø> (ø)` | |
| [server/commands/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2RlbGV0ZV9zdG9yZS5nbw==) | `77.77% <ø> (ø)` | |
| [server/commands/get\_store.go](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2dldF9zdG9yZS5nbw==) | `94.73% <ø> (ø)` | |
| ... and [28 more](https://codecov.io/gh/openfga/openfga/pull/324/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/324?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
325,codecov-commenter,2022-11-02 21:14:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/325?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.38**% // Head: **82.61**% // Increases project coverage by **`+0.23%`** :tada:
> Coverage data is based on head [(`60b4f79`)](https://codecov.io/gh/openfga/openfga/pull/325?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`64f19de`)](https://codecov.io/gh/openfga/openfga/commit/64f19de457590850b584742d6764c04d1aa32585?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 51.79% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #325      +/-   ##
==========================================
+ Coverage   82.38%   82.61%   +0.23%     
==========================================
  Files          85       83       -2     
  Lines       12216    12022     -194     
==========================================
- Hits        10064     9932     -132     
+ Misses       1755     1690      -65     
- Partials      397      400       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/325?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <ø> (ø)` | |
| [cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `0.00% <ø> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <ø> (ø)` | |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `90.09% <ø> (ø)` | |
| [pkg/encrypter/gcm\_encrypter.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9nY21fZW5jcnlwdGVyLmdv) | `62.50% <ø> (ø)` | |
| [server/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL29pZGMvb2lkYy5nbw==) | `50.90% <0.00%> (ø)` | |
| [server/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2F1dGhuL3ByZXNoYXJlZGtleS9wcmVzaGFyZWRrZXkuZ28=) | `100.00% <ø> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.46% <ø> (-1.34%)` | :arrow_down: |
| [server/commands/create\_store.go](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NyZWF0ZV9zdG9yZS5nbw==) | `84.21% <ø> (-1.51%)` | :arrow_down: |
| ... and [40 more](https://codecov.io/gh/openfga/openfga/pull/325/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/325?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
326,codecov-commenter,2022-11-03 16:11:58,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/326?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.73**% // Head: **82.77**% // Increases project coverage by **`+0.04%`** :tada:
> Coverage data is based on head [(`bb79ba3`)](https://codecov.io/gh/openfga/openfga/pull/326?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`b587057`)](https://codecov.io/gh/openfga/openfga/commit/b5870572d84be27304d361c2a43b72797da7fc16?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #326      +/-   ##
==========================================
+ Coverage   82.73%   82.77%   +0.04%     
==========================================
  Files          83       83              
  Lines       12105    12105              
==========================================
+ Hits        10015    10020       +5     
+ Misses       1689     1686       -3     
+ Partials      401      399       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/326?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/326/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `66.86% <0.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/326/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.69% <0.00%> (+0.49%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/326/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.79% <0.00%> (+1.26%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/326?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
328,codecov-commenter,2022-11-03 22:58:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/328?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.59**% // Head: **82.66**% // Increases project coverage by **`+0.06%`** :tada:
> Coverage data is based on head [(`695988f`)](https://codecov.io/gh/openfga/openfga/pull/328?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`c8fa0c7`)](https://codecov.io/gh/openfga/openfga/commit/c8fa0c7f3234d3d0b351a34868aaa9f102af2c87?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #328      +/-   ##
==========================================
+ Coverage   82.59%   82.66%   +0.06%     
==========================================
  Files          83       83              
  Lines       12022    12022              
==========================================
+ Hits         9930     9938       +8     
+ Misses       1691     1686       -5     
+ Partials      401      398       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/328?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/328/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `47.39% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/328/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.38% <0.00%> (+0.50%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/328/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.45% <0.00%> (+0.59%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/328/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/328?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
329,codecov-commenter,2022-11-04 15:55:51,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/329?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.61**% // Head: **82.71**% // Increases project coverage by **`+0.09%`** :tada:
> Coverage data is based on head [(`dc32107`)](https://codecov.io/gh/openfga/openfga/pull/329?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`2dacd30`)](https://codecov.io/gh/openfga/openfga/commit/2dacd308b4cfecac28c6468081b1f31a85ae8ebf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 76.47% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #329      +/-   ##
==========================================
+ Coverage   82.61%   82.71%   +0.09%     
==========================================
  Files          83       83              
  Lines       12022    12068      +46     
==========================================
+ Hits         9932     9982      +50     
+ Misses       1690     1689       -1     
+ Partials      400      397       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/329?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `72.58% <ø> (ø)` | |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `86.40% <0.00%> (-5.35%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.70% <77.77%> (+0.83%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <100.00%> (ø)` | |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `67.79% <100.00%> (+2.74%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.63% <0.00%> (+0.25%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/329/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/329?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
314,wma1729,2022-11-04 16:19:21,Do you have a date on when `v0.2.5` is coming out? I am trying to evaluate openfga and this one is a blocker.
314,jon-whit,2022-11-04 16:41:19,@wma1729 we'll cut the `v0.2.5` release next Monday. Keep an eye out for the announcement.
330,codecov-commenter,2022-11-04 21:51:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/330?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.65**% // Head: **82.37**% // Decreases project coverage by **`-0.28%`** :warning:
> Coverage data is based on head [(`269d8f8`)](https://codecov.io/gh/openfga/openfga/pull/330?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0a6e57b`)](https://codecov.io/gh/openfga/openfga/commit/0a6e57bd98d943140afd9e22158ba3a412494e66?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 79.39% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #330      +/-   ##
==========================================
- Coverage   82.65%   82.37%   -0.29%     
==========================================
  Files          83       85       +2     
  Lines       12068    13406    +1338     
==========================================
+ Hits         9975    11043    +1068     
- Misses       1694     1943     +249     
- Partials      399      420      +21     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/330?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9hdXRobi5nbw==) | `100.00% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `94.89% <0.00%> (ø)` | |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `88.96% <12.50%> (-1.21%)` | :arrow_down: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `81.25% <28.57%> (-7.13%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `27.05% <39.28%> (+1.09%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `67.41% <54.85%> (-23.50%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `79.14% <58.69%> (-16.23%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.75% <62.50%> (-0.64%)` | :arrow_down: |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `63.63% <63.63%> (ø)` | |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `84.95% <84.95%> (ø)` | |
| ... and [16 more](https://codecov.io/gh/openfga/openfga/pull/330/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/330?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
331,codecov-commenter,2022-11-07 18:08:33,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/331?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **82.37**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`6f77168`)](https://codecov.io/gh/openfga/openfga/pull/331?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ec59ea0`)](https://codecov.io/gh/openfga/openfga/commit/ec59ea01f7ad7ff66205e3ad682abd6f0baa707e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #331   +/-   ##
=======================================
  Coverage   82.37%   82.37%           
=======================================
  Files          85       85           
  Lines       13406    13406           
=======================================
  Hits        11043    11043           
  Misses       1943     1943           
  Partials      420      420           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/331?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
333,codecov-commenter,2022-11-07 18:13:07,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/333?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **82.37**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`ccbe3c7`)](https://codecov.io/gh/openfga/openfga/pull/333?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ec59ea0`)](https://codecov.io/gh/openfga/openfga/commit/ec59ea01f7ad7ff66205e3ad682abd6f0baa707e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #333   +/-   ##
=======================================
  Coverage   82.37%   82.37%           
=======================================
  Files          85       85           
  Lines       13406    13406           
=======================================
  Hits        11043    11043           
  Misses       1943     1943           
  Partials      420      420           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/333?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
332,codecov-commenter,2022-11-07 18:13:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/332?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **82.37**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`34f27ed`)](https://codecov.io/gh/openfga/openfga/pull/332?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ec59ea0`)](https://codecov.io/gh/openfga/openfga/commit/ec59ea01f7ad7ff66205e3ad682abd6f0baa707e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #332   +/-   ##
=======================================
  Coverage   82.37%   82.37%           
=======================================
  Files          85       85           
  Lines       13406    13406           
=======================================
  Hits        11043    11043           
  Misses       1943     1943           
  Partials      420      420           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/332?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
334,codecov-commenter,2022-11-07 18:14:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/334?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **82.31**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`8aff0f5`)](https://codecov.io/gh/openfga/openfga/pull/334?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ec59ea0`)](https://codecov.io/gh/openfga/openfga/commit/ec59ea01f7ad7ff66205e3ad682abd6f0baa707e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #334      +/-   ##
==========================================
- Coverage   82.37%   82.31%   -0.06%     
==========================================
  Files          85       85              
  Lines       13406    13406              
==========================================
- Hits        11043    11035       -8     
- Misses       1943     1948       +5     
- Partials      420      423       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/334?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/334/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `93.19% <0.00%> (-1.28%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/334/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.50% <0.00%> (-1.25%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/334?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
333,craigpastro,2022-11-07 19:48:45,@dependabot rebase
334,craigpastro,2022-11-07 19:54:44,@dependabot rebase
338,adriantam,2022-11-08 14:24:09,"Hello @jaymcguinness , thank you for reporting this issue.  We are not able to reproduce the CORS error with (`docker run -p 8080:8080 -p 3000:3000 openfga/openfga run`).  Can you provide more details on how you run the docker?  Thank you."
338,jaymcguinness,2022-11-08 14:44:07,"Replicated in docker (same command as you listed above) on both Windows and Mac, but I think the CORS error is a red herring - could be an issue with the Playground site? - https://play.fga.dev/sandbox

I believe the local docker environment, just iframes the live site and points back to my running instance?

On Mac

![Image 08-11-2022 at 14 48](https://user-images.githubusercontent.com/11387911/200596177-87957494-e531-4f9a-bd58-a2e1ca397536.jpg)

On Windows - accessing https://play.fga.dev/sandbox - no docker involved at all

![image](https://user-images.githubusercontent.com/11387911/200594719-ffa89203-d834-4ef3-8853-553a25ddc496.png)

![image](https://user-images.githubusercontent.com/11387911/200594769-c44f99b6-4ef0-4d9d-ae64-77728fe5b13b.png)
"
300,jon-whit,2022-11-08 15:17:40,"@ghstahl I was taking a look at this yesterday and noticed a lot of tuples such as

```
{
    ""object"": ""plan_repo:*"",
    ""relation"": ""plan"",
    ""user"": ""plan:*""
},
{
    ""object"": ""plan_repo:*"",
    ""relation"": ""plan"",
    ""user"": ""plan:free""
},
```
Out of curiosity, what use case(s) do you have to use the `*` character as an object identifier (e.g. `plan_repo:*`)? We're considering making the wildcard character a reserved character and disallowing it in the object id component (`type:id`). When you write `write(plan_repo:*#plan@plan:*)` what does that mean to you and what uses does that have?"
300,ghstahl,2022-11-08 17:14:50,"```*``` represents my global entity that represents a place where I put all my users, all known plans, etc.

***it's just a shortcut for ""my_company""***

imagine a github.com user vs that same user also being a member of an org.

A user can be added to an org.
However, there is a chain up check where the user must also exist in the global ```user_repo:*```
An org can have a plan, but that plan must also be in the global ```plan_repo:*```
A plan_provider, ```plan_provider:azure_marketplace``` is assigned plans that it can sell, but those plans must also exist in the ```plan_repo:*```

My users, which are orgless, get plans and rights at a ""I am just a lurker user"".  


It could just be something like the following
```
{
    ""object"": ""plan_repo:my_company"",
    ""relation"": ""plan"",
    ""user"": ""plan:*""
},
{
    ""object"": ""plan_repo:my_company"",
    ""relation"": ""plan"",
    ""user"": ""plan:free""
},
```
A global user has access to permissions, which are carried by features, and features are carried by plans.  So I just made a ```plan:*``` and all global users get that in context of being also part of my global org.  

All users are in a ```user_repo:*```.  All users are members of ```org:*```.  My ```org:*``` is subscribed to the ```plan:*```.  

So, using contextual tuples a user acting in context of themselves (i.e. in the global org) have certain rights.
"
300,jon-whit,2022-11-08 17:43:16,"Ok, so if we were to restrict the `*` character from being an acceptable object id then you'd just have to change things to `plan_repo:my_company` instead of the shorthand `plan_repo:*`. Do I understand that correctly? If so, is that prohibitive for you in any way or does that make sense?

We're trying to avoid allowing developers to write the `*` character for an object id because it can cause confusion since it's a reserved character to mean ""public access"" when writing it in a 'user`' value."
300,ghstahl,2022-11-08 18:21:53,I can work with that.  I will just change my ```*``` to ```global```
335,codecov-commenter,2022-11-08 18:57:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/335?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.37**% // Head: **82.67**% // Increases project coverage by **`+0.30%`** :tada:
> Coverage data is based on head [(`8cc18ca`)](https://codecov.io/gh/openfga/openfga/pull/335?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ec59ea0`)](https://codecov.io/gh/openfga/openfga/commit/ec59ea01f7ad7ff66205e3ad682abd6f0baa707e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #335      +/-   ##
==========================================
+ Coverage   82.37%   82.67%   +0.30%     
==========================================
  Files          85       85              
  Lines       13406    13607     +201     
==========================================
+ Hits        11043    11250     +207     
+ Misses       1943     1939       -4     
+ Partials      420      418       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/335?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `33.33% <ø> (ø)` | |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `85.71% <ø> (ø)` | |
| [server/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi5nbw==) | `85.18% <ø> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `80.80% <100.00%> (+1.66%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.53% <100.00%> (+0.78%)` | :arrow_up: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `89.80% <100.00%> (+0.83%)` | :arrow_up: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `92.36% <100.00%> (+1.09%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `95.10% <100.00%> (+0.21%)` | :arrow_up: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `99.04% <100.00%> (+0.10%)` | :arrow_up: |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/335/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/335?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
338,rhamzeh,2022-11-08 23:43:17,"Yep! The iframe is the main problem why you are encountering this issue and why we need CORS enabled.

At the moment we allow localhost:3000 explicitly on play.fga.dev.

Unfortunately until we do open source it, we cannot bundle it in with the openfga service and it is just an iframe that points to the live playground.

We have CORS enabled to prevent another site having play.fga.dev in an iframe, which would then provide a risk of them accessing your data.

On the timeline to OSS the playground, unfortunately we don't have one yet,as we're focusing on a few other things, however we are slowly building most of the related logic into the syntax transformer which will allow us or the community to more easily build and OSS a Playground with the same functionality (or cleaning and OSSing the current Playground) "
338,rhamzeh,2022-11-08 23:48:57,"In your case here though the CORS is not from the playground, but from the OpenFGA server.

May I ask that you show us the network tab and the logs from OpenFGA?

Also (and I'm sorry to be asking this) but can you confirm that nothing else other than OpenFGA is running on port 8080?

(If there was another service running, you might see this issue).

Finally, can you share your browser versions? Maybe there has been an update that triggers this?"
338,jaymcguinness,2022-11-09 09:57:31,"Totally understand about the Playground not being OSS yet - I think the fact that any of this is OSS is great 😄.  

And to be honest I can work around it - making API calls via a client works just fine and I can copy/paste my auth model to the real playground to test things out.  

> Show us the network tab and the logs from OpenFGA

Sorry, not 100% sure which logs you need? Browser network/logs or Docker? Which site? I can hit http://[127.0.0.1:8080/stores](http://127.0.0.1:8080/stores) and receive for a valid response for a brand new docker pull (and it lists the stores if I add them through a client api call):

`{
  ""stores"":[],
  ""continuation_token"":""""
}`

but the playground can't call the same endpoint due to CORS:

![image](https://user-images.githubusercontent.com/11387911/200798451-265b756a-00e4-4992-9fcc-00f3d3188047.png)


> Can you confirm that nothing else other than OpenFGA is running on port 8080

Good point, but no, nothing else is running on these ports.  I also checked the /healthz endpoint on localhost:8080 and get:

```
{
""status"": ""SERVING""
}
```

> Can you share your browser versions?

- Edge v107.0.1418.35
- Safari v16 (18614.1.25.1.1)

"
342,codecov-commenter,2022-11-09 23:59:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/342?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.75**% // Head: **82.83**% // Increases project coverage by **`+0.07%`** :tada:
> Coverage data is based on head [(`469e88d`)](https://codecov.io/gh/openfga/openfga/pull/342?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`be2e717`)](https://codecov.io/gh/openfga/openfga/commit/be2e717f10ab2bc190073b9241203e800100f840?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #342      +/-   ##
==========================================
+ Coverage   82.75%   82.83%   +0.07%     
==========================================
  Files          85       85              
  Lines       13629    13673      +44     
==========================================
+ Hits        11279    11326      +47     
+ Misses       1935     1933       -2     
+ Partials      415      414       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/342?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/342/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.12% <100.00%> (+0.31%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/342/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `95.19% <100.00%> (+0.08%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/342/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/342?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
343,codecov-commenter,2022-11-11 01:28:23,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/343?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.66**% // Head: **83.41**% // Decreases project coverage by **`-0.25%`** :warning:
> Coverage data is based on head [(`16e4e69`)](https://codecov.io/gh/openfga/openfga/pull/343?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`85c6edc`)](https://codecov.io/gh/openfga/openfga/commit/85c6edcaf93c8e6b2697fab934fb27f1828b1d1f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 68.26% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     openfga/openfga#343      +/-   ##
==========================================
- Coverage   83.66%   83.41%   -0.26%     
==========================================
  Files          85       85              
  Lines       13611    13618       +7     
==========================================
- Hits        11388    11359      -29     
- Misses       1852     1879      +27     
- Partials      371      380       +9     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/343?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `89.43% <ø> (-2.93%)` | :arrow_down: |
| [storage/errors.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9lcnJvcnMuZ28=) | `0.00% <ø> (-60.00%)` | :arrow_down: |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `92.23% <ø> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `65.52% <53.12%> (-1.63%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `64.31% <63.26%> (-1.37%)` | :arrow_down: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `81.25% <100.00%> (ø)` | |
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `85.71% <100.00%> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `91.74% <100.00%> (+0.29%)` | :arrow_up: |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `86.46% <100.00%> (-2.51%)` | :arrow_down: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `86.95% <100.00%> (-2.41%)` | :arrow_down: |
| ... and [9 more](https://codecov.io/gh/openfga/openfga/pull/343/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/343?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
345,linux-foundation-easycla[bot],2022-11-11 15:34:21," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/345/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li><a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/345/#/?version=2' target='_blank'>:x:</a> - login: @aaguiarz-uy / name: andres . The commit (11c0ece9de96424b6f4899a216520f8bc9220a7a) is not authorized under a signed CLA. <a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/345/#/?version=2' target='_blank'>Please click here to be authorized</a>. For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
343,miparnisari,2022-11-12 01:38:14,"I took the liberty of renaming this PR to `feat` instead of `refactor` :)

Also you might want to update the documentation at https://github.com/openfga/openfga/blob/0a6e57bd98d943140afd9e22158ba3a412494e66/storage/storage.go#L256-L261"
197,linux-foundation-easycla[bot],2022-11-14 06:37:07,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: jon-whit / name: Jonathan Whitaker  (51fe8eb2ff9c261cb1b2b6752732af71a764d495)</li><li>:white_check_mark: login: miparnisari / name: Maria Ines Parnisari  (2aca42961ee376964186df27ffbade1aa0e2cf55)</li></ul>"
189,miparnisari,2022-11-15 03:13:54,"@jon-whit ~This only applies to 1.1 models, correct?~ no, 1.0 and 1.1"
343,MarceloPeresToi,2022-11-15 20:25:39,"Really looking forward to this feature! 
How long before release? (no pressure hahaha) 😄 "
348,codecov-commenter,2022-11-15 23:38:38,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/348?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.70**% // Head: **83.83**% // Increases project coverage by **`+0.13%`** :tada:
> Coverage data is based on head [(`514868a`)](https://codecov.io/gh/openfga/openfga/pull/348?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8f50954`)](https://codecov.io/gh/openfga/openfga/commit/8f50954737ecf8ed110740a7beebbd5293a4e54e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #348      +/-   ##
==========================================
+ Coverage   83.70%   83.83%   +0.13%     
==========================================
  Files          85       85              
  Lines       13613    13662      +49     
==========================================
+ Hits        11395    11454      +59     
+ Misses       1847     1840       -7     
+ Partials      371      368       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/348?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `85.71% <ø> (ø)` | |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `92.53% <100.00%> (+0.87%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `80.87% <100.00%> (+0.07%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `88.26% <100.00%> (+0.20%)` | :arrow_up: |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.67% <100.00%> (+0.01%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.36% <0.00%> (+0.95%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/348/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/348?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
347,codecov-commenter,2022-11-17 01:18:07,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/347?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.00**% // Head: **83.55**% // Decreases project coverage by **`-0.45%`** :warning:
> Coverage data is based on head [(`7bf5e0d`)](https://codecov.io/gh/openfga/openfga/pull/347?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f541456`)](https://codecov.io/gh/openfga/openfga/commit/f54145604c307c673bf97d125c7bcb45d9edaadc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 98.43% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #347      +/-   ##
==========================================
- Coverage   84.00%   83.55%   -0.46%     
==========================================
  Files          83       83              
  Lines       13827    12724    -1103     
==========================================
- Hits        11615    10631     -984     
+ Misses       1836     1718     -118     
+ Partials      376      375       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/347?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `80.00% <ø> (-0.86%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.09% <50.00%> (+2.69%)` | :arrow_up: |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `76.92% <100.00%> (+10.25%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `89.11% <100.00%> (-6.17%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.43% <0.00%> (-0.42%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.98% <0.00%> (+0.20%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `71.94% <0.00%> (+3.64%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `68.92% <0.00%> (+3.83%)` | :arrow_up: |
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `72.44% <0.00%> (+4.08%)` | :arrow_up: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/347/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/347?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
341,codecov-commenter,2022-11-17 23:30:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/341?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.77**% // Head: **83.62**% // Decreases project coverage by **`-0.14%`** :warning:
> Coverage data is based on head [(`c81665c`)](https://codecov.io/gh/openfga/openfga/pull/341?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d5914`)](https://codecov.io/gh/openfga/openfga/commit/46d5914859ef0a9114172f3d365b6ffd3c844219?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 91.23% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #341      +/-   ##
==========================================
- Coverage   83.77%   83.62%   -0.15%     
==========================================
  Files          85       85              
  Lines       13697    13904     +207     
==========================================
+ Hits        11474    11627     +153     
- Misses       1852     1894      +42     
- Partials      371      383      +12     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/341?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `70.37% <50.00%> (-13.85%)` | :arrow_down: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `82.95% <72.41%> (-9.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.33% <74.28%> (-2.09%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `80.98% <81.81%> (-8.82%)` | :arrow_down: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `87.30% <87.30%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.38% <92.00%> (+1.16%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (+5.17%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `54.54% <100.00%> (+21.21%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.60% <100.00%> (+0.13%)` | :arrow_up: |
| ... and [11 more](https://codecov.io/gh/openfga/openfga/pull/341/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/341?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
353,codecov-commenter,2022-11-18 15:31:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/353?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.66**% // Head: **83.67**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`7b842ae`)](https://codecov.io/gh/openfga/openfga/pull/353?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`85c6edc`)](https://codecov.io/gh/openfga/openfga/commit/85c6edcaf93c8e6b2697fab934fb27f1828b1d1f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #353   +/-   ##
=======================================
  Coverage   83.66%   83.67%           
=======================================
  Files          85       85           
  Lines       13611    13611           
=======================================
+ Hits        11388    11389    +1     
+ Misses       1852     1851    -1     
  Partials      371      371           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/353?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/353/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.64% <0.00%> (+0.23%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/353?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
149,craigpastro,2022-11-18 18:29:31,Let's do this when we update Read.
318,craigpastro,2022-11-18 18:32:46,Will be done as part of #347.
354,miparnisari,2022-11-18 23:02:13,"I think the root cause is this: https://github.com/openfga/openfga/blob/584222f247f906b3451fce2f89ed9cff0c8ec64d/server/commands/list_objects.go#L245

We should be removing the tuples that don't have a matching object type.

After this PR https://github.com/openfga/openfga/pull/341 is merged, we can use the `filteredTupleKeyIterator` 👍 "
355,codecov-commenter,2022-11-21 18:32:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/355?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **83.84**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`0c906d6`)](https://codecov.io/gh/openfga/openfga/pull/355?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ab552b3`)](https://codecov.io/gh/openfga/openfga/commit/ab552b33c02c6f70b82a88a767dcdd0963fd13a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #355      +/-   ##
==========================================
+ Coverage   83.79%   83.84%   +0.05%     
==========================================
  Files          85       85              
  Lines       13697    13697              
==========================================
+ Hits        11477    11484       +7     
+ Misses       1850     1845       -5     
+ Partials      370      368       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/355?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.36% <0.00%> (+0.23%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.70% <0.00%> (+0.54%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/355?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
356,codecov-commenter,2022-11-21 18:33:10,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/356?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **83.75**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`94377cc`)](https://codecov.io/gh/openfga/openfga/pull/356?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ab552b3`)](https://codecov.io/gh/openfga/openfga/commit/ab552b33c02c6f70b82a88a767dcdd0963fd13a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #356      +/-   ##
==========================================
- Coverage   83.79%   83.75%   -0.04%     
==========================================
  Files          85       85              
  Lines       13697    13697              
==========================================
- Hits        11477    11472       -5     
- Misses       1850     1853       +3     
- Partials      370      372       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/356?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/356/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.93% <0.00%> (-1.19%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/356?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
357,codecov-commenter,2022-11-21 18:33:19,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/357?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **83.83**% // Increases project coverage by **`+0.04%`** :tada:
> Coverage data is based on head [(`d7faf15`)](https://codecov.io/gh/openfga/openfga/pull/357?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ab552b3`)](https://codecov.io/gh/openfga/openfga/commit/ab552b33c02c6f70b82a88a767dcdd0963fd13a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #357      +/-   ##
==========================================
+ Coverage   83.79%   83.83%   +0.04%     
==========================================
  Files          85       85              
  Lines       13697    13697              
==========================================
+ Hits        11477    11483       +6     
+ Misses       1850     1846       -4     
+ Partials      370      368       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/357?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/357/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.12% <0.00%> (ø)` | |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/357/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/357/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/357?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
358,codecov-commenter,2022-11-21 18:36:07,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/358?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **83.84**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`6ecbc86`)](https://codecov.io/gh/openfga/openfga/pull/358?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ab552b3`)](https://codecov.io/gh/openfga/openfga/commit/ab552b33c02c6f70b82a88a767dcdd0963fd13a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #358      +/-   ##
==========================================
+ Coverage   83.79%   83.84%   +0.05%     
==========================================
  Files          85       85              
  Lines       13697    13697              
==========================================
+ Hits        11477    11484       +7     
+ Misses       1850     1845       -5     
+ Partials      370      368       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/358?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/358/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.36% <0.00%> (+0.23%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/358/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/358/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/358?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
359,codecov-commenter,2022-11-21 18:36:31,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/359?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **83.85**% // Increases project coverage by **`+0.06%`** :tada:
> Coverage data is based on head [(`54a9f07`)](https://codecov.io/gh/openfga/openfga/pull/359?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ab552b3`)](https://codecov.io/gh/openfga/openfga/commit/ab552b33c02c6f70b82a88a767dcdd0963fd13a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #359      +/-   ##
==========================================
+ Coverage   83.79%   83.85%   +0.06%     
==========================================
  Files          85       85              
  Lines       13697    13697              
==========================================
+ Hits        11477    11486       +9     
+ Misses       1850     1844       -6     
+ Partials      370      367       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/359?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/359/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `66.23% <0.00%> (+0.55%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/359/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.83% <0.00%> (+0.71%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/359/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.74% <0.00%> (+1.27%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/359?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
360,linux-foundation-easycla[bot],2022-11-23 11:29:25,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: AlexandreBrg / name: Alexandre Burgoni  (2a7cc5ffca3b15deae83b73d08004f885e275306, 23c65d5fd91548baad86e8e350ae7ea9c5612c60)</li></ul>"
360,craigpastro,2022-11-23 18:20:56,"Wow! Thanks for this great PR. The OpenFGA team is on vacation this week, but we’ll try to get around to reviewing this early next week. Thanks again for the contribution!"
360,codecov-commenter,2022-11-23 18:26:26,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/360?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.68**% // Head: **84.54**% // Decreases project coverage by **`-0.14%`** :warning:
> Coverage data is based on head [(`7c79a3e`)](https://codecov.io/gh/openfga/openfga/pull/360?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e96509a`)](https://codecov.io/gh/openfga/openfga/commit/e96509a14fddf07cb0f8e3051759eb21887c87d9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 62.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #360      +/-   ##
==========================================
- Coverage   84.68%   84.54%   -0.15%     
==========================================
  Files          84       84              
  Lines       13834    13895      +61     
==========================================
+ Hits        11716    11747      +31     
- Misses       1736     1759      +23     
- Partials      382      389       +7     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/360?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.50% <ø> (-0.53%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `51.54% <31.81%> (-0.59%)` | :arrow_down: |
| [pkg/telemetry/metrics.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9tZXRyaWNzLmdv) | `76.92% <76.00%> (-23.08%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `97.60% <0.00%> (-1.44%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.21% <0.00%> (-0.53%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/360/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.97% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/360?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
361,rhamzeh,2022-11-28 14:42:01,"Thanks for raising the issue @LoicSikidi!

Marked it as an enhancement for the team to discuss.

It the meantime, we would recommend just issuing checks in parallel. We can consider adding support for this in the SDK even before we start supporting it in the API so that it is an easier DX for you.

> What are the relationships (directs & indirects) a user X has on the object Y?

Usually the number of relationships/roles you care about between a user and an object depends on the context, and it is rare that you actually care about all of them.

Let's take some examples:

```py
type user
type folder
  relations
    define parent as self
    define owner as self
    define viewer as self
    define can_share as owner
    define can_view as viewer or owner
    # ... etc ...
type document
  relations
    define parent as self
    define owner as self
    define viewer as self
    define can_share as owner
    define can_view as viewer or owner
    # ... etc ...
```

1. know what actions a user can do on a resource

Let's say you are displaying a document, what are the checks you would need to perform?

- Can the user share? To display the share button
- Can the user delete? To display the delete button
- Can the user edit? To display the edit button
- Can the user comment? To display the comment text area
- Can the user view comments? To display comments by other people
- Can the user see document history?
- etc..

What you don't care about are parent, editor, owner, viewer, blocked and any other relations that are not necessary for performing actions.

Of course as the list of actions a user can perform grows, parallel checks can become unwieldy.

How many actions can a user perform on a resource in your case?

2. Display the user roles on the document

Maybe you already shared something with someone and want to display the roles they have.

In this case, you probably only care about owner, viewer, and editor (etc..), but not about parent, or any of the relations indicating what the user can do.

It's possible that read itself is enough, as you may not actually want indirect relationships here.

3. Display Object <> Object relations?

Google Drive may not be the best use case for this, because this data can be stored in a column in your datastore, but let's say you want to find out if Folder A is the parent of Document B, in that case it will be a check just on that.

Or more likely, a read as usually you are only interested in the direct parent.


In summary, thanks for the ask! We'll take it into consideration, and we'll discuss whether it is best to add it to the API, the SDKs or keep recommending checks for now.
"
343,craigpastro,2022-11-28 17:30:43,"In light of https://github.com/openfga/community/issues/265, I'll close this for now."
341,jon-whit,2022-11-28 17:42:07,The filtered tuple iterator will help fix https://github.com/openfga/openfga/issues/354
360,jon-whit,2022-11-28 20:32:44,"@AlexandreBrg thanks for contributing 👍 We've had telemetry on the todo list for a hot-minute. 

I like the approach you've taken here, and we'd love to move forward with your contribution. However, we'd like to minimize the maintenance footprint of the OpenTelemetry integration in OpenFGA. For this reason, we'd prefer to support a single OpenTelemetry exporter and encourage the community to use the OTEL Collector if they need to collect and transform to an alternative format (e.g. prometheus, jaeger, etc..).

Would you mind repurposing this PR to expose only the `otlp` exporter ?"
350,codecov-commenter,2022-11-29 00:40:53,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/350?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.77**% // Head: **83.72**% // Decreases project coverage by **`-0.04%`** :warning:
> Coverage data is based on head [(`f161331`)](https://codecov.io/gh/openfga/openfga/pull/350?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d5914`)](https://codecov.io/gh/openfga/openfga/commit/46d5914859ef0a9114172f3d365b6ffd3c844219?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 91.95% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #350      +/-   ##
==========================================
- Coverage   83.77%   83.72%   -0.05%     
==========================================
  Files          85       85              
  Lines       13697    13899     +202     
==========================================
+ Hits        11474    11637     +163     
- Misses       1852     1883      +31     
- Partials      371      379       +8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/350?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `70.37% <50.00%> (-13.85%)` | :arrow_down: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `82.95% <72.41%> (-9.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `86.55% <74.28%> (-0.86%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `80.98% <81.81%> (-8.82%)` | :arrow_down: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `89.18% <89.18%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.35% <94.73%> (+1.12%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (+5.17%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `54.54% <100.00%> (+21.21%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.85% <100.00%> (+1.38%)` | :arrow_up: |
| ... and [13 more](https://codecov.io/gh/openfga/openfga/pull/350/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/350?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
366,codecov-commenter,2022-11-29 05:39:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/366?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.77**% // Head: **83.66**% // Decreases project coverage by **`-0.11%`** :warning:
> Coverage data is based on head [(`ef24cbb`)](https://codecov.io/gh/openfga/openfga/pull/366?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d5914`)](https://codecov.io/gh/openfga/openfga/commit/46d5914859ef0a9114172f3d365b6ffd3c844219?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 92.08% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #366      +/-   ##
==========================================
- Coverage   83.77%   83.66%   -0.12%     
==========================================
  Files          85       85              
  Lines       13697    13923     +226     
==========================================
+ Hits        11474    11648     +174     
- Misses       1852     1892      +40     
- Partials      371      383      +12     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/366?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `70.37% <50.00%> (-13.85%)` | :arrow_down: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `82.95% <72.41%> (-9.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.08% <74.28%> (-2.33%)` | :arrow_down: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `80.98% <81.81%> (-8.82%)` | :arrow_down: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `89.18% <89.18%> (ø)` | |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.89% <90.00%> (+1.50%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.38% <92.00%> (+1.16%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (+5.17%)` | :arrow_up: |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `54.54% <100.00%> (+21.21%)` | :arrow_up: |
| ... and [17 more](https://codecov.io/gh/openfga/openfga/pull/366/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/366?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
349,miparnisari,2022-11-29 06:09:18,Closing as this code got removed
367,codecov-commenter,2022-11-30 21:02:23,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/367?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.61**% // Head: **83.61**% // Decreases project coverage by **`-0.00%`** :warning:
> Coverage data is based on head [(`527f6eb`)](https://codecov.io/gh/openfga/openfga/pull/367?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`9966aa7`)](https://codecov.io/gh/openfga/openfga/commit/9966aa74b8ad21a9390ed126d601693c4ea03614?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 85.71% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #367      +/-   ##
==========================================
- Coverage   83.61%   83.61%   -0.01%     
==========================================
  Files          85       85              
  Lines       13899    13878      -21     
==========================================
- Hits        11622    11604      -18     
+ Misses       1893     1889       -4     
- Partials      384      385       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/367?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.27% <85.71%> (-1.06%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.67% <0.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.60% <0.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.15% <0.00%> (+0.54%)` | :arrow_up: |
| [storage/postgres/utils.go](https://codecov.io/gh/openfga/openfga/pull/367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy91dGlscy5nbw==) | `89.36% <0.00%> (+0.70%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/367?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
369,codecov-commenter,2022-12-02 00:58:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/369?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.77**% // Head: **83.71**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`9849ac0`)](https://codecov.io/gh/openfga/openfga/pull/369?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`90fc814`)](https://codecov.io/gh/openfga/openfga/commit/90fc81404940f6ee595cd6e6e7f2face24d2e3a2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #369      +/-   ##
==========================================
- Coverage   83.77%   83.71%   -0.06%     
==========================================
  Files          85       85              
  Lines       13910    13918       +8     
==========================================
- Hits        11653    11652       -1     
- Misses       1878     1884       +6     
- Partials      379      382       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/369?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/369/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.62% <100.00%> (-0.08%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/369/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.60% <0.00%> (-1.25%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/369/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.56% <0.00%> (-0.78%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/369?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
369,craigpastro,2022-12-02 01:30:09,"In each of these cases we iterate over all of the rows and according to the documentation
> // Close closes the Rows, preventing further enumeration. If Next is called
> // and returns false and there are no further result sets,
> // the Rows are closed automatically and it will suffice to check the
> // result of Err.

so explicitly calling `Close` is unnecessary, but I don't mind being explicit. If we do add these should we also add them to the MySQL implementation as well?"
304,craigpastro,2022-12-02 01:47:23,I'll close this issue for now. Please reopen it if it has not solved your problem.
370,codecov-commenter,2022-12-02 01:48:19,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/370?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.97**% // Head: **83.99**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`90a3a13`)](https://codecov.io/gh/openfga/openfga/pull/370?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`b38e8b7`)](https://codecov.io/gh/openfga/openfga/commit/b38e8b79ccb751240369e359f488737581a2fecd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

> :exclamation: Current head 90a3a13 differs from pull request most recent head 33303ef. Consider uploading reports for the commit 33303ef to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #370      +/-   ##
==========================================
+ Coverage   83.97%   83.99%   +0.01%     
==========================================
  Files          83       83              
  Lines       13757    13725      -32     
==========================================
- Hits        11553    11528      -25     
+ Misses       1829     1822       -7     
  Partials      375      375              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/370?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `90.47% <ø> (-0.09%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.48% <100.00%> (+0.06%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `71.42% <0.00%> (-14.29%)` | :arrow_down: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `89.18% <0.00%> (-0.29%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `92.81% <0.00%> (-0.04%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.07% <0.00%> (+0.55%)` | :arrow_up: |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `88.97% <0.00%> (+0.73%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/370/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.79% <0.00%> (+0.79%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/370?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
360,alexandrebrg,2022-12-02 13:32:08,"> @AlexandreBrg thanks for contributing 👍 We've had telemetry on the todo list for a hot-minute.
> 
> I like the approach you've taken here, and we'd love to move forward with your contribution. However, we'd like to minimize the maintenance footprint of the OpenTelemetry integration in OpenFGA. For this reason, we'd prefer to support a single OpenTelemetry exporter and encourage the community to use the OTEL Collector if they need to collect and transform to an alternative format (e.g. prometheus, jaeger, etc..).
> 
> Would you mind repurposing this PR to expose only the `otlp` exporter ?

Thank you! I'll update the PR accordingly with your request 😄 "
371,codecov-commenter,2022-12-02 21:38:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/371?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.05**% // Head: **84.07**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`5e6df04`)](https://codecov.io/gh/openfga/openfga/pull/371?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f92c305`)](https://codecov.io/gh/openfga/openfga/commit/f92c30578cf1ca4f4a255cdf7e89a8983cee896f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 74.28% of modified lines in pull request are covered.

> :exclamation: Current head 5e6df04 differs from pull request most recent head 967cc34. Consider uploading reports for the commit 967cc34 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #371      +/-   ##
==========================================
+ Coverage   84.05%   84.07%   +0.01%     
==========================================
  Files          83       83              
  Lines       13722    13757      +35     
==========================================
+ Hits        11534    11566      +32     
- Misses       1816     1820       +4     
+ Partials      372      371       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/371?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.75% <38.46%> (-0.82%)` | :arrow_down: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `92.84% <71.42%> (+0.03%)` | :arrow_up: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `89.47% <100.00%> (+0.28%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.42% <100.00%> (+0.06%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://codecov.io/gh/openfga/openfga/pull/371/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `85.71% <0.00%> (+14.28%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/371?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
372,codecov-commenter,2022-12-02 22:50:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/372?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.77**% // Head: **83.70**% // Decreases project coverage by **`-0.06%`** :warning:
> Coverage data is based on head [(`fec6ab8`)](https://codecov.io/gh/openfga/openfga/pull/372?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`90fc814`)](https://codecov.io/gh/openfga/openfga/commit/90fc81404940f6ee595cd6e6e7f2face24d2e3a2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 89.08% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #372      +/-   ##
==========================================
- Coverage   83.77%   83.70%   -0.07%     
==========================================
  Files          85       83       -2     
  Lines       13910    13700     -210     
==========================================
- Hits        11653    11468     -185     
+ Misses       1878     1862      -16     
+ Partials      379      370       -9     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/372?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `27.29% <0.00%> (+0.24%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `68.19% <ø> (+0.48%)` | :arrow_up: |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `93.89% <ø> (ø)` | |
| [server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZC5nbw==) | `97.62% <97.67%> (-0.54%)` | :arrow_down: |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `82.85% <100.00%> (-5.28%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `78.04% <100.00%> (+0.54%)` | :arrow_up: |
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `80.85% <100.00%> (-0.40%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.73% <100.00%> (+2.28%)` | :arrow_up: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `92.81% <100.00%> (-0.02%)` | :arrow_down: |
| ... and [5 more](https://codecov.io/gh/openfga/openfga/pull/372/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/372?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
377,craigpastro,2022-12-05 19:10:26,Will be done in #372.
377,dependabot[bot],2022-12-05 19:10:29,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
375,craigpastro,2022-12-05 19:53:58,@dependabot rebase
368,codecov-commenter,2022-12-05 23:01:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/368?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.79**% // Head: **84.06**% // Increases project coverage by **`+0.26%`** :tada:
> Coverage data is based on head [(`f18b439`)](https://codecov.io/gh/openfga/openfga/pull/368?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`27c8c9f`)](https://codecov.io/gh/openfga/openfga/commit/27c8c9fd8ae5798f1e6c7d1f1077a3e212cb1e7c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 75.33% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #368      +/-   ##
==========================================
+ Coverage   83.79%   84.06%   +0.26%     
==========================================
  Files          85       85              
  Lines       13926    13948      +22     
==========================================
+ Hits        11669    11725      +56     
+ Misses       1878     1839      -39     
- Partials      379      384       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/368?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `38.59% <0.00%> (+11.53%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `85.71% <75.00%> (-1.91%)` | :arrow_down: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `88.44% <81.39%> (+8.54%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.79% <0.00%> (-1.55%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `94.60% <0.00%> (-1.25%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.62% <0.00%> (-1.11%)` | :arrow_down: |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `88.23% <0.00%> (-0.74%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `80.00% <0.00%> (+2.50%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/368/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/368?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
379,codecov-commenter,2022-12-06 06:28:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/379?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.58**% // Head: **83.64**% // Increases project coverage by **`+0.06%`** :tada:
> Coverage data is based on head [(`30ccc23`)](https://codecov.io/gh/openfga/openfga/pull/379?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`73e106e`)](https://codecov.io/gh/openfga/openfga/commit/73e106ebde17896b229a525d7cfeea6902f78058?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #379      +/-   ##
==========================================
+ Coverage   83.58%   83.64%   +0.06%     
==========================================
  Files          83       83              
  Lines       13700    13700              
==========================================
+ Hits        11451    11460       +9     
+ Misses       1873     1867       -6     
+ Partials      376      373       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/379?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `79.89% <100.00%> (ø)` | |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.66% <100.00%> (ø)` | |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `69.10% <100.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.64% <0.00%> (ø)` | |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.85% <0.00%> (+1.24%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/379/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `85.82% <0.00%> (+1.54%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/379?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
380,rhamzeh,2022-12-06 20:20:48,Thanks for raising this issue @OysteinVesth! We'll look into it and get back to you shortly
381,codecov-commenter,2022-12-06 23:59:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/381?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.71**% // Head: **84.74**% // Increases project coverage by **`+0.03%`** :tada:
> Coverage data is based on head [(`dd32b7a`)](https://codecov.io/gh/openfga/openfga/pull/381?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bf914f9`)](https://codecov.io/gh/openfga/openfga/commit/bf914f9312c3365168bc5a10c466c6cefb792e7e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 87.94% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #381      +/-   ##
==========================================
+ Coverage   84.71%   84.74%   +0.03%     
==========================================
  Files          83       84       +1     
  Lines       13850    14003     +153     
==========================================
+ Hits        11733    11867     +134     
- Misses       1740     1756      +16     
- Partials      377      380       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/381?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `66.66% <ø> (+2.46%)` | :arrow_up: |
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `94.02% <ø> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.37% <57.14%> (+0.27%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.73% <68.08%> (+0.81%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.61% <68.08%> (+0.66%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `72.00% <96.15%> (+2.90%)` | :arrow_up: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.96% <100.00%> (+0.05%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `98.99% <100.00%> (+3.55%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `85.20% <100.00%> (+1.61%)` | :arrow_up: |
| ... and [12 more](https://codecov.io/gh/openfga/openfga/pull/381/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/381?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
380,craigpastro,2022-12-07 00:11:06,"Hi @OysteinVesth. Thanks for raising this issue 🙌 

This behaviour seems to have started after we changed from `pgx` to `database/sql`. `database/sql` by default only allows two idle connections, and a check seems to use more than two connections, which it opens and then `database/sql` closes. Updating `MaxIdleConns` seems to help.

Idle connections seem to consume around [10MB of memory](https://aws.amazon.com/blogs/database/resources-consumed-by-idle-postgresql-connections/) so I think conservatively raising the `MaxIdleConns` to 5 and seeing if that helps is a good start. I'd rather not make this a config option as we already have so many, but we can certainly consider it if necessary.

WDYT?"
380,craigpastro,2022-12-07 01:52:08,"On second thought, it probably makes sense to make this a config option. I'll discuss it with the team. Thanks again ✌️ "
382,codecov-commenter,2022-12-07 03:20:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/382?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.97**% // Head: **83.97**% // Decreases project coverage by **`-0.00%`** :warning:
> Coverage data is based on head [(`5e4613e`)](https://codecov.io/gh/openfga/openfga/pull/382?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d1d87`)](https://codecov.io/gh/openfga/openfga/commit/46d1d870b565993f5904a794b4a9494a6fc0bb6b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 74.59% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #382      +/-   ##
==========================================
- Coverage   83.97%   83.97%   -0.01%     
==========================================
  Files          83       83              
  Lines       13760    13839      +79     
==========================================
+ Hits        11555    11621      +66     
- Misses       1829     1843      +14     
+ Partials      376      375       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/382?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `66.34% <60.00%> (-6.24%)` | :arrow_down: |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.00% <63.38%> (-3.59%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `65.08% <75.00%> (+<0.01%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `88.54% <80.95%> (+0.09%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `88.73% <81.48%> (+3.02%)` | :arrow_up: |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `92.65% <83.33%> (-0.19%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.19% <100.00%> (+0.69%)` | :arrow_up: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `80.98% <100.00%> (ø)` | |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.78% <100.00%> (+0.05%)` | :arrow_up: |
| [storage/mysql/utils.go](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC91dGlscy5nbw==) | `89.13% <100.00%> (+0.15%)` | :arrow_up: |
| ... and [12 more](https://codecov.io/gh/openfga/openfga/pull/382/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/382?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
380,OysteinVesth,2022-12-07 06:40:39,"Thanks for the fast response @craigpastro! 🤩
Do you think this fix will be part of a `v0.2.6`. And do you know approx. when it will be released?"
383,jon-whit,2022-12-07 18:10:34,"> haha. That is what tab completion is for.

Sure, but it's extra unnecessary text 😄 "
386,codecov-commenter,2022-12-08 01:53:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/386?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.97**% // Head: **85.30**% // Increases project coverage by **`+1.33%`** :tada:
> Coverage data is based on head [(`51c81fe`)](https://codecov.io/gh/openfga/openfga/pull/386?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d1d87`)](https://codecov.io/gh/openfga/openfga/commit/46d1d870b565993f5904a794b4a9494a6fc0bb6b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #386      +/-   ##
==========================================
+ Coverage   83.97%   85.30%   +1.33%     
==========================================
  Files          83       83              
  Lines       13760    14893    +1133     
==========================================
+ Hits        11555    12705    +1150     
+ Misses       1829     1818      -11     
+ Partials      376      370       -6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/386?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `99.86% <100.00%> (+0.72%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `67.64% <0.00%> (+0.54%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.85% <0.00%> (+1.24%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.75% <0.00%> (+1.25%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/386?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
384,codecov-commenter,2022-12-08 17:43:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/384?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.00**% // Head: **84.01**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`910be47`)](https://codecov.io/gh/openfga/openfga/pull/384?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`fdfbc3e`)](https://codecov.io/gh/openfga/openfga/commit/fdfbc3eab6dba6da811d37632874b6f2c38eb0a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #384   +/-   ##
=======================================
  Coverage   84.00%   84.01%           
=======================================
  Files          83       83           
  Lines       13765    13765           
=======================================
+ Hits        11563    11564    +1     
+ Misses       1828     1827    -1     
  Partials      374      374           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/384?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/384/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `82.85% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/384/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `83.70% <0.00%> (+0.24%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/384?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
387,codecov-commenter,2022-12-08 17:45:18,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/387?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.97**% // Head: **84.00**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`8a41b63`)](https://codecov.io/gh/openfga/openfga/pull/387?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`46d1d87`)](https://codecov.io/gh/openfga/openfga/commit/46d1d870b565993f5904a794b4a9494a6fc0bb6b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 66.66% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #387      +/-   ##
==========================================
+ Coverage   83.97%   84.00%   +0.02%     
==========================================
  Files          83       83              
  Lines       13760    13765       +5     
==========================================
+ Hits        11555    11563       +8     
+ Misses       1829     1828       -1     
+ Partials      376      374       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/387?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/387/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.19% <66.66%> (+0.69%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/387/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `85.92% <0.00%> (-2.52%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/387/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `64.52% <0.00%> (-0.56%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/387/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `68.19% <0.00%> (+1.09%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/387/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.85% <0.00%> (+1.24%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/387?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
381,jon-whit,2022-12-08 17:53:03,Subsequent PR will wire these up t flags in the `openfga run` CLI entrypoint?
381,craigpastro,2022-12-08 19:21:46,@jon-whit I'll get to that in this PR
381,miparnisari,2022-12-08 23:44:13,"> Resolves https://github.com/openfga/openfga/issues/380.

can you put more details as to how you tested that it solves the problem?"
388,akoserwal,2022-12-09 09:55:32,I was missing the migrate command run
381,craigpastro,2022-12-09 18:16:51,"> can you put more details as to how you tested that it solves the problem?

@miparnisari Sure. More details added in the comment. And also, good point, I won't resolve the issue, but just reference it. Thanks!"
380,craigpastro,2022-12-09 19:13:02,"Hi @OysteinVesth 👋 

I've created a PR that adds the configurability of `MaxIdleConns` and a few other settings. Hopefully, it will be reviewed soon, then we can make a release with those changes. Not sure of an exact timeline, but soon I hope! Thank you for your patience. "
389,codecov-commenter,2022-12-09 23:36:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/389?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.00**% // Head: **84.86**% // Increases project coverage by **`+0.85%`** :tada:
> Coverage data is based on head [(`a6be9d2`)](https://codecov.io/gh/openfga/openfga/pull/389?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f541456`)](https://codecov.io/gh/openfga/openfga/commit/f54145604c307c673bf97d125c7bcb45d9edaadc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 99.42% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #389      +/-   ##
==========================================
+ Coverage   84.00%   84.86%   +0.85%     
==========================================
  Files          83       83              
  Lines       13827    13838      +11     
==========================================
+ Hits        11615    11743     +128     
+ Misses       1836     1722     -114     
+ Partials      376      373       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/389?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvc2VydmVyLmdv) | `80.00% <ø> (-0.86%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `50.29% <20.00%> (+11.35%)` | :arrow_up: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.09% <50.00%> (+2.69%)` | :arrow_up: |
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `76.92% <100.00%> (+10.25%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `89.11% <100.00%> (-6.17%)` | :arrow_down: |
| [server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZXhwYW5kLmdv) | `99.86% <100.00%> (+0.71%)` | :arrow_up: |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.14% <0.00%> (-2.13%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `95.43% <0.00%> (-0.42%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.58% <0.00%> (-0.21%)` | :arrow_down: |
| ... and [5 more](https://codecov.io/gh/openfga/openfga/pull/389/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/389?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
390,codecov-commenter,2022-12-09 23:37:59,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/390?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.81**% // Head: **84.78**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`b01c484`)](https://codecov.io/gh/openfga/openfga/pull/390?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e61d70c`)](https://codecov.io/gh/openfga/openfga/commit/e61d70cc8e06b329acee56ec5b199414a3b1438b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #390      +/-   ##
==========================================
- Coverage   84.81%   84.78%   -0.03%     
==========================================
  Files          84       84              
  Lines       13926    13926              
==========================================
- Hits        11811    11807       -4     
- Misses       1744     1747       +3     
- Partials      371      372       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/390?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/390/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `71.27% <0.00%> (-4.26%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/390?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
391,codecov-commenter,2022-12-10 01:48:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/391?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.71**% // Head: **84.93**% // Increases project coverage by **`+0.21%`** :tada:
> Coverage data is based on head [(`5c478d7`)](https://codecov.io/gh/openfga/openfga/pull/391?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bf914f9`)](https://codecov.io/gh/openfga/openfga/commit/bf914f9312c3365168bc5a10c466c6cefb792e7e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #391      +/-   ##
==========================================
+ Coverage   84.71%   84.93%   +0.21%     
==========================================
  Files          83       84       +1     
  Lines       13850    13955     +105     
==========================================
+ Hits        11733    11852     +119     
+ Misses       1740     1728      -12     
+ Partials      377      375       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/391?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `66.66% <ø> (+2.46%)` | :arrow_up: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.46% <100.00%> (-0.44%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `98.99% <100.00%> (+3.55%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `83.83% <100.00%> (+0.24%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `90.10% <100.00%> (+0.88%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `72.00% <100.00%> (+2.90%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `71.40% <0.00%> (-0.55%)` | :arrow_down: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/391/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/391?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
385,codecov-commenter,2022-12-10 06:20:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/385?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.87**% // Head: **84.86**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`0775ae6`)](https://codecov.io/gh/openfga/openfga/pull/385?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`99d8333`)](https://codecov.io/gh/openfga/openfga/commit/99d83337ac751623fc45f8c1cc6dcb9f97a633d0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #385      +/-   ##
==========================================
- Coverage   84.87%   84.86%   -0.02%     
==========================================
  Files          83       83              
  Lines       13838    13838              
==========================================
- Hits        11745    11743       -2     
- Misses       1720     1722       +2     
  Partials      373      373              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/385?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/385/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.14% <0.00%> (-2.13%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/385?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
393,jon-whit,2022-12-12 16:01:39,"@nokome at the moment we do not support an alternative schema. There isn't any real strong reason why we've done this, and we'd be open to supporting table migrations and queries on other schemas potentially. However, would it be just as good to add a table prefix instead of changing schemas? This way you could guarantee that tables wouldn't overlap in their names by using a unique table prefix for tables bootstrapped for OpenFGA. Storing tables under a different schema altogether seems it would only be real valuable if the authentication/authorization of the database user had to be different from that of the database user accessing the tables in the application's schema."
394,codecov-commenter,2022-12-12 16:14:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/394?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.87**% // Head: **84.71**% // Decreases project coverage by **`-0.16%`** :warning:
> Coverage data is based on head [(`5b9147e`)](https://codecov.io/gh/openfga/openfga/pull/394?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f91e814`)](https://codecov.io/gh/openfga/openfga/commit/f91e814b56ddc9e2e8f377cefad9eee73d172460?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 88.03% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #394      +/-   ##
==========================================
- Coverage   84.87%   84.71%   -0.17%     
==========================================
  Files          83       83              
  Lines       13838    13850      +12     
==========================================
- Hits        11745    11733      -12     
- Misses       1720     1740      +20     
- Partials      373      377       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/394?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [pkg/tuple/validation.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3ZhbGlkYXRpb24uZ28=) | `38.46% <44.44%> (-16.09%)` | :arrow_down: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `83.58% <66.66%> (-4.96%)` | :arrow_down: |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `64.19% <66.66%> (-16.30%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.90% <75.00%> (ø)` | |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.17% <95.23%> (+0.69%)` | :arrow_up: |
| [server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2V4cGFuZC5nbw==) | `80.91% <100.00%> (-0.07%)` | :arrow_down: |
| [server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3JlYWQuZ28=) | `83.78% <100.00%> (+0.92%)` | :arrow_up: |
| [server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlLmdv) | `83.87% <100.00%> (+0.91%)` | :arrow_up: |
| [server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `70.37% <100.00%> (ø)` | |
| ... and [9 more](https://codecov.io/gh/openfga/openfga/pull/394/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/394?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
396,codecov-commenter,2022-12-12 19:03:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/396?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.88**% // Head: **84.85**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`ce856f4`)](https://codecov.io/gh/openfga/openfga/pull/396?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a6fbcd4`)](https://codecov.io/gh/openfga/openfga/commit/a6fbcd41d6e46dec899e407376d4ddb4f73115c2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #396      +/-   ##
==========================================
- Coverage   84.88%   84.85%   -0.04%     
==========================================
  Files          83       83              
  Lines       13838    13838              
==========================================
- Hits        11747    11742       -5     
- Misses       1718     1722       +4     
- Partials      373      374       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/396?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/396/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `68.37% <0.00%> (-0.55%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/396/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.58% <0.00%> (-0.41%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/396?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
397,codecov-commenter,2022-12-12 19:04:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/397?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.88**% // Head: **84.88**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`c1b00c4`)](https://codecov.io/gh/openfga/openfga/pull/397?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a6fbcd4`)](https://codecov.io/gh/openfga/openfga/commit/a6fbcd41d6e46dec899e407376d4ddb4f73115c2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #397   +/-   ##
=======================================
  Coverage   84.88%   84.88%           
=======================================
  Files          83       83           
  Lines       13838    13838           
=======================================
  Hits        11747    11747           
  Misses       1718     1718           
  Partials      373      373           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/397?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
397,craigpastro,2022-12-12 19:34:03,@dependabot rebase
394,miparnisari,2022-12-12 19:39:49,Is this for https://github.com/openfga/openfga/issues/365 ?
396,craigpastro,2022-12-12 19:48:03,@dependabot rebase
396,dependabot[bot],2022-12-12 19:48:06,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`."
394,jon-whit,2022-12-12 19:50:38,"> Is this for #365 ?

Yes, thank you. I'll add it to the references section."
397,dependabot[bot],2022-12-12 20:21:30,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
394,miparnisari,2022-12-12 20:42:14,"Tested locally, looks good"
300,miparnisari,2022-12-13 04:41:07,"@ghstahl I uploaded your test data to https://github.com/openfga/openfga/pull/403

_edit_ do you mind going over the test data and letting me know what the expected result is?"
393,nokome,2022-12-13 17:08:25,"@jon-whit Thanks for the response

> However, would it be just as good to add a table prefix instead of changing schemas?

I think this would be better, but I'm not sure it would be just as good as a separate schema. I don't have a lot of experience in such decisions (different schemas vs table prefixes) and haven't thought through the tradeoffs fully, but have liked the separation of concerns aspect that separate schemas has bought when used in other contexts.

I don't have a strong opinion either way and would be happy for allowing for a different prefix, particularly if that is easier to implement."
404,jon-whit,2022-12-13 18:11:20,@MidasLamb thanks for the report. The @openfga/core team actually has a meeting scheduled today to go over the logging in OpenFGA and improve logs and metadata included in them etc.. We'll review this as part of that process and get back with you 👍 
404,miparnisari,2022-12-13 18:18:50,"Hey @MidasLamb, that error is being logged from within ListObjects' internal call to Check. One possibility is that the `listObjects-deadline` setting is set too low and Check is being cancelled internally. Can you try increasing the value of that setting?"
380,OysteinVesth,2022-12-13 21:47:50,"Looking forward to it, thanks again @craigpastro!"
354,jon-whit,2022-12-13 22:37:16,Fixed in release `v0.3.0`
380,craigpastro,2022-12-14 01:01:24,"Hi @OysteinVesth 👋 We released v0.3.0 today, but unfortunately, this fix did not make it in. Definitely in the next release which will hopefully be soon."
392,codecov-commenter,2022-12-14 01:03:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.58**% // Head: **84.03**% // Decreases project coverage by **`-0.54%`** :warning:
> Coverage data is based on head [(`87a49e1`)](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0e1918c`)](https://codecov.io/gh/openfga/openfga/commit/0e1918c73f99c75b060c94dea04e4d162cea5026?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #392      +/-   ##
==========================================
- Coverage   84.58%   84.03%   -0.55%     
==========================================
  Files          84       84              
  Lines       13913    13510     -403     
==========================================
- Hits        11768    11353     -415     
- Misses       1759     1768       +9     
- Partials      386      389       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.95% <100.00%> (+0.45%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `73.76% <100.00%> (-16.35%)` | :arrow_down: |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `71.27% <0.00%> (-4.26%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.94% <0.00%> (-3.32%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.73% <0.00%> (ø)` | |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.54% <0.00%> (+0.13%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `91.91% <0.00%> (+0.47%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `52.18% <0.00%> (+0.87%)` | :arrow_up: |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `85.96% <0.00%> (+1.20%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/392?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
405,codecov-commenter,2022-12-14 01:30:55,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/405?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.71**% // Head: **84.78**% // Increases project coverage by **`+0.06%`** :tada:
> Coverage data is based on head [(`849e3e5`)](https://codecov.io/gh/openfga/openfga/pull/405?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bf914f9`)](https://codecov.io/gh/openfga/openfga/commit/bf914f9312c3365168bc5a10c466c6cefb792e7e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #405      +/-   ##
==========================================
+ Coverage   84.71%   84.78%   +0.06%     
==========================================
  Files          83       84       +1     
  Lines       13850    13926      +76     
==========================================
+ Hits        11733    11807      +74     
- Misses       1740     1746       +6     
+ Partials      377      373       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/405?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.09% <ø> (ø)` | |
| [internal/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vYXV0aG4uZ28=) | `57.14% <ø> (ø)` | |
| [internal/authn/oidc/oidc.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vb2lkYy9vaWRjLmdv) | `50.90% <ø> (ø)` | |
| [internal/authn/presharedkey/presharedkey.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vcHJlc2hhcmVka2V5L3ByZXNoYXJlZGtleS5nbw==) | `100.00% <ø> (ø)` | |
| [internal/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ2F0ZXdheS9nYXRld2F5Lmdv) | `100.00% <ø> (ø)` | |
| [internal/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9hdXRobi5nbw==) | `100.00% <ø> (ø)` | |
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `66.66% <ø> (+2.46%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `50.29% <ø> (ø)` | |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.46% <100.00%> (-0.44%)` | :arrow_down: |
| ... and [8 more](https://codecov.io/gh/openfga/openfga/pull/405/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/405?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
404,MidasLamb,2022-12-14 10:20:24,"@miparnisari , increasing that setting indeed resolved it, however while I said earlier that functionally everything seemed ok, that's actually not the case, as there were entries missing from the result when that error got logged."
404,miparnisari,2022-12-14 18:30:11,"@MidasLamb i'm glad that resolved it :) In regards to the missing entries from the result, ListObjects performs Checks against all objects of the type that you specified, so it's possible that it was running out of time to check all of them."
408,codecov-commenter,2022-12-14 19:08:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/408?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.71**% // Head: **84.69**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`a91e3c0`)](https://codecov.io/gh/openfga/openfga/pull/408?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`bf914f9`)](https://codecov.io/gh/openfga/openfga/commit/bf914f9312c3365168bc5a10c466c6cefb792e7e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 97.63% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #408      +/-   ##
==========================================
- Coverage   84.71%   84.69%   -0.02%     
==========================================
  Files          83       84       +1     
  Lines       13850    13926      +76     
==========================================
+ Hits        11733    11795      +62     
- Misses       1740     1764      +24     
+ Partials      377      367      -10     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/408?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2Vycm9ycy9lcnJvcnMuZ28=) | `66.66% <ø> (+2.46%)` | :arrow_up: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `49.13% <16.66%> (-0.97%)` | :arrow_down: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `100.00% <100.00%> (ø)` | |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.16% <100.00%> (ø)` | |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `82.65% <100.00%> (ø)` | |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.96% <100.00%> (+0.05%)` | :arrow_up: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `98.99% <100.00%> (+3.55%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `85.20% <100.00%> (+1.61%)` | :arrow_up: |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `90.10% <100.00%> (+0.88%)` | :arrow_up: |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `72.00% <100.00%> (+2.90%)` | :arrow_up: |
| ... and [7 more](https://codecov.io/gh/openfga/openfga/pull/408/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/408?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
404,MidasLamb,2022-12-14 19:20:42,"We've just bumped our service using OpenFGA from our test environment to our staging, and suddenly the API calls making use of OpenFGA are taking WAY longer, it used to be ~5 seconds and on staging it suddenly jumped to at least 30 seconds, sometimes even more. I've done some optimizations on staging to get it down to ~15-20 seconds. I don't immediately find any reason why there would be a jump like this.
I've also noticed that if there are some OpenFGA checks aftereach other, they progressively seem to get longer (this is purely a thought, haven't had time to properly check this), but it seems that there is some bottleneck in the check call "
404,MidasLamb,2022-12-14 19:23:59,"I'm just dumping information here for now, we're close to releasing our big authN & authZ refactor which is supported by OpenFGA, so I'm currently in the ""What's the fastest way to fix this""-mode rather than ""Let's get to the bottom of this""-mode. After the refactor is released I can help dig down deeper and potentially provide some insights from our production environment"
404,aaguiarz,2022-12-14 19:36:31,Hi @MidasLamb could you please email me to andres.aguiar@okta.com? We can hop on a call if that's good OK with you
404,aaguiarz,2022-12-14 19:49:04,"- Can you expand on which API calls are taking 5 seconds and now 30 seconds? Those response times look way high.
- How many tuples to you have in each environment?
- Are the authorization models the same?
- Are you defining indexes on your MySQL schema?"
406,jon-whit,2022-12-14 19:58:03,"> If I want to get all users related to the specific object, Needs several calls to loop over indirect relations, or what I missing?

@wemod123 what you're describing is going to be an API introduced into OpenFGA in a coming release. The name of that API will likely be called `ListUsers` which will be a recursive Expand (follows all users and usersets).

Keep an eye out for that RFC and we'll cross reference this issue when we get an initial design proposal put forward for that. 

We'll likely introduce it as an experimental API at first and when we feel confident in the implementation we'll move it out of our set of experimental APIs."
351,codecov-commenter,2022-12-14 19:58:54,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/351?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.74**% // Head: **84.49**% // Decreases project coverage by **`-0.25%`** :warning:
> Coverage data is based on head [(`dc2f8fd`)](https://codecov.io/gh/openfga/openfga/pull/351?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a955158`)](https://codecov.io/gh/openfga/openfga/commit/a9551587377befed98f4ba000d9f125542d1c1e3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #351      +/-   ##
==========================================
- Coverage   84.74%   84.49%   -0.26%     
==========================================
  Files          84       84              
  Lines       14003    13753     -250     
==========================================
- Hits        11867    11620     -247     
+ Misses       1756     1754       -2     
+ Partials      380      379       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/351?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `94.02% <ø> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `51.10% <100.00%> (+0.73%)` | :arrow_up: |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `84.11% <100.00%> (+0.94%)` | :arrow_up: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `83.80% <100.00%> (+1.15%)` | :arrow_up: |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.41% <100.00%> (-0.26%)` | :arrow_down: |
| [storage/caching/caching.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9jYWNoaW5nL2NhY2hpbmcuZ28=) | `74.28% <100.00%> (+1.55%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.97% <100.00%> (-0.02%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.73% <100.00%> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/351/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.52% <100.00%> (-0.10%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/351?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
393,jon-whit,2022-12-14 20:15:28,"@nokome We're going to be rolling out more information in a Production Checklist eventually which will outline some deployment best practices for OpenFGA. One of the recommendations we'll include in that is to use a different database from your applications database for OpenFGA. Separating your applications database from OpenFGA's database allows the authorization workload to scale independently and avoid loading the application database. Consequently, putting the OpenFGA database under a configured schema doesn't buy you that much in that regard. If you want to skip the production best practices I could understand why you would want a table prefix, so I think it's reasonable to start with configurable table prefixes, but I wouldn't advise running OpenFGA against your application database in the first place and so adding this support would be counter productive to best-practices."
407,codecov-commenter,2022-12-14 21:14:10,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/407?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.74**% // Head: **84.41**% // Decreases project coverage by **`-0.32%`** :warning:
> Coverage data is based on head [(`4be513d`)](https://codecov.io/gh/openfga/openfga/pull/407?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a955158`)](https://codecov.io/gh/openfga/openfga/commit/a9551587377befed98f4ba000d9f125542d1c1e3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #407      +/-   ##
==========================================
- Coverage   84.74%   84.41%   -0.33%     
==========================================
  Files          84       84              
  Lines       14003    13741     -262     
==========================================
- Hits        11867    11600     -267     
- Misses       1756     1759       +3     
- Partials      380      382       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testfixtures/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3N0b3JhZ2UuZ28=) | `76.92% <ø> (ø)` | |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.33% <100.00%> (+0.16%)` | :arrow_up: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `82.82% <100.00%> (+0.17%)` | :arrow_up: |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.41% <100.00%> (-0.26%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.21% <0.00%> (-0.53%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/407/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `87.46% <0.00%> (-0.50%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/407?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
408,craigpastro,2022-12-14 22:35:50,Will do this in a different way.
392,jon-whit,2022-12-15 00:14:54,"I wonder if it would be better to just merge the check tests into one. If the `errorCode` is anything other than the zero value for a successful response, then we add the error assertion logic. Otherwise we assert the assertions are correct. 

There's a lot of boilerplate that's the same in here and the division across directories adds a bit of overhead. I think it's ok to split error responses vs successful response tests, but I think if makes sense to merge. WDYT? "
412,codecov-commenter,2022-12-15 03:25:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/412?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.50**% // Head: **84.52**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`447d9d4`)](https://codecov.io/gh/openfga/openfga/pull/412?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`5034eb6`)](https://codecov.io/gh/openfga/openfga/commit/5034eb63c1dba2b4bfca9512be464ee6c0820d7f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #412      +/-   ##
==========================================
+ Coverage   84.50%   84.52%   +0.02%     
==========================================
  Files          84       84              
  Lines       13754    13766      +12     
==========================================
+ Hits        11623    11636      +13     
  Misses       1752     1752              
+ Partials      379      378       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/412?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/412/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.50% <100.00%> (+0.32%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/412/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.52% <100.00%> (+0.56%)` | :arrow_up: |
| [server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/412/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `70.37% <100.00%> (ø)` | |
| [server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/412/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXNzZXJ0aW9ucy5nbw==) | `96.90% <100.00%> (+0.43%)` | :arrow_up: |
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/412/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.14% <0.00%> (-2.13%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/412?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
411,kdubb,2022-12-15 04:43:11,"Just to be clear, I encountered this issue with `0.3.0`."
411,adriantam,2022-12-15 16:02:37,"@kdubb , the issue is now fixed and should be available in the latest ""main"" branch.  It will be available in the next release."
416,codecov-commenter,2022-12-16 01:10:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/416?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.54**% // Head: **84.54**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`acf68de`)](https://codecov.io/gh/openfga/openfga/pull/416?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`73cb564`)](https://codecov.io/gh/openfga/openfga/commit/73cb564abe059bacbaebe4b99992382f2df980a0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 50.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #416   +/-   ##
=======================================
  Coverage   84.54%   84.54%           
=======================================
  Files          84       84           
  Lines       13766    13763    -3     
=======================================
- Hits        11638    11636    -2     
+ Misses       1750     1748    -2     
- Partials      378      379    +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `51.02% <50.00%> (+0.73%)` | :arrow_up: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.00% <0.00%> (-0.53%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/416?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
417,codecov-commenter,2022-12-16 02:35:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.36**% // Head: **82.97**% // Decreases project coverage by **`-0.40%`** :warning:
> Coverage data is based on head [(`dbf075c`)](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6e34dec`)](https://codecov.io/gh/openfga/openfga/commit/6e34dec03f72eb7701a546e662e323c2186e5b6f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 0.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #417      +/-   ##
==========================================
- Coverage   83.36%   82.97%   -0.40%     
==========================================
  Files          85       85              
  Lines       13661    13713      +52     
==========================================
- Hits        11389    11378      -11     
- Misses       1882     1942      +60     
- Partials      390      393       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2NoZWNrLmdv) | `62.16% <0.00%> (-11.60%)` | :arrow_down: |
| [pkg/server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3NlcnZlci5nbw==) | `78.26% <0.00%> (-1.74%)` | :arrow_down: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `91.12% <0.00%> (-2.42%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `85.16% <0.00%> (-1.94%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.39% <0.00%> (-0.52%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.51% <0.00%> (-0.45%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.01% <0.00%> (+2.09%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/417?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
413,miparnisari,2022-12-16 02:36:49,https://github.com/openfga/openfga/pull/417
418,codecov-commenter,2022-12-16 04:40:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/418?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.54**% // Head: **84.49**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`7cdd0e3`)](https://codecov.io/gh/openfga/openfga/pull/418?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`73cb564`)](https://codecov.io/gh/openfga/openfga/commit/73cb564abe059bacbaebe4b99992382f2df980a0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #418      +/-   ##
==========================================
- Coverage   84.54%   84.49%   -0.06%     
==========================================
  Files          84       84              
  Lines       13766    13766              
==========================================
- Hits        11638    11631       -7     
- Misses       1750     1755       +5     
- Partials      378      380       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/418?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGUuZ28=) | `88.88% <ø> (ø)` | |
| [server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY2hlY2suZ28=) | `90.10% <100.00%> (ø)` | |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.41% <100.00%> (ø)` | |
| [server/test/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvZGVsZXRlX3N0b3JlLmdv) | `72.91% <100.00%> (ø)` | |
| [server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvbGlzdF9vYmplY3RzLmdv) | `72.00% <100.00%> (ø)` | |
| [server/test/read\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVsLmdv) | `100.00% <100.00%> (ø)` | |
| [server/test/read\_authzmodels.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9hdXRoem1vZGVscy5nbw==) | `100.00% <100.00%> (ø)` | |
| [server/test/read\_changes.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvcmVhZF9jaGFuZ2VzLmdv) | `89.85% <100.00%> (ø)` | |
| [server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXNzZXJ0aW9ucy5nbw==) | `96.90% <100.00%> (ø)` | |
| [server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3Qvd3JpdGVfYXV0aHptb2RlbC5nbw==) | `100.00% <100.00%> (ø)` | |
| ... and [7 more](https://codecov.io/gh/openfga/openfga/pull/418/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/418?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
406,wemod123,2022-12-16 07:17:44,"@jon-whit Thank you for reply, it's GREAT idea to have a simple methods to listUsers, the current expand method needs multiple interaction between client-server which is not friendly for production, looking forward for the comming feature,"
360,alexandrebrg,2022-12-16 09:24:19,"Hello, I applied all of your reviews, thank you for the time given on this PR :)"
404,MidasLamb,2022-12-16 13:29:52,"@aaguiarz , the API calls are ListObject calls.
For the 5s environment I have the 988 tuples, for the 30s environment I have 4335.
Authorization model is the exact same for both environments.
The indexes are the ones created by the migration, so a primary index on:
* store
* object_type
* object_id
* relation
* _user
And a reverse_lookup index on
* store
* object_type
* relation
* _user"
404,aaguiarz,2022-12-16 17:36:49,"Hi @MidasLamb 

That behavior is expected, as the current ListObject response time increases significantly with the number of tuples. 

We have a new ListObjects implementation almost ready that will address those issues, but it's currently disabled. We'll release a new version later today that will let you enable it through configuration. The new implementation has a few edge cases that are not working well:

- Support for public access (tuples with user = ""*"")
- Models that define intersection and exclusion (use `and` or `but not`)

If you have any of those scenarios, then ListObjects might return incorrect results.

Additionally, the ListObjects optimizations rely on the [DSL schema 1.1. changes](https://openfga.dev/docs/modeling/migrating/migrating-schema-1-1), so you'd need to update your model to that version to take advantage of it.

Please let us know if this helps.


"
404,MidasLamb,2022-12-16 19:56:48,"I've now worked around it by querying the underlying data storage directly, once released I'll check how it compares!
The restrictions don't matter for us at the moment so for that part an improvement would be great!"
419,codecov-commenter,2022-12-16 22:07:14,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/419?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.61**% // Head: **84.73**% // Increases project coverage by **`+0.12%`** :tada:
> Coverage data is based on head [(`7dfd9b5`)](https://codecov.io/gh/openfga/openfga/pull/419?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`ece8b34`)](https://codecov.io/gh/openfga/openfga/commit/ece8b342423ec9233b772d059eac2bab57ae3704?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 74.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #419      +/-   ##
==========================================
+ Coverage   84.61%   84.73%   +0.12%     
==========================================
  Files          84       84              
  Lines       13790    13832      +42     
==========================================
+ Hits        11668    11721      +53     
+ Misses       1744     1731      -13     
- Partials      378      380       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/419?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `52.32% <45.45%> (-0.14%)` | :arrow_down: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `83.83% <75.86%> (-1.37%)` | :arrow_down: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `51.31% <100.00%> (+0.28%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.01% <0.00%> (+2.89%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/419/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `91.44% <0.00%> (+4.50%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/419?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
420,jon-whit,2022-12-16 22:18:39,"We should support all levels of the underlying logger interface (`debug`, `info`, `warn`, `error`, `panic`, `fatal`)"
421,rhamzeh,2022-12-19 14:17:43,Thanks for reporting @psadovsky - we'll take a look
422,codecov-commenter,2022-12-19 16:21:55,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/422?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.56**% // Head: **84.57**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`f041070`)](https://codecov.io/gh/openfga/openfga/pull/422?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`2c0b36c`)](https://codecov.io/gh/openfga/openfga/commit/2c0b36c6daaeea2cae8aa4e7fdc7b30fb7483163?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #422      +/-   ##
==========================================
+ Coverage   84.56%   84.57%   +0.01%     
==========================================
  Files          84       84              
  Lines       13763    13773      +10     
==========================================
+ Hits        11639    11649      +10     
  Misses       1746     1746              
  Partials      378      378              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/422?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `99.04% <100.00%> (+0.04%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/422?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
421,rhamzeh,2022-12-19 16:55:06,"Related fix: https://github.com/openfga/api/pull/65
"
423,codecov-commenter,2022-12-19 17:15:34,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/423?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.56**% // Head: **84.53**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`406b962`)](https://codecov.io/gh/openfga/openfga/pull/423?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`2c0b36c`)](https://codecov.io/gh/openfga/openfga/commit/2c0b36c6daaeea2cae8aa4e7fdc7b30fb7483163?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #423      +/-   ##
==========================================
- Coverage   84.56%   84.53%   -0.03%     
==========================================
  Files          84       84              
  Lines       13763    13763              
==========================================
- Hits        11639    11635       -4     
- Misses       1746     1749       +3     
- Partials      378      379       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/423?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/423/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.02% <0.00%> (-0.50%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/423/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/423?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
423,rhamzeh,2022-12-19 17:21:39,Can you run `go mod tidy`?
423,craigpastro,2022-12-19 17:55:47,"@rhamzeh Mondays, amirite? Thanks!"
425,codecov-commenter,2022-12-19 18:15:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/425?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.55**% // Head: **84.53**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`66fb5cb`)](https://codecov.io/gh/openfga/openfga/pull/425?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`58dbe66`)](https://codecov.io/gh/openfga/openfga/commit/58dbe665b1ea99ab96a043f7b7ce5d337c5761d5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #425      +/-   ##
==========================================
- Coverage   84.55%   84.53%   -0.03%     
==========================================
  Files          84       84              
  Lines       13763    13763              
==========================================
- Hits        11637    11634       -3     
- Misses       1747     1750       +3     
  Partials      379      379              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/425?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.00% <0.00%> (-0.53%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.52% <0.00%> (+0.49%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/425?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
424,dependabot[bot],2022-12-19 18:17:12,"Looks like go.buf.build/openfga/go/openfga/api is up-to-date now, so this is no longer needed."
426,codecov-commenter,2022-12-19 18:19:11,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/426?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.55**% // Head: **84.53**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`ff1ac20`)](https://codecov.io/gh/openfga/openfga/pull/426?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`58dbe66`)](https://codecov.io/gh/openfga/openfga/commit/58dbe665b1ea99ab96a043f7b7ce5d337c5761d5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #426      +/-   ##
==========================================
- Coverage   84.55%   84.53%   -0.02%     
==========================================
  Files          84       84              
  Lines       13763    13763              
==========================================
- Hits        11637    11635       -2     
- Misses       1747     1750       +3     
+ Partials      379      378       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/426?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/426/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.14% <0.00%> (-2.13%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/426/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/426/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.52% <0.00%> (+0.49%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/426?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
427,codecov-commenter,2022-12-19 18:21:24,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/427?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.55**% // Head: **84.55**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`dd27553`)](https://codecov.io/gh/openfga/openfga/pull/427?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`58dbe66`)](https://codecov.io/gh/openfga/openfga/commit/58dbe665b1ea99ab96a043f7b7ce5d337c5761d5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #427   +/-   ##
=======================================
  Coverage   84.55%   84.55%           
=======================================
  Files          84       84           
  Lines       13763    13763           
=======================================
  Hits        11637    11637           
- Misses       1747     1748    +1     
+ Partials      379      378    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/427?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/427/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/427/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.52% <0.00%> (+0.49%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/427?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
421,craigpastro,2022-12-19 21:38:08,"Hi @psadovsky 👋  Thank you for the report 🙌 

A fix has now been merged into main. We hope to cut a new release that includes the fix sometime soon. Please let us know if it fixes the problem."
265,codecov-commenter,2022-12-19 23:08:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.82**% // Head: **81.84**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`7df0ea9`)](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4e7cd24`)](https://codecov.io/gh/openfga/openfga/commit/4e7cd24350c8a63b2e9b6ed18b1459cc8a40481f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #265      +/-   ##
==========================================
+ Coverage   81.82%   81.84%   +0.01%     
==========================================
  Files          87       87              
  Lines       14252    14320      +68     
==========================================
+ Hits        11662    11720      +58     
- Misses       2181     2188       +7     
- Partials      409      412       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.15% <100.00%> (+1.54%)` | :arrow_up: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.70% <0.00%> (-1.48%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `57.10% <0.00%> (-1.14%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/265?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
404,rhamzeh,2022-12-19 23:34:41,"Hey @MidasLamb! The team has pushed out a new `v0.3.1` [release](https://github.com/orgs/openfga/discussions/91) with support for enabling the experimental optimized `ListObjects` functionality.

It requires a model in the v1.1 schema, and does not have complete support for `and`, `but not` and Type-bound Public Access (`*` and `type:*`).

If you do get a chance to try it out, let us know what you think!"
421,rhamzeh,2022-12-19 23:36:45,"Hey @psadovsky - thanks to @craigpastro and the team, the fix for this is now out in [OpenFGA `v0.3.1`](https://github.com/orgs/openfga/discussions/91).

Please let us know if you get a chance to try it out."
380,rhamzeh,2022-12-19 23:52:09,"Hey @OysteinVesth - the team has just released [OpenFGA `v0.3.1`](https://github.com/orgs/openfga/discussions/91) which contains the following flags (thanks @craigpastro!):
- `--datastore-max-open-conns`
- `--datastore-max-idle-conns`
- `--datastore-conn-max-idle-time`
- `--datastore-conn-max-lifetime`

If you do try it out, can you let us know whether it fixes your issue?
"
421,psadovsky,2022-12-20 11:13:54,"Hello everyone, it works now. Thank you."
414,codecov-commenter,2022-12-20 16:09:26,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/414?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.55**% // Head: **84.75**% // Increases project coverage by **`+0.20%`** :tada:
> Coverage data is based on head [(`bc4fbee`)](https://codecov.io/gh/openfga/openfga/pull/414?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`58dbe66`)](https://codecov.io/gh/openfga/openfga/commit/58dbe665b1ea99ab96a043f7b7ce5d337c5761d5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 71.90% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #414      +/-   ##
==========================================
+ Coverage   84.55%   84.75%   +0.20%     
==========================================
  Files          84       84              
  Lines       13763    13834      +71     
==========================================
+ Hits        11637    11725      +88     
+ Misses       1747     1729      -18     
- Partials      379      380       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/414?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `60.00% <57.14%> (+3.47%)` | :arrow_up: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `52.49% <62.50%> (+1.29%)` | :arrow_up: |
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `83.83% <75.86%> (-1.37%)` | :arrow_down: |
| [server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrX3V0aWxzLmdv) | `99.04% <100.00%> (+0.04%)` | :arrow_up: |
| [server/server.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3NlcnZlci5nbw==) | `51.31% <100.00%> (+0.28%)` | :arrow_up: |
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `88.52% <0.00%> (+0.49%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `81.01% <0.00%> (+2.89%)` | :arrow_up: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/414/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/414?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
433,codecov-commenter,2022-12-21 21:20:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.61**% // Head: **85.11**% // Increases project coverage by **`+0.50%`** :tada:
> Coverage data is based on head [(`3dffead`)](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`96bddf5`)](https://codecov.io/gh/openfga/openfga/commit/96bddf5d68d46c024e091bbcfc2e88e946e36996?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 84.37% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #433      +/-   ##
==========================================
+ Coverage   84.61%   85.11%   +0.50%     
==========================================
  Files          84       81       -3     
  Lines       14181    14061     -120     
==========================================
- Hits        11999    11968      -31     
+ Misses       1777     1711      -66     
+ Partials      405      382      -23     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9zdG9yYWdlLmdv) | `94.02% <ø> (ø)` | |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `78.20% <83.09%> (+5.67%)` | :arrow_up: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `77.07% <83.95%> (+6.81%)` | :arrow_up: |
| [storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9jb21tb24vY29tbW9uLmdv) | `85.79% <85.79%> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <100.00%> (-0.95%)` | :arrow_down: |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.65% <100.00%> (ø)` | |
| [storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS90ZXN0L3R1cGxlcy5nbw==) | `92.63% <100.00%> (-0.02%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/433?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
434,codecov-commenter,2022-12-21 21:38:59,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/434?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.54**% // Head: **84.55**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`33bc0d5`)](https://codecov.io/gh/openfga/openfga/pull/434?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`879a2b0`)](https://codecov.io/gh/openfga/openfga/commit/879a2b0f74a3eabe6587225014d7be349c1fdf2e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #434   +/-   ##
=======================================
  Coverage   84.54%   84.55%           
=======================================
  Files          84       84           
  Lines       13913    13913           
=======================================
+ Hits        11763    11764    +1     
  Misses       1762     1762           
+ Partials      388      387    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/434?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/434/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `71.27% <0.00%> (-4.26%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/434/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/434/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `69.73% <0.00%> (+0.52%)` | :arrow_up: |
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/434/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `72.44% <0.00%> (+4.08%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/434?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
380,psadovsky,2022-12-28 17:14:06,I am missing those flags in v0.3.1
380,craigpastro,2022-12-28 18:30:23,":wave: @psadovsky 

They seem to be there:
```
$ docker run -p 8080:8080 openfga/openfga:v0.3.1 run --help
Run the OpenFGA server.

Usage:
  openfga run [flags]

Flags:
      ...
      --datastore-conn-max-idle-time duration   the maximum amount of time a connection to the datastore may be idle
      --datastore-conn-max-lifetime duration    the maximum amount of time a connection to the datastore may be reused
      --datastore-engine string                 the datastore engine that will be used for persistence (default ""memory"")
      --datastore-max-cache-size int            the maximum number of cache keys that the storage cache can store before evicting old keys (default 100000)
      --datastore-max-idle-conns int            the maximum number of connections to the datastore in the idle connection pool
      --datastore-max-open-conns int            the maximum number of open connections to the datastore
      ...
```
They should also be accessible via environment variables, e.g.,
```
OPENFGA_DATASTORE_CONN_MAX_IDLE_TIME
```

Please let me know if it helps."
440,psadovsky,2022-12-30 09:29:43,The problem was solved by increasing timeout --http-upstream-timeout (default 5s)
380,OysteinVesth,2023-01-02 14:26:23,Sorry for the late reply @rhamzeh. Will update our OpenFGA instance now and get back to you!
436,jon-whit,2023-01-03 16:28:00,"> Is there a way to adjust the server's base path? I'd like to avoid using a proxy, and let the load balancer forward requests via a prefix: as of now I can simply set that as /stores, but I'm guessing it would be better to be able to set a true base path (e.g. /api/auth or something along those lines)

I'm curious what the reasoning behind this is? If you need to map alternative endpoints to the endpoints served by OpenFGA then you will have to have a reverse proxy of some fashion.

An alternative to this would be that you could integrate OpenFGA as a library in your own Go app and serve the RPC endpoints on whatever HTTP endpoints you'd like, but I wouldn't advise that as it would create an inconsistent and non-standard OpenFGA integration that would not necessarily be drop in compatible with future OpenFGA tooling and integrations.

> Is there a way to run a cli command against the /healthz endpoint as an in-container health check? Or would the image need to be altered to install something like curl?

There is not currently a CLI target to check Health, but you can use `curl`. For example
```
docker run -d --rm --name openfga -p 8080:8080 openfga/openfga run
curl -X GET http://localhost:8080/healthz

```

> For the Postgres provider, is it possible to specify connections for a write instance vs a read replica?

OpenFGA has endpoints to write and read/query data from the underlying persistence engine. For this reason any connection to the underlying database needs to support writes and reads. We haven't engineered OpenFGA specific to an underlying cloud vendor that may or may not support streaming replication, read replicas, etc.. "
443,codecov-commenter,2023-01-03 16:38:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/443?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.58**% // Head: **84.54**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`d287aa3`)](https://codecov.io/gh/openfga/openfga/pull/443?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0760783`)](https://codecov.io/gh/openfga/openfga/commit/07607836a6a971a5df08f6ebb3d06d2535a66a6e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #443      +/-   ##
==========================================
- Coverage   84.58%   84.54%   -0.04%     
==========================================
  Files          84       84              
  Lines       13913    13913              
==========================================
- Hits        11768    11763       -5     
- Misses       1758     1762       +4     
- Partials      387      388       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/443?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.00% <0.00%> (-0.53%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `51.20% <0.00%> (-0.35%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/443?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
436,JohnYoungers,2023-01-03 17:04:36,"> I'm curious what the reasoning behind this is? If you need to map alternative endpoints to the endpoints served by OpenFGA then you will have to have a reverse proxy of some fashion.

If our load balancer was configured as:
```
/serviceA* -> serviceA containers
/serviceB* -> serviceB containers
/openfga* -> openfga containers
```

The serviceA and serviceB applications would be fully aware they're receiving all requests as `/serviceA/entities/...`, but for openfga I don't believe there's a way to let it know `/openfga/stores/...` is where requests will be coming opposed to `/stores/...`

If this type of functionality isn't supported by the app or by the SDKs, falling back to using the domain shouldn't be an issue.

> > For the Postgres provider, is it possible to specify connections for a write instance vs a read replica?
> 
> OpenFGA has endpoints to write and read/query data from the underlying persistence engine. For this reason any connection to the underlying database needs to support writes and reads. We haven't engineered OpenFGA specific to an underlying cloud vendor that may or may not support streaming replication, read replicas, etc..

This might be something to keep in mind as a future enhancement: for the primarily read oriented endpoints, allowing them to use a separate connection string (falling back to the standard)
"
300,xXAvoraXx,2023-01-04 17:19:36,is there any progress? @miparnisari 
436,jon-whit,2023-01-04 17:26:15,"@jayoungers 

> The serviceA and serviceB applications would be fully aware they're receiving all requests as `/serviceA/entities/...`, but for openfga I don't believe there's a way to let it know `/openfga/stores/...` is where requests will be coming opposed to `/stores/...`

It's quite common for LBs to have path rewrite rules. I know that certain AWS and GCP LBs support path rewrite rules, and if you're behind a reverse proxy most reverse proxies support path stripping before proxying the request. Anyhow, we'll keep it in mind. In the meantime I recommend using path rewrite rules in your LB configurations.

> This might be something to keep in mind as a future enhancement: for the primarily read oriented endpoints, allowing them to use a separate connection string (falling back to the standard)

We'll keep it in mind, though we have to be careful not to leak our storage interface design to any specific connection protocol(s), and hence I'm not super fond of the idea at this time. Not all databases that we may want to support separate write and read connection endpoints, and so introducing something like this would start to leak the storage engine design."
444,jon-whit,2023-01-04 17:28:46,"@craigpastro @miparnisari as you're reviewing this please consider how it could be improved for code clarity. I don't love the ConnectedObjects reverse expansion code as it is written today. In particular, ContextualTuples are a pain in the ass, and I feel like there is a bug hidden somewhere there.

If you have any suggestions on code restructure and composition let's make it happen! 🙇 "
445,aaguiarz,2023-01-04 21:18:43,"Hi @psadovsky,

Could you please provide us additional context? 

- What version of OpenFGA are you using?
- Are you calling Check() or ListObjects()?
- How many tuples do you have?
- Are you deploying the permission service, OpenFGA and PostgreSQL in the same Azure region? In the same VPC?
- Can you share the code you are using to make the 16 parallel requests? Are you sure the requests are not being serialized? 
- Did you run the same test in a different environment (e.g. your local machine)? If so, what results did you get?
- Did you bootstrap the PostgresSQL store with the `openfga migrate` utility, and if not, have you indexed the tables appropriately?
- Are the 5-6 seconds measured from the backend or the frontend? 

Thanks a lot"
380,OysteinVesth,2023-01-05 09:20:20,"It is _better_ now, but still a lot of re-connections happen as soon as it gets a little traffic. 
But I guess I just have to test and tweak for a while."
445,psadovsky,2023-01-05 09:50:28,"Hello @aaguiarz,

Thank you for your prompt response. Step by step:

- v0.3.1
- check()
- 404
- Yes
- It will be at the bottom of this list and YES, it is serialized
- No, we have not already run those tests in a different environment, but that is the plan.
- Yes, we used ""openfga migrate"", tables are properly indexed.
- from the backend

```java
    @Override
    public Flux<RelationCheckResponseDTO> checkRelations(String storeId, List<RelationCheckRequestDTO> checkRequests) {

        return Flux.fromIterable(checkRequests)
                .flatMapSequential((checkRequest) -> getCachedOrSendRequest(storeId, checkRequest));
    }

    private Mono<RelationCheckResponseDTO> getCachedOrSendRequest(String storeId, RelationCheckRequestDTO relationCheckRequestDTO) {

        Cache relationsCache = cacheManager.getCache(""relations"");
        Optional<RelationCheckResponseDTO> resultOptional;
        if (relationsCache != null) {
            TupleKeyDTO tupleKeyDTO = relationCheckRequestDTO.getTupleKey();
            String cacheKey = OpenFgaUtil.buildCacheKey(tupleKeyDTO.getUser(), tupleKeyDTO.getRelation(), tupleKeyDTO.getObject());
            resultOptional = Optional.ofNullable(relationsCache.get(cacheKey, RelationCheckResponseDTO.class));

        return resultOptional
                .map(Mono::just)
                .orElseGet(() -> checkRelationRequest(storeId, relationCheckRequestDTO)
                        .doOnNext((response) -> relationsCache.put(cacheKey, response)));
        }
        return checkRelationRequest(storeId, relationCheckRequestDTO);
    }

    private Mono<RelationCheckResponseDTO> checkRelationRequest(String storeId, RelationCheckRequestDTO relationCheckRequestDTO) {

        if (StringUtils.hasText(storeId) && relationCheckRequestDTO != null) {
            return webClient.post()
                    .uri(uriBuilder -> uriBuilder
                            .path(ApiPaths.STORES_PATH)
                            .path(ApiPaths.STORES_ID_PATH_VAR)
                            .path(ApiPaths.CHECK_PATH)
                            .build(storeId))
                    .body(Mono.just(relationCheckRequestDTO), RelationCheckRequestDTO.class)
                    .retrieve()
                    .bodyToMono(RelationCheckResponseDTO.class)
                    .onErrorResume(WebClientResponseException.class, e -> {
                        if (HttpStatus.BAD_REQUEST.equals(e.getStatusCode()) &&
                                OpenFgaErrorCode.VALIDATION_ERROR.equals(e.getStatusText())) {
                            return Mono.just(RelationCheckResponseDTO.builder().allowed(Boolean.FALSE).build());
                        }
                        return Mono.error(e);
                    });
        }
        throw new BadRequestApiException(CommonErrorCode.BUSINESS_VALIDATION_FAILED,
                ""Relation cannot be checked without store id and relation tuple."");
    }
```"
380,psadovsky,2023-01-05 14:14:40,"It helped, but if it is true what @OysteinVesth writes here, it would be great to fix that. Do you use a custom implementation of the connection pool? We use this one https://github.com/brettwooldridge/HikariCP in Java and it works well."
445,aaguiarz,2023-01-05 18:02:00,"Hi @psadovsky 

If the requests are not being sent in parallel, then 6s/16req = 375ms/req. That's quite slow. If indexes are there, then the next suspect would be latency between different services. 

Another option would be that the model is really complex with a lot of nested levels/recursion. I don't think that would cause this, but it might be worth checking. If you can share your model that would be awesome. If you prefer to send it to me directly, please email it to andres.aguiar at okta.


"
415,jon-whit,2023-01-05 19:47:05,"Also, a tuple with an `object` field whose value is of the form `type:*` should also be treated as an invalid object in 1.1 models."
445,aaguiarz,2023-01-05 19:51:14,"Hi @psadovsky 

If you can also provide us the tuples + the check() you run, we can test it on our end.

Thanks"
448,codecov-commenter,2023-01-05 23:46:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.56**% // Head: **84.58**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`7273382`)](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`eb8e348`)](https://codecov.io/gh/openfga/openfga/commit/eb8e348ced49a4bb514400ed720b7acabef52e9a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 83.33% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #448      +/-   ##
==========================================
+ Coverage   84.56%   84.58%   +0.02%     
==========================================
  Files          84       84              
  Lines       13922    13930       +8     
==========================================
+ Hits        11773    11783      +10     
+ Misses       1762     1760       -2     
  Partials      387      387              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.78% <83.33%> (-0.33%)` | :arrow_down: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `83.48% <83.33%> (-0.33%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `51.54% <0.00%> (+0.34%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.97% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/448?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
449,easyCZ,2023-01-06 20:34:56,"I can confirm that setting the `updated_at TIMESTAMP DEFAULT '1970-01-01 00:00:01'` fixes the issue. The remaining question is whether there's an application level change that also needs to be made to treat this value as a zero value.

Example change https://github.com/easyCZ/openfga/commit/36ca52b1b4486e398c51d331481ca47a27366868"
449,jon-whit,2023-01-09 16:38:13,"@easyCZ 

As per the [official MySQL documentation](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date)

> [NO_ZERO_IN_DATE](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date) is deprecated. [NO_ZERO_IN_DATE](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date) is not part of strict mode, but should be used in conjunction with strict mode and is enabled by default. A warning occurs if [NO_ZERO_IN_DATE](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date) is enabled without also enabling strict mode or vice versa. For additional discussion, see [SQL Mode Changes in MySQL 5.7](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes).
> 
> Because [NO_ZERO_IN_DATE](https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_no_zero_in_date) is deprecated; expect it to be removed in a future release of MySQL as a separate mode name and its effect included in the effects of strict SQL mode.

Given this, I wouldn't recommend the usage of `NO_ZERO_IN_DATE` in general, and I would prefer not introducing the proposed changes herein in OpenFGA as a workaround."
441,craigpastro,2023-01-09 19:41:12,"Oops. My mistake, I missed a level of indirection. "
449,easyCZ,2023-01-10 08:43:46,"Thanks for the reply @jon-whit. 

While it is deprecated, [it is still present in the current latest MySQL version 8](https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sqlmode_no_zero_in_date). As such, it feels support for it should be in scope.

For my use-case, I cannot introduce a new database instance just for OpenFGA, and that means I can only use an existing MySQL instance which happens to have the STRICT mode enabled globally.

Without this change, my only course of action would be to fork OpenFGA and make the change in the fork as without it, I cannot proceed to evaluate OpenFGA viability."
449,jon-whit,2023-01-10 21:03:54,"@easyCZ ok, let me see if there is a simple workaround that won't change the semantics of timestamps in our transactions today. I think we can work around it since the`updated_at` column isn't meant to be NULL in this case. We set `created_at` and `updated_at` at the same time (see https://github.com/openfga/openfga/blob/main/storage/mysql/mysql.go#L535).

We may have an issue with the `deleted_at` column as well though, because we don't have a default there and that is intended to be nullable.

"
444,codecov-commenter,2023-01-10 22:49:50,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.06**% // Head: **84.57**% // Increases project coverage by **`+0.51%`** :tada:
> Coverage data is based on head [(`8a3283c`)](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8ca9e2c`)](https://codecov.io/gh/openfga/openfga/commit/8ca9e2c7f8e1fbf54a1380aa9c3a3c9bbd90aeef?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 88.44% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #444      +/-   ##
==========================================
+ Coverage   84.06%   84.57%   +0.51%     
==========================================
  Files          84       84              
  Lines       13503    14181     +678     
==========================================
+ Hits        11351    11994     +643     
- Misses       1764     1780      +16     
- Partials      388      407      +19     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2xpc3Rfb2JqZWN0cy5nbw==) | `80.36% <50.00%> (-3.48%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `84.72% <67.75%> (+3.63%)` | :arrow_up: |
| [server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `87.28% <83.22%> (-4.63%)` | :arrow_down: |
| [server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL3Rlc3QvY29ubmVjdGVkX29iamVjdHMuZ28=) | `99.77% <100.00%> (+0.23%)` | :arrow_up: |
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `68.36% <0.00%> (-4.09%)` | :arrow_down: |
| [storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9wb3N0Z3Jlcy5nbw==) | `72.00% <0.00%> (-0.53%)` | :arrow_down: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `51.54% <0.00%> (+0.34%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/444?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
449,easyCZ,2023-01-11 08:52:57,"Thanks. Happy to contribute the changes as well, assuming you can provide guidance on how you'd like the defaults to behave.

One way to handle this case would be a DateTime with specific serialization per datastore type. Similar to how Gorm handles types differently based on the backend db. This would then allow us to hide the fact that a particular value (like Unix 0) should be treated as `null`"
406,gbragi,2023-01-11 11:25:30,@jon-whit this API sounds exactly like what we are looking for! Do you have any estimates for when this API might become available?
449,jon-whit,2023-01-11 17:28:44,"> Thanks. Happy to contribute the changes as well, assuming you can provide guidance on how you'd like the defaults to behave.
> 
> One way to handle this case would be a DateTime with specific serialization per datastore type. Similar to how Gorm handles types differently based on the backend db. This would then allow us to hide the fact that a particular value (like Unix 0) should be treated as `null`

Awesome! We'd love the contribution.

Let's work on treating the zero value for `time.Time` as nullable/nil so that API responses such as the response for the [`ListStores API`](https://openfga.dev/api/service#/Stores/ListStores) omits the `updated_at` or `deleted_at` fields if it is nil or the zero value. If you could do that for the currently supported storage engines that would be great 👍 "
406,jon-whit,2023-01-11 17:35:05,"@gbragi I don't have any hard dates yet, but we've discussed (internally on the team) to start this work some time shortly after completing the optimized ListObjects API work that we've been sprinting towards (soon to be releases). I would imagine that a rough estimate would be this first quarter of 2023.

@gbragi @wemod123 we'd like to understand the integration that you're looking for with this API. What would your integrations look like with the ListUsers API? For example, are you building these integrations in a front-end UI to show what users have access to one or more resources or are you building an auditing mechanism in a backend etc.. "
300,craigpastro,2023-01-11 21:51:37,"👋 Unfortunately, we have no updates at the moment, but hopefully soon!"
406,gbragi,2023-01-12 16:27:40,"@jon-whit we are creating a backend worker that observes updates to objects and publishes those updates to subscribing users, only if they have read access to those objects.

1. An object is updated
2. List users with read access to said object
3. Publish to the intersect of list from step 2 with the list of subscribing users

this is still in a proof of concept stage so any suggestions would be appreciated"
406,aaguiarz,2023-01-12 17:19:20,"@gbragi Are users directly subscribing to updates in those objects, or are they inferred? i.e. do you have a tuple like (user = user:1, relation = subscribed, object = document:1)?

We are looking for real-world use cases of ListUsers that can't be solved using the 'Read' API, which works well for direct relationships, so if you have more details about the use case it would be very helpful.
"
380,easyCZ,2023-01-13 10:32:35,"I can confirm this continues to happen on 0.3.1, with `mysql` datastore.

With barely any traffic, 1 request per 3 seconds, I can observe a new connection for every request received. The preview request always completes before a new one is issued. In this case, the system should be able to re-use the connection and not have to establish it on each request.

```
2023/01/13 10:23:45 Client closed local connection on ip.ip.ip.ip:3306
2023/01/13 10:23:47 New connection for ""gcp-mysql-db""
2023/01/13 10:23:47 Client closed local connection on ip.ip.ip.ip:3306
2023/01/13 10:27:24 New connection for ""gcp-mysql-db""
2023/01/13 10:27:26 Client closed local connection on ip.ip.ip.ip:3306
2023/01/13 10:27:26 Client closed local connection on ip.ip.ip.ip:3306
2023/01/13 10:27:33 New connection for ""gcp-mysql-db""
2023/01/13 10:28:02 New connection for ""gcp-mysql-db""
```

The above is with the following config:
```
        - --datastore-conn-max-idle-time=10m
        - --datastore-conn-max-lifetime=10m
        - --datastore-max-cache-size=100000
        - --datastore-max-idle-conns=100
        - --datastore-max-open-conns=100
```"
445,psadovsky,2023-01-13 10:44:11,"> 

@aaguiarz I sent you an email."
445,psadovsky,2023-01-13 10:46:19,"> Hi @psadovsky
> 
> If you can also provide us the tuples + the check() you run, we can test it on our end.
> 
> Thanks

Can I give you SQL scripts? Does"" the check() you run"" mean giving you the client code? "
406,gbragi,2023-01-13 12:37:51,"@aaguiarz  The subscription is unrelated to FGA. The list of subscribed users is just used to further filter out the updates to publish. The subscriptions I am talking about are in fact implemented using GraphQL.

Users have read access to objects via indirect relations, i.e. if user is a member of a tenant to which the object belongs, the user has read access. But users outside the tenant may also have read access to the object if a task related to the object has been assigned to them.

One advantage of querying FGA for a list of users is that this allows a user to subscribe to updates of objects that don't exist at the time of initializing the subscription. This would not be possible if subscribing to updates of individual object ids. 

Another constraint we have is related to the GraphQL infrastructure we're using. We don't have access to the list of active subscriptions. Otherwise we could have looped through that list on each object update doing a simple permission check for each actively subscribing user against the object. 
 "
454,linux-foundation-easycla[bot],2023-01-15 03:57:22,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: Siddhant-K-code / name: Siddhant Khare  (db0c5f1346fb801d0e2e8b6f8778fdbdf0187c30)</li></ul>"
454,Siddhant-K-code,2023-01-15 03:59:40,"There is some CLA issue. I am unable to continue as Individual Contributor?

<img width=""1512"" alt=""image"" src=""https://user-images.githubusercontent.com/55068936/212522245-7fa38c1a-1b41-4f15-9eea-0ebb7d1af3cd.png"">
"
454,Siddhant-K-code,2023-01-15 04:02:54,I have signed the CLA ✅ 
445,psadovsky,2023-01-15 19:55:05,"We set the value of ""--datastore-max-idle-conns 30"" and it helped to cut the time by half. However, it still does not work how we would expect. To be honest, without our own caching, it would not be useful.

I tried to do a simple performance test on my laptop (it is a weak machine, but the tested load is not so heavy):

![image](https://user-images.githubusercontent.com/72700106/212563447-5d14efde-94e2-4ad1-b33c-e62b76b89c0d.png)

Note: I switched off custom caching.

20 threads/users/requests calling our permission service which transforms the individual request into OpenFGA ""check"" request, which means generating 16 parallel OpenFGA check requests for one JMeter request. Together it gives 16 x 20 = 320 requests. One JMeter request took approximately 2 seconds. Except that I set --datastore-max-idle-conns  100.
"
455,codecov-commenter,2023-01-16 18:11:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.09**% // Head: **84.01**% // Decreases project coverage by **`-0.07%`** :warning:
> Coverage data is based on head [(`a19f1d6`)](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`1c84ac3`)](https://codecov.io/gh/openfga/openfga/commit/1c84ac31742021e79a982c5a3ab043f7bc9a9cf5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #455      +/-   ##
==========================================
- Coverage   84.09%   84.01%   -0.08%     
==========================================
  Files          84       84              
  Lines       13503    13503              
==========================================
- Hits        11355    11345      -10     
- Misses       1761     1769       +8     
- Partials      387      389       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/postgres/iterators.go](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9wb3N0Z3Jlcy9pdGVyYXRvcnMuZ28=) | `69.14% <0.00%> (-6.39%)` | :arrow_down: |
| [storage/mysql/iterators.go](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9pdGVyYXRvcnMuZ28=) | `68.36% <0.00%> (-4.09%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/455?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
455,dependabot[bot],2023-01-16 18:44:25,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
207,craigpastro,2023-01-17 18:47:39,Closed via #454.
380,craigpastro,2023-01-18 01:34:29,Thanks for the reports! I'll investigate a bit and report back here.
460,codecov-commenter,2023-01-18 21:21:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.13**% // Head: **85.15**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`96ea028`)](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f9235e5`)](https://codecov.io/gh/openfga/openfga/commit/f9235e58e1949195110c6f7ea6ca44b9b91b2a46?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 37.50% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #460      +/-   ##
==========================================
+ Coverage   85.13%   85.15%   +0.01%     
==========================================
  Files          81       81              
  Lines       14061    14065       +4     
==========================================
+ Hits        11971    11977       +6     
+ Misses       1709     1707       -2     
  Partials      381      381              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.60% <37.50%> (+0.34%)` | :arrow_up: |
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.97% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/460?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
459,codecov-commenter,2023-01-18 22:15:45,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.11**% // Head: **85.12**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`becdf4f`)](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`5e80976`)](https://codecov.io/gh/openfga/openfga/commit/5e80976fe0dedd040d7b06ee807e02691c827b61?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #459   +/-   ##
=======================================
  Coverage   85.11%   85.12%           
=======================================
  Files          81       81           
  Lines       14065    14065           
=======================================
+ Hits        11972    11973    +1     
  Misses       1711     1711           
+ Partials      382      381    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9tZW1vcnkvbWVtb3J5Lmdv) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c3RvcmFnZS9teXNxbC9teXNxbC5nbw==) | `77.51% <0.00%> (+0.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/459?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
461,codecov-commenter,2023-01-18 22:21:17,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/461?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.14**% // Head: **85.12**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`157512b`)](https://codecov.io/gh/openfga/openfga/pull/461?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f6da503`)](https://codecov.io/gh/openfga/openfga/commit/f6da50334575d12ff6a9041846290db74d079ef1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #461      +/-   ##
==========================================
- Coverage   85.14%   85.12%   -0.02%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
- Hits        11975    11973       -2     
- Misses       1709     1710       +1     
- Partials      381      382       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/461?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/461?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-c2VydmVyL2NvbW1hbmRzL2NoZWNrLmdv) | `84.43% <100.00%> (-0.52%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/461?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
436,jon-whit,2023-01-18 23:12:11,@jayoungers you ok if I close this for now? We can cross-link if we end up supporting an alternative base-path in the future.
458,codecov-commenter,2023-01-18 23:26:54,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.13**% // Head: **85.12**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`f4f6169`)](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`84fc17a`)](https://codecov.io/gh/openfga/openfga/commit/84fc17ace670e9f9c62592f6e6310ba6b8b758d0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #458      +/-   ##
==========================================
- Coverage   85.13%   85.12%   -0.01%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
- Hits        11974    11973       -1     
- Misses       1709     1711       +2     
+ Partials      382      381       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <ø> (-0.35%)` | :arrow_down: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `100.00% <ø> (ø)` | |
| [internal/middleware/http/handler.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9odHRwL2hhbmRsZXIuZ28=) | `50.00% <ø> (ø)` | |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `75.00% <ø> (ø)` | |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.95% <ø> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.94% <ø> (ø)` | |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.04% <ø> (ø)` | |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `87.28% <ø> (ø)` | |
| [pkg/server/commands/create\_store.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jcmVhdGVfc3RvcmUuZ28=) | `84.21% <ø> (ø)` | |
| [pkg/server/commands/delete\_store.go](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9kZWxldGVfc3RvcmUuZ28=) | `75.00% <ø> (ø)` | |
| ... and [48 more](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/458?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
436,JohnYoungers,2023-01-18 23:39:09,"> @jayoungers you ok if I close this for now? We can cross-link if we end up supporting an alternative base-path in the future.

Yep! Sorry; I'll close this.  

Just a heads up regarding the prior comment, as far as AWS is concerned I don't believe ALBs or NLBs are capable of altering requests (rewriting paths); you can respond with a redirection result containing a different path, but functionality to forward an altered requested to a target I don't believe exists."
380,craigpastro,2023-01-20 01:58:40,"Small update: definitely getting there. I think if you test it out you will notice the problem only happens on checks where the result is `allowed: true`. The problem is that in this case, as soon as we find that the result is allowed we return, the context gets cancelled, which gets propagated to the calls to the database, and the database connections get dropped. One easy solution is to replace the propagated context with a ""fresh"" context. We are currently investigating the tradeoffs. Since all of our queries should be (better be!) under 1s I get the feeling that this is the correct way. If anyone has any insights I would love to hear about it!"
380,craigpastro,2023-01-20 02:05:44,"> Do you use a custom implementation of the connection pool?

👋 @psadovsky. No, we are just using the connection pool in `database/sql`. I think if you plan to scale out to many OpenFGA nodes, then it is also probably a good idea to use pgbouncer in front of Postgres. That is, if you are using Postgres. I am sure there is something similar for MySQL."
462,linux-foundation-easycla[bot],2023-01-20 12:04:37,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: MidasLamb / name: Midas Lambrichts  (9c7fc3b1036bb3665805329ebdc3196e53c3a76c)</li></ul>"
462,codecov-commenter,2023-01-20 12:10:33,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.12**% // Head: **85.14**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`9c7fc3b`)](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`038c5c1`)](https://codecov.io/gh/openfga/openfga/commit/038c5c1f8c2dca1df38a32e04143fb162d476d83?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #462      +/-   ##
==========================================
+ Coverage   85.12%   85.14%   +0.01%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
+ Hits        11973    11975       +2     
+ Misses       1710     1709       -1     
+ Partials      382      381       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <0.00%> (-0.35%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.97% <0.00%> (+0.40%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.94% <0.00%> (+0.51%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/462?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
463,jon-whit,2023-01-20 17:40:14,"The OpenFGA maintainer team has discussed making the [Read API](https://openfga.dev/api/service#/Relationship%20Tuples/Read) more generic so that you can filter tuples from various ""angles"". Right now the best way to do this would be to either query all of the tuples (not ideal) OR you could query all of the tuples for the specific user object for each of the object types in the system. For example, to find all of the tuples for `user:jon` in the system you could find all of the tuples for `folder` and `document` objects related to `user:jon`:

```
type user

type document
  relations
    define viewer: [user]

type folder
  relations
    define viewer: [user]
```

```
POST /stores/:storeId/read
{
 ""tuple_key"": {
     ""user"": ""user:jon"",
     ""object"": ""document:""
  }
}
```
followed by
```
POST /stores/:storeId/read
{
 ""tuple_key"": {
     ""user"": ""user:jon"",
     ""object"": ""folder:""
  }
}
```

then delete all of the tuples from these two independent requests."
462,jon-whit,2023-01-20 17:42:06,"@MidasLamb by chance, have you had any issues with connections disconnecting frequently with the MySQL storage adapter?"
453,codecov-commenter,2023-01-20 23:42:26,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.85**% // Head: **84.09**% // Decreases project coverage by **`-0.76%`** :warning:
> Coverage data is based on head [(`26e69b3`)](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`7252a89`)](https://codecov.io/gh/openfga/openfga/commit/7252a897dd2b34240bf2de124735fedbb8412631?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 91.17% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #453      +/-   ##
==========================================
- Coverage   84.85%   84.09%   -0.76%     
==========================================
  Files          81       82       +1     
  Lines       14114    13528     -586     
==========================================
- Hits        11977    11377     -600     
- Misses       1756     1767      +11     
- Partials      381      384       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3dyaXRlX2F1dGh6bW9kZWwuZ28=) | `94.52% <ø> (-5.48%)` | :arrow_down: |
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `90.90% <90.90%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.56% <91.17%> (-1.16%)` | :arrow_down: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.43% <0.00%> (-0.52%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `53.06% <0.00%> (+0.87%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/453?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
464,craigpastro,2023-01-21 17:45:25,"The non-optimized version of list objects uses concurrent checks underneath the hood so depending on how many tuples you have in the system this could send a lot of requests to Postgres, which then could exceed Postgres' max connections. Maybe you can try increasing the max_connections on Postgres, or perhaps decreasing max-open-conns in OpenFGA? The latter at the cost of latency I suppose. There is also an optimized version of list objects, but at the moment it doesn't work with models that include exclusion or intersection."
464,xXAvoraXx,2023-01-22 10:12:02,"> The non-optimized version of list objects uses concurrent checks underneath the hood so depending on how many tuples you have in the system this could send a lot of requests to Postgres, which then could exceed Postgres' max connections. Maybe you can try increasing the max_connections on Postgres, or perhaps decreasing max-open-conns in OpenFGA? The latter at the cost of latency I suppose. There is also an optimized version of list objects, but at the moment it doesn't work with models that include exclusion or intersection.

I'm trying to get all the permissions that the user has access to. For example, a user can access 65 types of permissions. By using these permissions, I plan to turn the user's access to the pages on the screen on the frontend side. So I need all permissions after my user login. Before I became OpenFGA, I was putting all these permissions inside the jwt token.

I'm using 'and' and 'but not' syntaxes, when will there be an optimization for this?"
464,xXAvoraXx,2023-01-22 10:19:57,"After adding this to the env 'OPENFGA_DATASTORE_MAXOPENCONNS 2' I don't know how it happened but the query that used to take 11 seconds now takes 800ms. and it worked.


"
463,kian99,2023-01-23 07:42:30,"Thanks for this! The way forward makes sense and is what I was expecting.

Just my 2 cents, but it would be very beneficial for the Read API to be more flexible so that queries from both ""sides"" of the relationship are possible. 
- It feels more intuitive when queries on the user side can be done similarly to the object side. 
- Further, in my specific scenario, where there are say 4+ different object types then the queries can become a bit excessive. 
- Finally it allows for a more generic implementation, on my application side, for removing a resource, i.e. removing a document will only ever require a query on the ""object"" side but removing a group would require queries on both sides (user and object), since a group could be a member of another group. "
462,MidasLamb,2023-01-23 09:02:56,"@jon-whit , not that I've noticed, it's been running without a hitch. I've also not really looked into that to see if that's occurring transparently  maybe."
462,jon-whit,2023-01-23 16:14:13,@MidasLamb would you mind observing that over the next week or two and report back? I'd love to know if that's happening in your production environment in OpenFGA.
465,codecov-commenter,2023-01-23 18:13:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/465?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.15**% // Head: **85.14**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`2a8bac8`)](https://codecov.io/gh/openfga/openfga/pull/465?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0c81c70`)](https://codecov.io/gh/openfga/openfga/commit/0c81c709ef1d65c5c457c6f4b203af1836f7bd77?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #465      +/-   ##
==========================================
- Coverage   85.15%   85.14%   -0.02%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
- Hits        11977    11975       -2     
- Misses       1707     1709       +2     
  Partials      381      381              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/465?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/465?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <0.00%> (-0.35%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/465?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
466,codecov-commenter,2023-01-23 18:14:51,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.14**% // Head: **85.11**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`a3ea462`)](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`217b718`)](https://codecov.io/gh/openfga/openfga/commit/217b71854d082435c5b2917bbdb505fa0f18770c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #466      +/-   ##
==========================================
- Coverage   85.14%   85.11%   -0.03%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
- Hits        11975    11972       -3     
- Misses       1708     1711       +3     
  Partials      382      382              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.07% <0.00%> (-0.45%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <0.00%> (-0.35%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.94% <0.00%> (+0.51%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/466?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
467,codecov-commenter,2023-01-23 18:17:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.11**% // Head: **85.14**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`6842ee5`)](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`5a83b7c`)](https://codecov.io/gh/openfga/openfga/commit/5a83b7c577f1043bead21eab4eab7e38bbd4fb2f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #467      +/-   ##
==========================================
+ Coverage   85.11%   85.14%   +0.02%     
==========================================
  Files          81       81              
  Lines       14065    14065              
==========================================
+ Hits        11971    11975       +4     
+ Misses       1712     1709       -3     
+ Partials      382      381       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.97% <0.00%> (+0.40%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.94% <0.00%> (+0.51%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/467?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
464,craigpastro,2023-01-23 19:12:48,"> I'm using 'and' and 'but not' syntaxes, when will there be an optimization for this?

Hopefully soon, but we can't make any promises. It is on the roadmap and people are certainly asking for it.

> After adding this to the env 'OPENFGA_DATASTORE_MAXOPENCONNS 2' I don't know how it happened but the query that used to take 11 seconds now takes 800ms. and it worked.

😳 That's certainly surprising! Nothing else changed?
"
300,ghstahl,2023-01-23 21:53:56," [CANNOT REPRODUCE 0.3.2]
 [CANNOT REPRODUCE 0.2.5]
 [CAN REPRODUCE 0.1.7]

I changed my data set as I had stuff in there that is now not allowed.
```*``` was changed to ```global```, where I was using ```*``` to signify global (not wildcard just a single character word)
```json
{
      ""object"": ""org:*"",
      ""relation"": ""user_repo"",
      ""user"": ""user_repo:*""
}
```
is now
```json
{
      ""object"": ""org:global"",
      ""relation"": ""user_repo"",
      ""user"": ""user_repo:global""
}
```
* ```#members``` used to work and was changed to ```#member```.  A little strange that this one worked at all, but this one goes back to the early days.
```json
{
      ""object"": ""permission_group:32b0ea4c91b34c2a82fb5dba6e93ee68/all"",
      ""relation"": ""member"",
      ""user"": ""org:32b0ea4c91b34c2a82fb5dba6e93ee68#members""
}
````
is now
```json
 {
      ""object"": ""permission_group:32b0ea4c91b34c2a82fb5dba6e93ee68/all"",
      ""relation"": ""member"",
      ""user"": ""org:32b0ea4c91b34c2a82fb5dba6e93ee68#member""
}
```
[complex_error_repo_2 (2).zip](https://github.com/openfga/openfga/files/10483832/complex_error_repo_2.2.zip)

@miparnisari
[ref](https://github.com/openfga/openfga/issues/300#issue-1415670057) 
my test once the data is loaded is a check call that I could get to fail at least 40% of the time.
A successful response is.
```json
{
    ""allowed"": true,
    ""resolution"": """"
}
```
I hope that this didn't just go away without anyone knowing why."
464,xXAvoraXx,2023-01-24 08:38:57,"> > I'm using 'and' and 'but not' syntaxes, when will there be an optimization for this?
> 
> Hopefully soon, but we can't make any promises. It is on the roadmap and people are certainly asking for it.
> 
> > After adding this to the env 'OPENFGA_DATASTORE_MAXOPENCONNS 2' I don't know how it happened but the query that used to take 11 seconds now takes 800ms. and it worked.
> 
> 😳 That's certainly surprising! Nothing else changed?

before adding this 'OPENFGA_DATASTORE_MAXOPENCONNS 2' environment variable, the result of the request was incomplete and took a long time. But after adding it, it started working without any errors."
462,MidasLamb,2023-01-24 10:57:54,I'll try to keep an eye on it!
469,codecov-commenter,2023-01-24 21:14:48,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.14**% // Head: **85.08**% // Decreases project coverage by **`-0.06%`** :warning:
> Coverage data is based on head [(`f34581e`)](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`217b718`)](https://codecov.io/gh/openfga/openfga/commit/217b71854d082435c5b2917bbdb505fa0f18770c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 88.57% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #469      +/-   ##
==========================================
- Coverage   85.14%   85.08%   -0.06%     
==========================================
  Files          81       81              
  Lines       14065    14091      +26     
==========================================
+ Hits        11975    11989      +14     
- Misses       1708     1719      +11     
- Partials      382      383       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `77.56% <88.57%> (-0.64%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `50.26% <0.00%> (-0.35%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.94% <0.00%> (+0.51%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/469?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
468,jon-whit,2023-01-24 23:51:11,"r.e. `trace_id` vs `request_id` these are two different things, we should have both. A trace can span multiple requests across services and or components within a single service. It's common to correlate traces with requests, and so I think we should have both."
468,jon-whit,2023-01-24 23:52:44,"Can we include #282 as part of some of this work? It'd be nice to register the `grpc_ctxtags` middleware and add the `store_id`, `model_id`, and other fields (as appropriate) to the context and then derive a logger with that context auto-injected."
468,codecov-commenter,2023-01-25 00:23:33,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **82.96**% // Increases project coverage by **`+0.09%`** :tada:
> Coverage data is based on head [(`d18befb`)](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 98.03% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #468      +/-   ##
==========================================
+ Coverage   82.87%   82.96%   +0.09%     
==========================================
  Files          86       86              
  Lines       13767    13787      +20     
==========================================
+ Hits        11410    11439      +29     
+ Misses       1964     1957       -7     
+ Partials      393      391       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.36% <0.00%> (ø)` | |
| [internal/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ2F0ZXdheS9nYXRld2F5Lmdv) | `100.00% <100.00%> (ø)` | |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `91.42% <100.00%> (+5.06%)` | :arrow_up: |
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `62.16% <100.00%> (+2.16%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.02% <0.00%> (-0.43%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.92% <0.00%> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `83.37% <0.00%> (+1.02%)` | :arrow_up: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.03% <0.00%> (+1.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/468?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
470,rhamzeh,2023-01-25 15:16:30,"Thanks for your request @psadovsky

We are planning on making this part of our SDKs first before making it a server side API endpoint.

That is for several reasons, some of which include:
1. It allows us to support this faster without having to expand the API surface
2. It allows us to get feedback and use-cases before settling on an interface we cannot break without an API backward incompatible change
3. Ideally, the check requests should go to multiple servers so as not to overload one. We don't currently have server request dispatching where one server would delegate to others, but even then, it would be doing roughly the same thing

The SDK implementation ticket is being tracked here: https://github.com/openfga/sdk-generator/issues/23

There is also another issue here tracking Batch Check for the server: https://github.com/openfga/openfga/issues/182

I will close this as a duplicate of https://github.com/openfga/openfga/issues/182, but please feel free to upvote the original and add your use-cases/idea to it."
472,codecov-commenter,2023-01-25 22:37:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **85.15**% // Head: **84.84**% // Decreases project coverage by **`-0.31%`** :warning:
> Coverage data is based on head [(`d074b32`)](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`0c81c70`)](https://codecov.io/gh/openfga/openfga/commit/0c81c709ef1d65c5c457c6f4b203af1836f7bd77?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 0.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #472      +/-   ##
==========================================
- Coverage   85.15%   84.84%   -0.31%     
==========================================
  Files          81       81              
  Lines       14065    14114      +49     
==========================================
- Hits        11977    11975       -2     
- Misses       1707     1758      +51     
  Partials      381      381              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.53% <0.00%> (-4.08%)` | :arrow_down: |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/472?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
471,codecov-commenter,2023-01-26 00:59:07,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.82**% // Head: **84.84**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`7a8008d`)](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8a6116d`)](https://codecov.io/gh/openfga/openfga/commit/8a6116dd3accbeaf0f746239ad880a1963548371?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #471      +/-   ##
==========================================
+ Coverage   84.82%   84.84%   +0.02%     
==========================================
  Files          81       81              
  Lines       14114    14114              
==========================================
+ Hits        11972    11975       +3     
+ Misses       1760     1757       -3     
  Partials      382      382              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.36% <100.00%> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `84.43% <0.00%> (-0.52%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.85% <0.00%> (+0.32%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.51% <0.00%> (+0.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/471?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
469,craigpastro,2023-01-26 02:50:05,#473 subsumes this one.
473,codecov-commenter,2023-01-26 19:40:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.08**% // Head: **83.36**% // Decreases project coverage by **`-0.73%`** :warning:
> Coverage data is based on head [(`b73cfec`)](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`89554e8`)](https://codecov.io/gh/openfga/openfga/commit/89554e8b6a0fb5eca0101bdd9fed3c7d944ebed9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 64.52% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #473      +/-   ##
==========================================
- Coverage   84.08%   83.36%   -0.73%     
==========================================
  Files          82       83       +1     
  Lines       13528    13457      -71     
==========================================
- Hits        11375    11218     -157     
- Misses       1769     1847      +78     
- Partials      384      392       +8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `100.00% <ø> (ø)` | |
| [pkg/storage/context.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `56.47% <56.47%> (ø)` | |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <60.86%> (+0.85%)` | :arrow_up: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.27% <100.00%> (-0.26%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `81.63% <100.00%> (-3.32%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `87.28% <100.00%> (ø)` | |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.91% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.36% <100.00%> (ø)` | |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.64% <100.00%> (-0.33%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `74.79% <100.00%> (-2.72%)` | :arrow_down: |
| ... and [10 more](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/473?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
474,codecov-commenter,2023-01-26 22:47:58,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.05**% // Head: **83.77**% // Decreases project coverage by **`-0.28%`** :warning:
> Coverage data is based on head [(`60ef578`)](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`e6f96b7`)](https://codecov.io/gh/openfga/openfga/commit/e6f96b7484caa34b42f23f07b00ae617e2b5c6d2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 64.70% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #474      +/-   ##
==========================================
- Coverage   84.05%   83.77%   -0.28%     
==========================================
  Files          83       84       +1     
  Lines       13564    13594      +30     
==========================================
- Hits        11401    11389      -12     
- Misses       1776     1808      +32     
- Partials      387      397      +10     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.97% <ø> (+0.40%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.62% <ø> (-0.89%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `77.28% <ø> (-0.92%)` | :arrow_down: |
| [pkg/storage/context.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `62.50% <62.50%> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.53% <100.00%> (-0.18%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `81.63% <0.00%> (-3.32%)` | :arrow_down: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `96.17% <0.00%> (-2.88%)` | :arrow_down: |
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `65.33% <0.00%> (-1.34%)` | :arrow_down: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/474?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
442,mightysood,2023-01-27 17:10:11,"Hi @rhamzeh , Can I work on this?"
476,codecov-commenter,2023-01-27 17:38:01,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.75**% // Head: **81.65**% // Decreases project coverage by **`-1.11%`** :warning:
> Coverage data is based on head [(`af6ca12`)](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`cdcdd94`)](https://codecov.io/gh/openfga/openfga/commit/cdcdd94787be794646a01ff67140a9fec27f274e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 89.11% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #476      +/-   ##
==========================================
- Coverage   82.75%   81.65%   -1.11%     
==========================================
  Files          86       87       +1     
  Lines       13728    14163     +435     
==========================================
+ Hits        11361    11565     +204     
- Misses       1973     2188     +215     
- Partials      394      410      +16     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `85.96% <ø> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `88.75% <88.75%> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `57.30% <91.11%> (+2.70%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.38% <100.00%> (+0.13%)` | :arrow_up: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `57.48% <0.00%> (-40.10%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `43.73% <0.00%> (-38.62%)` | :arrow_down: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `90.62% <0.00%> (-9.38%)` | :arrow_down: |
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `65.33% <0.00%> (-1.34%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.16% <0.00%> (-0.46%)` | :arrow_down: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/476?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
478,codecov-commenter,2023-01-27 21:37:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.08**% // Head: **84.07**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`376a40d`)](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`89554e8`)](https://codecov.io/gh/openfga/openfga/commit/89554e8b6a0fb5eca0101bdd9fed3c7d944ebed9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 62.85% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #478      +/-   ##
==========================================
- Coverage   84.08%   84.07%   -0.01%     
==========================================
  Files          82       83       +1     
  Lines       13528    13561      +33     
==========================================
+ Hits        11375    11402      +27     
- Misses       1769     1772       +3     
- Partials      384      387       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `87.25% <0.00%> (-0.04%)` | :arrow_down: |
| [internal/middleware/requestid.go](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9yZXF1ZXN0aWQuZ28=) | `62.50% <62.50%> (ø)` | |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `47.03% <100.00%> (+0.49%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `85.79% <0.00%> (+2.18%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/478?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
442,rhamzeh,2023-01-27 23:40:41,"Thanks for stepping up @mightysood!

This might need a bit of sync as the team are still considering overhauling our error responses.

Will check-in with the team to make sure this is straightforward so that you don't waste effort on it and get back to you"
464,craigpastro,2023-01-28 01:11:01,"Hi @xXAvoraXx 👋  I'll close this issue for now. If you are still experiencing problems please reopen it. Thanks!

ps. A fix for https://github.com/openfga/openfga/issues/380 was merged to `main` which may also improve performance. Please take a look!"
380,craigpastro,2023-01-28 01:14:13,"Whew, finally got around to getting a fix for this. #474 has been merged and is in `main`. If you can run from `main` (or from a Docker image built off `main`) please let us know if this helps with the connections/disconnections issues. "
282,craigpastro,2023-01-28 01:39:44,"From the comment in #468 it seems we won't be able to use this, so I'll close it for now."
462,MidasLamb,2023-01-30 12:28:10,"@jon-whit , going through the openfga logs, I do see this quite a few times:
```
[mysql] 2023/01/30 12:12:29 connection.go:360: invalid connection
[mysql] 2023/01/30 12:12:29 connection.go:360: invalid connection
[mysql] 2023/01/30 12:12:29 connection.go:360: invalid connection
```"
442,mightysood,2023-01-30 13:26:27,"`{""code"":""validation_error"",""message"":""relation 'document#reader1' not found""}`

We are sending an appropriate message with the validation_error code. "
479,rhamzeh,2023-01-30 16:02:30,"Thanks for asking @filipstiglic - right now we don't have enough tests to fully confirm. However we are investigating and working on [several issues](https://github.com/orgs/openfga/discussions/98) impacting performance with PostgreSQL, some related to dropped connections and the way we are doing our pooling.

We've made some progress and are working on continuing that route. PG Bouncer is something which we considered and we still have it as ""to investigate"" to see if it does result in performance improvements or just increased latency for little or no bump in scalability when it comes to DB connections.

So TLDR: We don't know yet, but we plan on investigating PG Bouncer as one of the many performance and scalability improvements that can be brought to OpenFGA in a prod env.

"
463,rhamzeh,2023-01-30 16:03:31,Related: https://github.com/openfga/openfga/issues/337
479,filipstiglic,2023-01-30 16:34:37,"> Thanks for asking @filipstiglic - right now we don't have enough tests to fully confirm. However we are investigating and working on [several issues](https://github.com/orgs/openfga/discussions/98) impacting performance with PostgreSQL, some related to dropped connections and the way we are doing our pooling.
> 
> We've made some progress and are working on continuing that route. PG Bouncer is something which we considered and we still have it as ""to investigate"" to see if it does result in performance improvements or just increased latency for little or no bump in scalability when it comes to DB connections.
> 
> So TLDR: We don't know yet, but we plan on investigating PG Bouncer as one of the many performance and scalability improvements that can be brought to OpenFGA in a prod env.

Thank you very much for the answer :) I've seen some improvements regarding pgsql connections, already present in the ""main"" of 0.3.3 , so looking forward to the release :)"
487,codecov-commenter,2023-01-30 18:53:04,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.84**% // Head: **83.84**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`6fb6e3d`)](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8bb4bb1`)](https://codecov.io/gh/openfga/openfga/commit/8bb4bb12ac270707b66a7306a0ccb4abc72fb8a5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 92.85% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #487      +/-   ##
==========================================
- Coverage   83.84%   83.84%   -0.01%     
==========================================
  Files          85       85              
  Lines       13596    13592       -4     
==========================================
- Hits        11400    11396       -4     
- Misses       1802     1804       +2     
+ Partials      394      392       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `83.41% <75.00%> (+1.02%)` | :arrow_up: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.86% <100.00%> (-0.10%)` | :arrow_down: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.03% <100.00%> (+1.42%)` | :arrow_up: |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.91% <100.00%> (ø)` | |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `83.60% <0.00%> (-2.19%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.53% <0.00%> (-0.33%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.25% <0.00%> (-0.32%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.07% <0.00%> (ø)` | |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `77.74% <0.00%> (+0.45%)` | :arrow_up: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/487?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
442,miparnisari,2023-01-30 20:02:26,"@psadovsky can you share in what API you saw that error? If you saw it in the Check API, I think the current error makes sense because the `relation` must have been a part of the input."
483,craigpastro,2023-01-30 21:43:07,Won't do
483,dependabot[bot],2023-01-30 21:43:10,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
486,dependabot[bot],2023-01-30 21:43:27,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
485,craigpastro,2023-01-30 21:43:47,Will do in #477.
485,dependabot[bot],2023-01-30 21:43:50,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
484,craigpastro,2023-01-30 21:44:04,Will do in #477.
484,dependabot[bot],2023-01-30 21:44:07,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
482,dependabot[bot],2023-01-30 21:44:21,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
477,codecov-commenter,2023-01-30 21:53:32,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.08**% // Head: **82.83**% // Decreases project coverage by **`-0.25%`** :warning:
> Coverage data is based on head [(`98eb01f`)](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`9fd485f`)](https://codecov.io/gh/openfga/openfga/commit/9fd485f235436e3d5d038207fb6aed100d89865f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 70.09% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #477      +/-   ##
==========================================
- Coverage   83.08%   82.83%   -0.25%     
==========================================
  Files          86       86              
  Lines       13706    13728      +22     
==========================================
- Hits        11387    11371      -16     
- Misses       1929     1966      +37     
- Partials      390      391       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `72.07% <ø> (+0.06%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <ø> (-2.64%)` | :arrow_down: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `9.09% <0.00%> (-90.91%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `54.60% <45.45%> (-0.42%)` | :arrow_down: |
| [pkg/server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2NoZWNrLmdv) | `62.43% <50.00%> (+0.27%)` | :arrow_up: |
| [pkg/server/test/read\_changes.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3JlYWRfY2hhbmdlcy5nbw==) | `89.80% <88.88%> (-0.05%)` | :arrow_down: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.02% <89.28%> (-0.26%)` | :arrow_down: |
| [internal/middleware/requestid.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9yZXF1ZXN0aWQuZ28=) | `73.33% <100.00%> (+7.61%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `83.37% <100.00%> (+0.46%)` | :arrow_up: |
| ... and [18 more](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/477?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
406,erickhgm,2023-01-30 22:03:59,"Hi, I would like to know if I am able to achieve this result.

A user listing as we have in the RBAC system.

```
model
  schema 1.1
type user
type organization
  relations
    define owner: [user]
    define delivery: [user]
```

Example:
`who user:* is related to organization:1 as *?`

![image](https://user-images.githubusercontent.com/6977922/215605420-f9665a58-3367-4d83-8197-c0293237727f.png)
"
406,erickhgm,2023-01-30 22:22:32,"I can do that with this:

You can pass in the object and the service will return all the direct tuples tied to it:
```
POST /read
{
  ""tuple_key"": {
      ""object"": ""organization:contoso""
   }
}
```

response:
```
{
  ""tuples"": [
    {
      ""key"": {
        ""user"": ""user:anne"",
        ""relation"": ""owner"",
        ""object"": ""organization:contoso""
      },
      ""timestamp"": ""2022-10-05T13:42:12.356Z""
    },
    {
      ""key"": {
        ""user"": ""user:bob"",
        ""relation"": ""delivery"",
        ""object"": ""organization:contoso""
      },
      ""timestamp"": ""2022-11-06T15:32:11.128Z""
    }
  ]
}
```"
491,codecov-commenter,2023-01-30 22:53:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.84**% // Head: **83.77**% // Decreases project coverage by **`-0.08%`** :warning:
> Coverage data is based on head [(`58d4fa0`)](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`8bb4bb1`)](https://codecov.io/gh/openfga/openfga/commit/8bb4bb12ac270707b66a7306a0ccb4abc72fb8a5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 76.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #491      +/-   ##
==========================================
- Coverage   83.84%   83.77%   -0.08%     
==========================================
  Files          85       85              
  Lines       13596    13600       +4     
==========================================
- Hits        11400    11393       -7     
- Misses       1802     1811       +9     
- Partials      394      396       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.85% <0.00%> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `23.52% <50.00%> (+23.52%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.65% <75.00%> (+0.25%)` | :arrow_up: |
| [internal/validation/validation.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.86% <100.00%> (-0.10%)` | :arrow_down: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `97.58% <100.00%> (-0.03%)` | :arrow_down: |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.91% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.36% <100.00%> (ø)` | |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `83.60% <0.00%> (-2.19%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.62% <0.00%> (-0.45%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.57% <0.00%> (-0.41%)` | :arrow_down: |
| ... and [4 more](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/491?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
417,jon-whit,2023-01-31 16:28:09,"How did you benchmark this? If we didn't have a sufficient number of benchmark samples, then the differences between the prior runs and the latest runs might make sense."
417,miparnisari,2023-01-31 17:04:50,"@jon-whit 

> How did you benchmark this? 

`make bench` in my local machine

> If we didn't have a sufficient number of benchmark samples, then the differences between the prior runs and the latest runs might make sense.

True, but i'm still surprised that before the merge of main the improvement gain was a lot more notorious than after.."
494,codecov-commenter,2023-01-31 18:55:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.36**% // Head: **83.30**% // Decreases project coverage by **`-0.07%`** :warning:
> Coverage data is based on head [(`e0e9c9c`)](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6e34dec`)](https://codecov.io/gh/openfga/openfga/commit/6e34dec03f72eb7701a546e662e323c2186e5b6f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 83.87% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #494      +/-   ##
==========================================
- Coverage   83.36%   83.30%   -0.07%     
==========================================
  Files          85       85              
  Lines       13661    13675      +14     
==========================================
+ Hits        11389    11392       +3     
- Misses       1882     1893      +11     
  Partials      390      390              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `51.69% <61.53%> (-1.23%)` | :arrow_down: |
| [cmd/run.go](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi5nbw==) | `46.88% <100.00%> (+0.17%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.65% <0.00%> (-0.26%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/494?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
417,jon-whit,2023-01-31 20:07:55,"> @jon-whit
> 
> > How did you benchmark this?
> 
> `make bench` in my local machine
> 
> > If we didn't have a sufficient number of benchmark samples, then the differences between the prior runs and the latest runs might make sense.
> 
> True, but i'm still surprised that before the merge of main the improvement gain was a lot more notorious than after..

Just to make sure, it may be worth running multiple iterations of `go bench` so that you get a more accurate approximation. 

`go -bench=... -count 5`"
495,codecov-commenter,2023-01-31 21:46:52,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.36**% // Head: **83.36**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`1309e5d`)](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6e34dec`)](https://codecov.io/gh/openfga/openfga/commit/6e34dec03f72eb7701a546e662e323c2186e5b6f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #495      +/-   ##
==========================================
- Coverage   83.36%   83.36%   -0.01%     
==========================================
  Files          85       85              
  Lines       13661    13648      -13     
==========================================
- Hits        11389    11378      -11     
+ Misses       1882     1877       -5     
- Partials      390      393       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.01% <ø> (+2.09%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `91.12% <0.00%> (-2.42%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `85.16% <0.00%> (-1.94%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.39% <0.00%> (-0.52%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.51% <0.00%> (-0.45%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/495?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
380,craigpastro,2023-02-01 01:32:07,"👋 We have now released v0.3.3, which includes #474. It would be great if you could try this and report back if it helped with your issue. Thanks!"
445,craigpastro,2023-02-01 01:33:22,"👋 We have now released v0.3.3, which we believe will help this issue. (See also #380.) Please try it out and let us know how it goes."
254,craigpastro,2023-02-01 01:35:51,Done in #360.
496,elbuo8,2023-02-01 08:22:15,What is the plan to replace this? This will drop internal visibility if there isn’t an alternative.
445,psadovsky,2023-02-01 10:01:34,"@craigpastro I have good news, it looks like it helped a lot 
![image](https://user-images.githubusercontent.com/72700106/216011167-adbe811a-e6a4-4e14-afef-29c0b8b0a56e.png)

We went down from approx. 2 seconds to 250ms. Great job 🥳"
462,aaguiarz,2023-02-02 14:43:55,@MidasLamb would it be possible for you to add your company to the list here https://github.com/openfga/community/blob/main/ADOPTERS.MD?  Thanks!
500,codecov-commenter,2023-02-02 14:45:45,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/500?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.75**% // Head: **82.78**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`3f83597`)](https://codecov.io/gh/openfga/openfga/pull/500?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`cdcdd94`)](https://codecov.io/gh/openfga/openfga/commit/cdcdd94787be794646a01ff67140a9fec27f274e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 33.33% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #500      +/-   ##
==========================================
+ Coverage   82.75%   82.78%   +0.02%     
==========================================
  Files          86       86              
  Lines       13728    13722       -6     
==========================================
- Hits        11361    11360       -1     
+ Misses       1973     1968       -5     
  Partials      394      394              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.31% <33.33%> (+0.71%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/500?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
500,craigpastro,2023-02-02 17:39:33,"Sorry, let me check one thing with trace key names. I remember there are best practices."
498,codecov-commenter,2023-02-02 18:49:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.98**% // Head: **83.07**% // Increases project coverage by **`+0.08%`** :tada:
> Coverage data is based on head [(`188ebfd`)](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`614039b`)](https://codecov.io/gh/openfga/openfga/commit/614039b244720b7349aaaeabb08728cc32d833be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 1.26% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #498      +/-   ##
==========================================
+ Coverage   82.98%   83.07%   +0.08%     
==========================================
  Files          85       86       +1     
  Lines       13713    13706       -7     
==========================================
+ Hits        11380    11386       +6     
+ Misses       1940     1930      -10     
+ Partials      393      390       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <0.00%> (ø)` | |
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.28% <ø> (ø)` | |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `28.57% <ø> (+5.04%)` | :arrow_up: |
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `90.90% <100.00%> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.95% <0.00%> (ø)` | |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.03% <0.00%> (+1.44%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `83.41% <0.00%> (+1.78%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/498?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
502,codecov-commenter,2023-02-02 23:03:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.08**% // Head: **82.98**% // Decreases project coverage by **`-0.10%`** :warning:
> Coverage data is based on head [(`28c3993`)](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`9fd485f`)](https://codecov.io/gh/openfga/openfga/commit/9fd485f235436e3d5d038207fb6aed100d89865f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #502      +/-   ##
==========================================
- Coverage   83.08%   82.98%   -0.10%     
==========================================
  Files          86       86              
  Lines       13706    13708       +2     
==========================================
- Hits        11387    11375      -12     
- Misses       1929     1939      +10     
- Partials      390      394       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.44% <100.00%> (+0.16%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `91.12% <0.00%> (-2.42%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `85.16% <0.00%> (-1.94%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `81.63% <0.00%> (-1.28%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.51% <0.00%> (-0.45%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/502?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
501,codecov-commenter,2023-02-03 00:14:00,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.75**% // Head: **82.79**% // Increases project coverage by **`+0.03%`** :tada:
> Coverage data is based on head [(`b531fab`)](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`cdcdd94`)](https://codecov.io/gh/openfga/openfga/commit/cdcdd94787be794646a01ff67140a9fec27f274e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #501      +/-   ##
==========================================
+ Coverage   82.75%   82.79%   +0.03%     
==========================================
  Files          86       86              
  Lines       13728    13728              
==========================================
+ Hits        11361    11366       +5     
+ Misses       1973     1969       -4     
+ Partials      394      393       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.44% <0.00%> (+0.42%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.92% <0.00%> (+0.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/501?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
494,craigpastro,2023-02-03 00:59:25,We should think about this.
504,codecov-commenter,2023-02-03 01:53:05,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **83.08**% // Head: **82.70**% // Decreases project coverage by **`-0.39%`** :warning:
> Coverage data is based on head [(`950b224`)](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`9fd485f`)](https://codecov.io/gh/openfga/openfga/commit/9fd485f235436e3d5d038207fb6aed100d89865f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #504      +/-   ##
==========================================
- Coverage   83.08%   82.70%   -0.39%     
==========================================
  Files          86       86              
  Lines       13706    13740      +34     
==========================================
- Hits        11387    11363      -24     
- Misses       1929     1980      +51     
- Partials      390      397       +7     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `72.78% <100.00%> (+0.77%)` | :arrow_up: |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `9.09% <0.00%> (-90.91%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.64%)` | :arrow_down: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `91.12% <0.00%> (-2.42%)` | :arrow_down: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `96.13% <0.00%> (-1.45%)` | :arrow_down: |
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `65.33% <0.00%> (-1.34%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `81.58% <0.00%> (-1.33%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.16% <0.00%> (-0.50%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.48% <0.00%> (-0.48%)` | :arrow_down: |
| [pkg/server/commands/read.go](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkLmdv) | `83.33% <0.00%> (-0.46%)` | :arrow_down: |
| ... and [16 more](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/504?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
505,adriantam,2023-02-03 17:10:19,"This is reproducible in the in-memory database with the model

```
model
  schema 1.1
type user
type node
  relations
    define parent: [node]
    define editor: [user] or editor from parent
```
and tuple `{node:abc#editor@user:wonder}`"
505,jon-whit,2023-02-03 19:51:39,@wonderbeyond this should be fixed in `main` now. It'll be included in our next release 👍 
507,codecov-commenter,2023-02-04 00:48:40,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **82.95**% // Increases project coverage by **`+0.07%`** :tada:
> Coverage data is based on head [(`8ead819`)](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 50.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #507      +/-   ##
==========================================
+ Coverage   82.87%   82.95%   +0.07%     
==========================================
  Files          86       86              
  Lines       13767    13767              
==========================================
+ Hits        11410    11421      +11     
+ Misses       1964     1957       -7     
+ Partials      393      389       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.31% <46.66%> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.69% <100.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.02% <0.00%> (-0.43%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `78.37% <0.00%> (+0.44%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `79.08% <0.00%> (+0.45%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `83.37% <0.00%> (+1.02%)` | :arrow_up: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.03% <0.00%> (+1.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/507?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
508,codecov-commenter,2023-02-05 09:13:12,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **81.94**% // Decreases project coverage by **`-0.94%`** :warning:
> Coverage data is based on head [(`0ec41b5`)](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #508      +/-   ##
==========================================
- Coverage   82.87%   81.94%   -0.94%     
==========================================
  Files          86       87       +1     
  Lines       13767    14385     +618     
==========================================
+ Hits        11410    11788     +378     
- Misses       1964     2185     +221     
- Partials      393      412      +19     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `53.62% <0.00%> (-43.97%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `40.15% <0.00%> (-42.20%)` | :arrow_down: |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `75.00% <0.00%> (-25.00%)` | :arrow_down: |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `81.48% <0.00%> (-4.89%)` | :arrow_down: |
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `65.33% <0.00%> (-1.34%)` | :arrow_down: |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `72.74% <0.00%> (-0.04%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <0.00%> (ø)` | |
| [internal/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ2F0ZXdheS9nYXRld2F5Lmdv) | `100.00% <0.00%> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.95% <0.00%> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `78.37% <0.00%> (+0.44%)` | :arrow_up: |
| ... and [10 more](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/508?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
509,rhamzeh,2023-02-06 14:00:53,"Hi @kian99

We are considering whether we allow the sever to parse the DSL, but at the moment it only accepts json.

You can still store your files in the DSL format and use https://github.com/openfga/syntax-transformer to generate the json from them.

We are working on better tooling to improve this even further (such as with an official CLI, and better CI/CD integration), and we'd love to take any suggestions you might have into consideration, so let us know if you have any particular use cases you'd like us to tackle."
509,kian99,2023-02-06 14:07:17,"The syntax transformer is exactly what I was looking for, thanks!

I will point some colleagues towards this thread if there are any suggestions but I'll close the ticket for now as my questions have been answered."
510,codecov-commenter,2023-02-06 18:11:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **82.93**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`68bd2d2`)](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 50.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #510      +/-   ##
==========================================
+ Coverage   82.87%   82.93%   +0.05%     
==========================================
  Files          86       86              
  Lines       13767    13767              
==========================================
+ Hits        11410    11417       +7     
+ Misses       1964     1959       -5     
+ Partials      393      391       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.31% <46.66%> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.69% <100.00%> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.60% <0.00%> (+0.25%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `79.08% <0.00%> (+0.45%)` | :arrow_up: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `99.03% <0.00%> (+1.44%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/510?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
512,codecov-commenter,2023-02-06 18:13:46,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **82.87**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`bcaa0e0`)](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 50.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #512   +/-   ##
=======================================
  Coverage   82.87%   82.87%           
=======================================
  Files          86       86           
  Lines       13767    13767           
=======================================
  Hits        11410    11410           
  Misses       1964     1964           
  Partials      393      393           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.31% <46.66%> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.69% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/512?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
445,jon-whit,2023-02-06 18:53:16,@psadovsky can we close this at this point then? If anything else comes up you can submit another issue 👍 
476,miparnisari,2023-02-06 19:32:13,"Can you remove these two lines?
- https://github.com/openfga/openfga/blob/cdcdd94787be794646a01ff67140a9fec27f274e/pkg/server/server_test.go#L101
- https://github.com/openfga/openfga/blob/cdcdd94787be794646a01ff67140a9fec27f274e/pkg/server/server_test.go#L155"
513,codecov-commenter,2023-02-06 21:07:06,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.87**% // Head: **82.85**% // Decreases project coverage by **`-0.03%`** :warning:
> Coverage data is based on head [(`9151beb`)](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4fed525`)](https://codecov.io/gh/openfga/openfga/commit/4fed525fb64087ec1360cce1ff6f7067ccfe19af?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 68.57% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #513      +/-   ##
==========================================
- Coverage   82.87%   82.85%   -0.03%     
==========================================
  Files          86       86              
  Lines       13767    13768       +1     
==========================================
- Hits        11410    11408       -2     
- Misses       1964     1966       +2     
- Partials      393      394       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `55.31% <46.66%> (ø)` | |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `93.60% <84.21%> (+2.47%)` | :arrow_up: |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.69% <100.00%> (ø)` | |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `81.58% <0.00%> (-0.77%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.16% <0.00%> (-0.46%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/513?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
445,psadovsky,2023-02-06 22:34:31,"Yes, we can. Thanks 👍"
514,jon-whit,2023-02-06 22:35:37,"@AlexandreBrg - the OpenFGA maintainer team talked about supporting Prometheus for the standard metric provider in OpenFGA instead of OpenTelemetry. The primary reasons for this include:

* Prometheus is more standard in the CNCF ecosystem. Prometheus is a CNCF Graduated project, whereas OpenTelemetry is Incubating.

* The Prometheus Go SDK is stable with major releases, whereas the OpenTelemetry Metrics SDK is not marked as stable.

   https://opentelemetry.io/docs/instrumentation/go/#status-and-releases
   https://opentelemetry.io/docs/instrumentation/go/manual/#creating-metrics

* Prometheus is more widely adopted in many large CNCF projects as compared to the OpenTelemetry Metrics API (not to be confused with OpenTelemetry Tracing).

* Prometheus is part of a larger ecosystem of integrations in the open-source community to date.

* Prometheus is evolving with other large CNCF initiatives like the OpenMetrics format, which didn’t exist at the time OpenTelemetry started. Some of these initiatives (namely around metrics) are starting to supersede some of the original design ideas behind the OpenTelemetry initiative.

We don't want to discredit any of the work you previously did on the OpenTelemetry Metrics work. We appreciate the contribution, and we would love to see more collaboration with you in the future as well. 

You should be able to get all of the runtime metrics that were registered by default through your OpenTelemetry integration, but they will be exported by Prometheus instead. The `docker-compose.yaml` file setups up Prometheus and Grafana by default and so you should be able to `docker compose up` and then go to Grafana in the browser and there is a default ""OpenFGA Dashboard"" that you can use as a reference. We'd like your feedback on this approach? Thoughts/questions/concerns?"
442,psadovsky,2023-02-06 22:40:57,"@miparnisari I saw it in the Check API. I am not sure, what you think about that `relation` must be part of the input. The error comes out when I send a valid check request, but the `relation` in this check request is not in the authorization model."
380,craigpastro,2023-02-06 22:41:05,"@OysteinVesth If you get a chance to run the latest version of OpenFGA, could you please let us know if you are still seeing the connections being churned. Thanks!"
514,codecov-commenter,2023-02-06 22:57:01,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.84**% // Head: **81.74**% // Decreases project coverage by **`-0.11%`** :warning:
> Coverage data is based on head [(`9c62b38`)](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a1ee627`)](https://codecov.io/gh/openfga/openfga/commit/a1ee6272827cf9ea3721acbf499a917d068d6128?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 36.36% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #514      +/-   ##
==========================================
- Coverage   81.84%   81.74%   -0.11%     
==========================================
  Files          87       86       -1     
  Lines       14257    14195      -62     
==========================================
- Hits        11669    11603      -66     
- Misses       2179     2185       +6     
+ Partials      409      407       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `57.87% <ø> (-0.36%)` | :arrow_down: |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `72.93% <ø> (+0.19%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.11% <42.85%> (-1.34%)` | :arrow_down: |
| [pkg/server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2NoZWNrLmdv) | `62.72% <50.00%> (+0.28%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `40.00% <100.00%> (-0.16%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.39% <100.00%> (+0.25%)` | :arrow_up: |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <0.00%> (-28.58%)` | :arrow_down: |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `74.07% <0.00%> (-7.41%)` | :arrow_down: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/514?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
515,codecov-commenter,2023-02-06 22:57:05,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.90**% // Head: **82.91**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`060e741`)](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`2d47263`)](https://codecov.io/gh/openfga/openfga/commit/2d472634489c0df62dd6bc4948dcd57f86cae562?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #515   +/-   ##
=======================================
  Coverage   82.90%   82.91%           
=======================================
  Files          86       86           
  Lines       13768    13769    +1     
=======================================
+ Hits        11415    11417    +2     
  Misses       1961     1961           
+ Partials      392      391    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/logger/logger.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2xvZ2dlci9sb2dnZXIuZ28=) | `60.49% <100.00%> (+0.49%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.16% <0.00%> (-0.46%)` | :arrow_down: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.02% <0.00%> (-0.43%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `82.60% <0.00%> (ø)` | |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `86.48% <0.00%> (+2.02%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `96.00% <0.00%> (+2.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/515?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
517,codecov-commenter,2023-02-07 01:02:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.87**% // Head: **82.00**% // Increases project coverage by **`+0.13%`** :tada:
> Coverage data is based on head [(`cdef2e4`)](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f6adb62`)](https://codecov.io/gh/openfga/openfga/commit/f6adb629b667e4614de26741e07654ab704bdbdb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 81.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #517      +/-   ##
==========================================
+ Coverage   81.87%   82.00%   +0.13%     
==========================================
  Files          87       89       +2     
  Lines       14315    14363      +48     
==========================================
+ Hits        11720    11779      +59     
+ Misses       2184     2177       -7     
+ Partials      411      407       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.82% <46.15%> (+1.11%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.63% <71.42%> (+0.18%)` | :arrow_up: |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `74.44% <81.25%> (-7.04%)` | :arrow_down: |
| [internal/middleware/middleware.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9taWRkbGV3YXJlLmdv) | `100.00% <100.00%> (ø)` | |
| [internal/middleware/requestid.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9yZXF1ZXN0aWQuZ28=) | `73.33% <100.00%> (ø)` | |
| [internal/middleware/storeid.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9zdG9yZWlkLmdv) | `100.00% <100.00%> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.91% <0.00%> (+0.98%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `86.48% <0.00%> (+2.02%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `97.60% <0.00%> (+2.39%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/517?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
511,dependabot[bot],2023-02-07 21:29:00,"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
518,codecov-commenter,2023-02-07 21:58:09,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.88**% // Head: **81.86**% // Decreases project coverage by **`-0.02%`** :warning:
> Coverage data is based on head [(`b1bf9ec`)](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`1018500`)](https://codecov.io/gh/openfga/openfga/commit/10185003a4e4cd17de495fed84d3347b67e1fba0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #518      +/-   ##
==========================================
- Coverage   81.88%   81.86%   -0.02%     
==========================================
  Files          87       87              
  Lines       14244    14246       +2     
==========================================
- Hits        11663    11662       -1     
- Misses       2172     2174       +2     
- Partials      409      410       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `58.23% <100.00%> (+0.23%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.48% <0.00%> (-0.45%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/518?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
518,jon-whit,2023-02-07 23:31:12,Closing in favor of a more general PR that I'll open. I want to make this more of a general middleware component that takes care of this behavior instead of having to do it manually in every return path in the `server.go` file.
520,jon-whit,2023-02-08 17:57:14,"Looks like I need to fix the `make function-test` target (which uses `docker build ..`). Docker builds need to happen against a particular OS/ARCH combination since the container embeds a `grpc-health-probe` binary inside of it.

That's why the functional tests are failing right now."
520,rhamzeh,2023-02-08 19:39:54,"This does not seem to be working (based on the included `docker-compose.yaml`)

<img width=""1233"" alt=""Screen Shot 2023-02-08 at 2 26 47 PM"" src=""https://user-images.githubusercontent.com/536147/217634058-99bc71c7-4e74-4660-80c7-01a3c75bc067.png"">
"
360,rhamzeh,2023-02-08 19:55:00,"@AlexandreBrg, we're considering replacing our OpenTelemetry metrics for Prometheus metrics. @jon-whit expanded more on our reasoning here: https://github.com/openfga/openfga/pull/514#issuecomment-1419878023

We wanted to check in with you and get your opinion on this change, please feel free to add any comments on @jon-whit's [PR here](https://github.com/openfga/openfga/pull/514)"
520,rhamzeh,2023-02-08 20:26:13,"Realized I needed to update the image first, but note that building on this branch seems broken:
<img width=""1356"" alt=""Screen Shot 2023-02-08 at 3 25 08 PM"" src=""https://user-images.githubusercontent.com/536147/217643285-e773c2bc-1584-4a0e-9411-12ef72fa2eb3.png"">
"
520,jon-whit,2023-02-08 22:30:54,"> Realized I needed to update the image first, but note that building on this branch seems broken: <img alt=""Screen Shot 2023-02-08 at 3 25 08 PM"" width=""1356"" src=""https://user-images.githubusercontent.com/536147/217643285-e773c2bc-1584-4a0e-9411-12ef72fa2eb3.png"">

The issue is that the container build depends on os/arch specific combinations, and so a simple docker build doesn’t do it. You’ll need to set the build args for it to work e.g.
`docker build --build-arg OS=linux --build-arg ARCH=amd64 -t openfga/openfga:testing .`

I'm working on adding these changes to the Makefile 👍 "
521,codecov-commenter,2023-02-08 23:04:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.63**% // Head: **81.63**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`a5449bd`)](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`c293e86`)](https://codecov.io/gh/openfga/openfga/commit/c293e8697e86016cc95e2e1b2ae31ed6e136de8c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #521      +/-   ##
==========================================
- Coverage   81.63%   81.63%   -0.01%     
==========================================
  Files          87       87              
  Lines       14251    14257       +6     
==========================================
+ Hits        11634    11638       +4     
- Misses       2201     2203       +2     
  Partials      416      416              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.49% <100.00%> (+0.50%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.02% <0.00%> (-0.43%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/521?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
522,codecov-commenter,2023-02-08 23:05:33,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.83**% // Head: **81.92**% // Increases project coverage by **`+0.08%`** :tada:
> Coverage data is based on head [(`7e504f7`)](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`c408e93`)](https://codecov.io/gh/openfga/openfga/commit/c408e93adac2c598d64a48959cbf2580903945d4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #522      +/-   ##
==========================================
+ Coverage   81.83%   81.92%   +0.08%     
==========================================
  Files          87       87              
  Lines       14262    14315      +53     
==========================================
+ Hits        11672    11727      +55     
+ Misses       2181     2179       -2     
  Partials      409      409              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.09% <100.00%> (+1.13%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `88.52% <100.00%> (+1.26%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `58.70% <100.00%> (+0.46%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.44% <0.00%> (+0.42%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/522?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
522,miparnisari,2023-02-08 23:06:22,"Can you add new parent spans also to the un-optimized ListObjects so that we don't see dangling spans?  E.g. the ones here, they belong inside a `Check` span:
![image](https://user-images.githubusercontent.com/5374887/217671687-8180a175-ce20-47fa-847a-5cea68ced643.png)
"
514,alexandrebrg,2023-02-09 08:05:38,"My apologies for the late reply. @jon-whit

Thank you for letting my know about this change, very kind of you! I absolutely understand the concerns around OTel and its stability on some of its API. Indeed, Prometheus is very standard in cloud environments, that's why in the first implementation of exporter I've done, I've let the user choose between Prometheus and OTel. Moreover, with this move to prometheus, people using OTel in their system will still be able to work with Prometheus, as OTel Collectors can be used to scrap prometheus metrics.

I'm happy to see that I'll soon be able to add Grafana & some prometheus integration out-of-the-box in the [helm chart](https://github.com/AlexandreBrg/openfga-helm)! 😄 "
522,jon-whit,2023-02-09 17:14:37,"> Can you add new parent spans also to the un-optimized ListObjects so that we don't see dangling spans? E.g. the ones here, they belong inside a `Check` span

@miparnisari Can you do that in a separate PR? This PR is scoped to adding traces in the ConnectedObjects API, not in the ListObjects code paths.

I also recommend that we not add that span to ListObjects but instead that should be a top-level span inside of the Check handler (whichever one is used). That way whoever calls it will get that behavior."
520,jon-whit,2023-02-09 17:35:14,"> Tested and working as expected 👍🏽
> 
> Any chance we can default the OS to ""linux"" and ARCH to ""amd64""? I think we and folks are most likely to build for these for this combo, and we have the ability to override for those who need it

@rhamzeh yep, I committed your suggestions. That's a good idea, thanks!"
516,codecov-commenter,2023-02-09 19:21:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.84**% // Head: **81.86**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`3b8884b`)](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a1ee627`)](https://codecov.io/gh/openfga/openfga/commit/a1ee6272827cf9ea3721acbf499a917d068d6128?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #516      +/-   ##
==========================================
+ Coverage   81.84%   81.86%   +0.01%     
==========================================
  Files          87       87              
  Lines       14257    14262       +5     
==========================================
+ Hits        11669    11675       +6     
+ Misses       2179     2178       -1     
  Partials      409      409              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `85.96% <100.00%> (ø)` | |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `87.25% <100.00%> (ø)` | |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.92% <100.00%> (ø)` | |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.61% <100.00%> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.42% <0.00%> (+0.24%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/516?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
525,codecov-commenter,2023-02-09 22:18:26,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/525?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.82**% // Head: **81.82**% // No change to project coverage :thumbsup:
> Coverage data is based on head [(`8606565`)](https://codecov.io/gh/openfga/openfga/pull/525?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4e7cd24`)](https://codecov.io/gh/openfga/openfga/commit/4e7cd24350c8a63b2e9b6ed18b1459cc8a40481f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #525   +/-   ##
=======================================
  Coverage   81.82%   81.82%           
=======================================
  Files          87       87           
  Lines       14252    14252           
=======================================
  Hits        11662    11662           
  Misses       2181     2181           
  Partials      409      409           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/525?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/525?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.17% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/525?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
517,jon-whit,2023-02-10 15:35:06,Looks like we need to run `golangci-lint`
528,codecov-commenter,2023-02-10 22:12:23,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **82.04**% // Head: **82.00**% // Decreases project coverage by **`-0.04%`** :warning:
> Coverage data is based on head [(`389a398`)](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`b6e5d9d`)](https://codecov.io/gh/openfga/openfga/commit/b6e5d9def9cecc803dd8ec73c34ebbbd7fc477bc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #528      +/-   ##
==========================================
- Coverage   82.04%   82.00%   -0.04%     
==========================================
  Files          89       89              
  Lines       14438    14431       -7     
==========================================
- Hits        11845    11834      -11     
- Misses       2184     2187       +3     
- Partials      409      410       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `88.31% <100.00%> (-0.21%)` | :arrow_down: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `95.20% <0.00%> (-2.40%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.53% <0.00%> (-0.49%)` | :arrow_down: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `41.17% <0.00%> (+1.02%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/528?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
529,codecov-commenter,2023-02-11 21:10:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.92**% // Head: **81.89**% // Decreases project coverage by **`-0.04%`** :warning:
> Coverage data is based on head [(`1a0129e`)](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`be583c1`)](https://codecov.io/gh/openfga/openfga/commit/be583c14bffc26c223eb2fccc2c093959ed70d5c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #529      +/-   ##
==========================================
- Coverage   81.92%   81.89%   -0.04%     
==========================================
  Files          87       87              
  Lines       14385    14385              
==========================================
- Hits        11785    11780       -5     
- Misses       2188     2191       +3     
- Partials      412      414       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `95.20% <0.00%> (-2.40%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.46% <0.00%> (-0.25%)` | :arrow_down: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.44% <0.00%> (+0.42%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/529?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
530,codecov-commenter,2023-02-11 22:26:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/530?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Project coverage is 84.11%. Comparing base [(`f1388f2`)](https://app.codecov.io/gh/openfga/openfga/commit/f1388f298ae5b945d8db8f1242b13ed2b1601273?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) to head [(`8d858d4`)](https://app.codecov.io/gh/openfga/openfga/commit/8d858d43f1a879bcaf6665892460ad287b86ab1f?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Report is 928 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #530      +/-   ##
==========================================
+ Coverage   84.09%   84.11%   +0.02%     
==========================================
  Files          87       87              
  Lines       13437    13437              
==========================================
+ Hits        11299    11301       +2     
+ Misses       1759     1757       -2     
  Partials      379      379              
```

</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/530?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
531,jon-whit,2023-02-13 16:50:27,@adriantam why is the 1.1 model variation that you posted above invalid? That looks like a valid model.
531,adriantam,2023-02-13 16:56:06,"> @adriantam why is the 1.1 model variation that you posted above invalid? That looks like a valid model.

`u1` is not a valid relation for `parent2` and `u2` is not a valid relation for `parent1`"
531,jon-whit,2023-02-13 17:06:45,"> > @adriantam why is the 1.1 model variation that you posted above invalid? That looks like a valid model.
> 
> `u1` is not a valid relation for `parent2` and `u2` is not a valid relation for `parent1`

And why is that an issue? If *at least* one of the computed relations on a tupleset relationship is defined for the type definition, then it should be treated as a valid definition should it not? In this case, the second example you gave (the 1.1 model) that actually should be subject to the same bug you're reporting herein for 1.0 models. I'd argue that you gave two good examples for both 1.0 and 1.1 that we should make sure behave as expected.

I don't personally see anything wrong with that model.."
530,jon-whit,2023-02-13 17:27:24,Mind showing a before/after photo so it's more clear what this fixes for us? It's not obvious what this specifically fixes in the jaeger traces for us.
530,craigpastro,2023-02-13 17:41:55,"Good point!

Without clock skew adjustment:
![Screenshot 2023-02-13 at 09 32 57](https://user-images.githubusercontent.com/28915792/218531998-14d35277-b5f0-44d8-abd2-8e0d5138185e.jpg)

With clock skew adjustment:
![Screenshot 2023-02-13 at 09 33 50](https://user-images.githubusercontent.com/28915792/218531856-c58d4202-7065-4c29-9c03-9c0e667ecdab.jpg)

The client was run locally and OpenFGA in a container.
"
531,adriantam,2023-02-13 19:11:21,"> > > @adriantam why is the 1.1 model variation that you posted above invalid? That looks like a valid model.
> > 
> > 
> > `u1` is not a valid relation for `parent2` and `u2` is not a valid relation for `parent1`
> 
> And why is that an issue? If _at least_ one of the computed relations on a tupleset relationship is defined for the type definition, then it should be treated as a valid definition should it not? In this case, the second example you gave (the 1.1 model) that actually should be subject to the same bug you're reporting herein for 1.0 models. I'd argue that you gave two good examples for both 1.0 and 1.1 that we should make sure behave as expected.
> 
> I don't personally see anything wrong with that model..

As discussed offline, added https://github.com/openfga/syntax-transformer/issues/113 to update the behaviour on the transformer side."
537,codecov-commenter,2023-02-13 19:20:37,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.99**% // Head: **82.01**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`a0a2e0d`)](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`5c955be`)](https://codecov.io/gh/openfga/openfga/commit/5c955bee5ff38aca97df2a5c7b517c42892116c9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #537      +/-   ##
==========================================
+ Coverage   81.99%   82.01%   +0.01%     
==========================================
  Files          89       89              
  Lines       14436    14436              
==========================================
+ Hits        11837    11839       +2     
+ Misses       2188     2186       -2     
  Partials      411      411              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.78% <0.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.63% <0.00%> (+0.41%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/537?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
534,codecov-commenter,2023-02-13 19:27:05,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/534?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@5c955be`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #534   +/-   ##
=======================================
  Coverage        ?   81.99%           
=======================================
  Files           ?       89           
  Lines           ?    14436           
  Branches        ?        0           
=======================================
  Hits            ?    11837           
  Misses          ?     2188           
  Partials        ?      411           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/534?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
530,jon-whit,2023-02-13 21:07:00,"@craigpastro before we merge this, can we make sure and read https://github.com/jaegertracing/jaeger/issues/1459? It seems there are some debates out clock skew adjustment and that thread does a good job at outlining some of it's downsides. I'd like to make sure we read that, understand it, and are aware of the side-effects (positive and negative) of this. Otherwise the clock skew adjustment could be misleading in some cases.

I need some time to read that thread and understand it better before I feel comfortable merging. From the looks of it though, it seems to be beneficial like you said 👍 "
538,codecov-commenter,2023-02-13 23:20:15,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.99**% // Head: **81.95**% // Decreases project coverage by **`-0.05%`** :warning:
> Coverage data is based on head [(`b935a83`)](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`dcee1a7`)](https://codecov.io/gh/openfga/openfga/commit/dcee1a7fc7d6362b029f7df561364a870857109c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #538      +/-   ##
==========================================
- Coverage   81.99%   81.95%   -0.05%     
==========================================
  Files          89       89              
  Lines       14436    14437       +1     
==========================================
- Hits        11837    11832       -5     
- Misses       2188     2192       +4     
- Partials      411      413       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.29% <100.00%> (+0.07%)` | :arrow_up: |
| [internal/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9sb2dnaW5nLmdv) | `67.77% <0.00%> (-6.67%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.78% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/538?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
496,craigpastro,2023-02-13 23:54:41,I'll close this for now
508,Siddhant-K-code,2023-02-14 11:00:46,Thanks @jon-whit ✨ 
533,dependabot[bot],2023-02-14 15:36:11,"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
534,dependabot[bot],2023-02-14 19:33:41,"Looks like go.opentelemetry.io/otel/exporters/otlp/otlpmetric/otlpmetricgrpc is no longer a dependency, so this is no longer needed."
543,codecov-commenter,2023-02-14 22:04:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.99**% // Head: **81.94**% // Decreases project coverage by **`-0.06%`** :warning:
> Coverage data is based on head [(`5f22ce5`)](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`5c955be`)](https://codecov.io/gh/openfga/openfga/commit/5c955bee5ff38aca97df2a5c7b517c42892116c9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 44.44% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #543      +/-   ##
==========================================
- Coverage   81.99%   81.94%   -0.06%     
==========================================
  Files          89       88       -1     
  Lines       14436    14368      -68     
==========================================
- Hits        11837    11774      -63     
+ Misses       2188     2187       -1     
+ Partials      411      407       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `72.93% <ø> (+0.19%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <45.94%> (-0.59%)` | :arrow_down: |
| [pkg/server/test/check.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2NoZWNrLmdv) | `62.72% <50.00%> (+0.28%)` | :arrow_up: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.02% <100.00%> (+0.24%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `40.00% <100.00%> (-0.16%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `88.31% <100.00%> (-0.21%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.56% <100.00%> (+0.26%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.11% <100.00%> (+0.46%)` | :arrow_up: |
| [cmd/util/util.go](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `0.00% <0.00%> (-28.58%)` | :arrow_down: |
| ... and [5 more](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/543?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
546,codecov-commenter,2023-02-15 01:12:36,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.93**% // Head: **81.97**% // Increases project coverage by **`+0.04%`** :tada:
> Coverage data is based on head [(`51e0d5e`)](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`f6c8a33`)](https://codecov.io/gh/openfga/openfga/commit/f6c8a33f6b001e79cc742d30fd01c2d4bf0e5ba3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #546      +/-   ##
==========================================
+ Coverage   81.93%   81.97%   +0.04%     
==========================================
  Files          88       90       +2     
  Lines       14368    14438      +70     
==========================================
+ Hits        11772    11836      +64     
- Misses       2189     2198       +9     
+ Partials      407      404       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `100.00% <ø> (+9.09%)` | :arrow_up: |
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [tests/writemodel/writemodel.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvd3JpdGVtb2RlbC93cml0ZW1vZGVsLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.32% <0.00%> (-0.77%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `77.62% <0.00%> (-0.75%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.72% <0.00%> (-0.21%)` | :arrow_down: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/546?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
548,jon-whit,2023-02-15 16:35:15,"In the upcoming `v0.3.5` release of OpenFGA we'll be bundling the [grpc-health-probe](https://github.com/grpc-ecosystem/grpc-health-probe) in the OpenFGA container. The `grpc-health-probe` is the defacto standard tooling for gRPC based Health Checks, and it follows along with the official [gRPC Health Check Protocol](https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

An example of using the bundled `grpc-health-probe` can be found in the [docker-compose.yaml](https://github.com/openfga/openfga/blob/bf61b87d6e4ccda58e0ce9831d21db1aea8e55c5/docker-compose.yaml#L31-L58) file."
548,jon-whit,2023-02-15 16:36:12,Done after https://github.com/openfga/openfga/pull/543
545,codecov-commenter,2023-02-15 18:19:21,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.22**% // Head: **84.22**% // Decreases project coverage by **`-0.01%`** :warning:
> Coverage data is based on head [(`2c66feb`)](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`eef50a7`)](https://codecov.io/gh/openfga/openfga/commit/eef50a7caa1d742559cced74f8163ed99243f6e9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #545      +/-   ##
==========================================
- Coverage   84.22%   84.22%   -0.01%     
==========================================
  Files          86       86              
  Lines       13472    13526      +54     
==========================================
+ Hits        11347    11392      +45     
- Misses       1745     1752       +7     
- Partials      380      382       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.95% <100.00%> (-0.07%)` | :arrow_down: |
| [pkg/storage/context.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `62.50% <100.00%> (ø)` | |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.81% <100.00%> (+0.08%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.93% <100.00%> (+0.34%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.64% <100.00%> (+0.32%)` | :arrow_up: |
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `69.00% <100.00%> (-0.91%)` | :arrow_down: |
| [pkg/storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvdGVzdC90dXBsZXMuZ28=) | `92.68% <100.00%> (+0.04%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `93.60% <0.00%> (-2.41%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| ... and [3 more](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/545?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
549,codecov-commenter,2023-02-15 23:37:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.89**% // Head: **81.99**% // Increases project coverage by **`+0.10%`** :tada:
> Coverage data is based on head [(`106856c`)](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`3826a25`)](https://codecov.io/gh/openfga/openfga/commit/3826a25ceefca7f440200baad555fa94e5c85dce?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #549      +/-   ##
==========================================
+ Coverage   81.89%   81.99%   +0.10%     
==========================================
  Files          88       88              
  Lines       14368    14368              
==========================================
+ Hits        11766    11781      +15     
+ Misses       2193     2182      -11     
+ Partials      409      405       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.02% <0.00%> (+0.48%)` | :arrow_up: |
| [pkg/server/commands/check.go](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVjay5nbw==) | `41.02% <0.00%> (+1.02%)` | :arrow_up: |
| [pkg/server/commands/check\_utils.go](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jaGVja191dGlscy5nbw==) | `55.07% <0.00%> (+1.44%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `86.48% <0.00%> (+2.02%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `97.60% <0.00%> (+2.39%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/549?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
550,codecov-commenter,2023-02-16 00:33:27,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/550?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.92**% // Head: **81.94**% // Increases project coverage by **`+0.02%`** :tada:
> Coverage data is based on head [(`a17076c`)](https://codecov.io/gh/openfga/openfga/pull/550?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`2950cc6`)](https://codecov.io/gh/openfga/openfga/commit/2950cc66812e9238d0ad8947c3781588a9674ec7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #550      +/-   ##
==========================================
+ Coverage   81.92%   81.94%   +0.02%     
==========================================
  Files          88       88              
  Lines       14368    14368              
==========================================
+ Hits        11771    11774       +3     
+ Misses       2190     2188       -2     
+ Partials      407      406       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/550?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/550?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.51% <0.00%> (+0.72%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/550?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
406,wemod123,2023-02-16 06:58:27,"@jon-whit YES, we are building a front-end user list having relations with the object, for example a folder owner can view all users having access to specific document, then to update/remove use access to the document, so the **user list** is a MUST.

Read is good if the direct relationship is assigned, but for example below schema, it's quite a long chain to go through all relations

```
...
type document
  relations
    define owner: [user] or owner from parent
    define admin: [user] or owner
    define editor: [user] or admin or owner
    define member: [user] or editor or admin or owner
    define parent: [document, folder]
...
```
With above schema, If there is a `listUsers` method targeting to `document:documentId#member` to get all users at once would be nice, today we are actually run loop to `expand` the relations + memory cache as a temporary solution, and so far It's acceptable though we think it's expansive (latency + potential network errors)"
406,aaguiarz,2023-02-16 12:51:52,"@wemod123 

Are you trying to build a dialog similar to top section of the 'Share' dialog in Google Docs when you see the list of granted permissions?



"
551,codecov-commenter,2023-02-16 17:10:29,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.96**% // Head: **84.09**% // Increases project coverage by **`+2.13%`** :tada:
> Coverage data is based on head [(`b108a70`)](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a4e18bc`)](https://codecov.io/gh/openfga/openfga/commit/a4e18bced7d9c6507e817458957294518910f7eb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #551      +/-   ##
==========================================
+ Coverage   81.96%   84.09%   +2.13%     
==========================================
  Files          90       87       -3     
  Lines       14438    13437    -1001     
==========================================
- Hits        11834    11300     -534     
+ Misses       2200     1758     -442     
+ Partials      404      379      -25     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3NlcnZlci5nbw==) | `87.17% <ø> (+8.91%)` | :arrow_up: |
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `100.00% <100.00%> (ø)` | |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `46.87% <0.00%> (-28.13%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.59% <0.00%> (-1.04%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/551?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
551,adriantam,2023-02-16 20:42:42,"> LGTM. I think there is the `contextualtuples` package. Are those files still being used?

Yes.  See https://github.com/openfga/openfga/blob/6e0dd8b41806877bfbe0965e00e79a37b58decfa/pkg/server/commands/list_objects.go#L10"
554,codecov-commenter,2023-02-16 23:11:40,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/554?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.22**% // Head: **84.24**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`5c214b5`)](https://codecov.io/gh/openfga/openfga/pull/554?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a383e03`)](https://codecov.io/gh/openfga/openfga/commit/a383e03ad6aa85ff1d939e743ea5baa762e0f253?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #554      +/-   ##
==========================================
+ Coverage   84.22%   84.24%   +0.01%     
==========================================
  Files          86       86              
  Lines       13472    13472              
==========================================
+ Hits        11347    11349       +2     
+ Misses       1745     1743       -2     
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/554?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/554?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/554?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
406,wemod123,2023-02-17 00:35:18,"@aaguiarz I didn't use google docs before, but seems similar approach, just to list users who having access (relations in OpenFAG) to specific object, 

What is your suggestion to achieve this"
556,codecov-commenter,2023-02-17 03:20:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.95**% // Head: **84.91**% // Increases project coverage by **`+2.96%`** :tada:
> Coverage data is based on head [(`3807000`)](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6e0dd8b`)](https://codecov.io/gh/openfga/openfga/commit/6e0dd8b41806877bfbe0965e00e79a37b58decfa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #556      +/-   ##
==========================================
+ Coverage   81.95%   84.91%   +2.96%     
==========================================
  Files          90       84       -6     
  Lines       14438    13308    -1130     
==========================================
- Hits        11833    11301     -532     
+ Misses       2201     1628     -573     
+ Partials      404      379      -25     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3NlcnZlci5nbw==) | `87.17% <ø> (+8.91%)` | :arrow_up: |
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `100.00% <100.00%> (ø)` | |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `46.87% <0.00%> (-28.13%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.59% <0.00%> (-1.04%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.78% <0.00%> (ø)` | |
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | | |
| [cmd/root.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | | |
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/556?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
557,xXAvoraXx,2023-02-18 12:39:32,"You can see the ListObjects output of the above scenario in v0.3.4 version below.
![ListObjectsV034](https://user-images.githubusercontent.com/6988989/219866211-98a5e10d-d992-452c-b1c2-d31ae0e5d336.png)

You can see the ListObjects output of the above scenario in v0.3.6 version below.
![ListObjectsV036](https://user-images.githubusercontent.com/6988989/219866245-13fd018b-8e7b-43c9-8b0e-6f270a61cd27.png)


"
548,jon-whit,2023-02-21 16:32:06,The `grpc-health-probe` is now included in the `v0.3.6` release.
561,codecov-commenter,2023-02-21 16:37:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **81.95**% // Head: **84.09**% // Increases project coverage by **`+2.13%`** :tada:
> Coverage data is based on head [(`4899001`)](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`6e0dd8b`)](https://codecov.io/gh/openfga/openfga/commit/6e0dd8b41806877bfbe0965e00e79a37b58decfa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch coverage: 100.00% of modified lines in pull request are covered.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #561      +/-   ##
==========================================
+ Coverage   81.95%   84.09%   +2.13%     
==========================================
  Files          90       87       -3     
  Lines       14438    13437    -1001     
==========================================
- Hits        11833    11300     -533     
+ Misses       2201     1758     -443     
+ Partials      404      379      -25     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3NlcnZlci5nbw==) | `87.17% <ø> (+8.91%)` | :arrow_up: |
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `100.00% <100.00%> (ø)` | |
| [internal/contextualtuples/contextual\_tuples.go](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29udGV4dHVhbHR1cGxlcy9jb250ZXh0dWFsX3R1cGxlcy5nbw==) | `46.87% <0.00%> (-28.13%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.59% <0.00%> (-1.04%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.02% <0.00%> (+0.24%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/561?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
558,codecov-commenter,2023-02-21 17:18:44,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/558?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`2c758a7`)](https://codecov.io/gh/openfga/openfga/commit/2c758a71df79b79fe9558ee1e6ac730ad183742d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.36% compared to head [(`01c6c5e`)](https://codecov.io/gh/openfga/openfga/pull/558?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.36%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #558   +/-   ##
=======================================
  Coverage   84.36%   84.36%           
=======================================
  Files          87       87           
  Lines       13607    13607           
=======================================
  Hits        11480    11480           
  Misses       1747     1747           
  Partials      380      380           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/558?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
207,rhamzeh,2023-02-21 18:25:45,Re-opening this as the README over on https://hub.docker.com/r/openfga/openfga is still not updated
555,miparnisari,2023-02-21 19:32:51,"> I am a little bit undecided if this is good or bad. It moves the ""resolution"" of the model id to the middleware layer. Is this where it belongs?

This would mean that all APIs that need to resolve the auth model ID don't have to do that anymore, which sounds like less code overall 🤔 

"
555,miparnisari,2023-02-21 19:44:59,"I'm getting two headers in the response, three in the case where I passed a non-existent model ID

```shell
[21/02/23 11:44:07] ~/GitHub/openfga (model-id-interceptor) $ curl --verbose --request POST 'http://localhost:8080/stores/01GR7A9GJPEHPSR95JBE1BV56V/check' \
--header 'Content-Type: application/json' \
--data-raw '{
    ""tuple_key"": {
        ""user"": ""maria"",
        ""object"": ""doc:1"",
        ""relation"": ""writer""
    }
}'
Note: Unnecessary use of -X or --request, POST is already inferred.
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /stores/01GR7A9GJPEHPSR95JBE1BV56V/check HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.79.1
> Accept: */*
> Content-Type: application/json
> Content-Length: 109
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 400 Bad Request
< Authorization-Model-Id: 01GSTQ6AY6XT0Z38SB1N4R1R4K <-----------------------
< Content-Type: application/json
< Openfga-Authorization-Model-Id: 01GSTQ6AY6XT0Z38SB1N4R1R4K <-----------------------
< Vary: Origin
< X-Request-Id: db0ef803-a1b1-4ed7-8fbd-f089186b31fd
< Date: Tue, 21 Feb 2023 19:44:10 GMT
< Content-Length: 152
< 
{""code"":""validation_error"",""message"":""the 'user' field must be an object (e.g. document:1) or an 'object#relation' or a typed wildcard (e.g. group:*)""}
* Connection #0 to host localhost left intact
[21/02/23 11:44:10] ~/GitHub/openfga (model-id-interceptor) $ 

```


```shell
[21/02/23 11:44:10] ~/GitHub/openfga (model-id-interceptor) $ curl --verbose --request POST 'http://localhost:8080/stores/01GR7A9GJPEHPSR95JBE1BV56V/streamed-list-objects' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
    ""user"": ""user:112"",
    ""relation"": ""viewer"",
    ""type"": ""document"",
    ""authorization_model_id"": ""01GK2Z8MD8CF9F620PPR3KBAFV""
}'
Note: Unnecessary use of -X or --request, POST is already inferred.
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /stores/01GR7A9GJPEHPSR95JBE1BV56V/streamed-list-objects HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.79.1
> Accept: application/json
> Content-Type: application/json
> Content-Length: 136
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 400 Bad Request
< Content-Type: application/json
< Grpc-Metadata-Authorization-Model-Id: 01GK2Z8MD8CF9F620PPR3KBAFV   <-----------------------
< Grpc-Metadata-Authorization-Model-Id: 01GK2Z8MD8CF9F620PPR3KBAFV  <-----------------------
< Grpc-Metadata-Content-Type: application/grpc
< Grpc-Metadata-Openfga-Authorization-Model-Id: 01GK2Z8MD8CF9F620PPR3KBAFV   <-----------------------
< Grpc-Metadata-X-Request-Id: dc52d8ab-73a9-4503-9b32-51448f8b4331
< Vary: Origin
< Date: Tue, 21 Feb 2023 19:48:14 GMT
< Transfer-Encoding: chunked
< 
{""error"":{""code"":3,""message"":""Authorization Model '01GK2Z8MD8CF9F620PPR3KBAFV' not found"",""details"":[]}}
* Connection #0 to host localhost left intact
[21/02/23 11:48:14] ~/GitHub/openfga (model-id-interceptor) $ 

```"
567,codecov-commenter,2023-02-22 01:18:32,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/567?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.22**% // Head: **84.24**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`cee131f`)](https://codecov.io/gh/openfga/openfga/pull/567?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`a383e03`)](https://codecov.io/gh/openfga/openfga/commit/a383e03ad6aa85ff1d939e743ea5baa762e0f253?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #567      +/-   ##
==========================================
+ Coverage   84.22%   84.24%   +0.01%     
==========================================
  Files          86       86              
  Lines       13472    13472              
==========================================
+ Hits        11347    11349       +2     
+ Misses       1745     1743       -2     
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/567?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/567?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/567?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
569,codecov-commenter,2023-02-22 05:33:20,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`87.74`**% and project coverage change: **`+0.12`** :tada:
> Comparison is base [(`a809bbe`)](https://codecov.io/gh/openfga/openfga/commit/a809bbe0e79a01d4bc9d1ed3c52cf7323832b57e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.38% compared to head [(`c32f15b`)](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.50%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #569      +/-   ##
==========================================
+ Coverage   84.38%   84.50%   +0.12%     
==========================================
  Files          87       86       -1     
  Lines       13620    13573      -47     
==========================================
- Hits        11493    11470      -23     
+ Misses       1748     1730      -18     
+ Partials      379      373       -6     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/middleware/authn/authn.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9hdXRobi9hdXRobi5nbw==) | `100.00% <ø> (ø)` | |
| [pkg/middleware/logging/logging.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `81.25% <81.25%> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.03% <83.33%> (+0.23%)` | :arrow_up: |
| [pkg/middleware/storeid/storeid.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC9zdG9yZWlkLmdv) | `90.47% <90.47%> (ø)` | |
| [pkg/middleware/requestid/requestid.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvcmVxdWVzdGlkL3JlcXVlc3RpZC5nbw==) | `96.15% <96.15%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.86% <100.00%> (+0.64%)` | :arrow_up: |
| [internal/gateway/gateway.go](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ2F0ZXdheS9nYXRld2F5Lmdv) | `86.66% <0.00%> (-13.34%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/569?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
555,craigpastro,2023-02-22 17:18:31,The fact that this doesn't really work in the streaming endpoints means we don't have a consistent way to extract the model id from the context. If we really wanted the same to work for the streaming endpoints I think it would require a quite ugly refactor. Furthermore it doesn't seem worth it to do a database lookup to add the model id in a span one level up. For those reasons let's close this for now.
557,craigpastro,2023-02-22 20:00:11,"Helloooo 👋 We've released v0.3.7 which fixes this issue you reported. Please try it out and let us know how it goes. 

Thank you very much! "
557,xXAvoraXx,2023-02-22 21:37:31,"> Helloooo 👋 We've released v0.3.7 which fixes this issue you reported. Please try it out and let us know how it goes.
> 
> Thank you very much!

Thank you for solving the problem quickly. Now the endpoint is working as it should, moreover, I ran it without defining the 'OPENFGA_RESOLVE_NODE_LIMIT 120' value. In previous versions I had to increase the OPENFGA_RESOLVE_NODE_LIMIT value. The other improvement I have observed is that the response time of the listobjects endpoint is slightly faster, ListObjects now responds in about 12 seconds, Previously the response time of the ListObjects endpoint took a minimum of 25 seconds."
557,xXAvoraXx,2023-02-22 21:44:21,"The only problem I'm seeing right now is that when ListObjects runs it writes the entire list to the console screen. I'm not sure if this is an appropriate behavior for loglevel.info. @craigpastro 

https://openfga.dev/docs/getting-started/running-in-production

![loglevel](https://user-images.githubusercontent.com/6988989/220766213-0d80c2cf-3787-4591-9909-e4cb30648a97.png)
"
557,craigpastro,2023-02-22 21:50:42,"> ListObjects now responds in about 12 seconds, Previously the response time of the ListObjects endpoint took a minimum of 25 seconds.

That's ... better, but still pretty slow. About how many ids is it returning? I think you know, but unfortunately the optimizations we have added do not work when your model contains intersetions and exclusions. Fixing that is certainly on our roadmap.

> The only problem I'm seeing right now is that when ListObjects runs it writes the entire list to the console screen.

Hmm, yes, that is not good. Will discuss with the team and get back to you."
557,xXAvoraXx,2023-02-22 22:11:04,"> About how many ids is it returning?

If the user has the highest subscriber definition, 75 ids are now returning, but this number will increase as new permissions are added.

> I think you know, but unfortunately the optimizations we have added do not work when your model contains intersetions and exclusions.

Yes, this is the development I've been waiting for the most right now. There are too many nested rules in my schema that concern the listobjects endpoint. For example, in order for the Listobject endpoint to find the relationships with the permission_access objects of a user, it needs to compare with many relationships. In the relations that the ListObject endpoint compares within the Schema, it needs to compare other relations in order to provide the relations it compares. The situation is quite complicated :D

"
571,rhamzeh,2023-02-23 14:35:04,"Thanks for your report @wemod123 - the team will take a look at this shortly!

It would be really helpful if you can give us a small model, tuples and sample ListObjects request that showcases this issue, would you be able to do that?"
562,rhamzeh,2023-02-23 14:42:05,"Thanks for the request @ragaeeb.

That is something we are considering.

We've discussed this a bit in openfga/community#265, and we decided to offer it as part of the SDKs as a first step while we consider its viability to be supported at the API layer.

Our main thought process is documented here: https://github.com/openfga/community/issues/265

For now, closing this as a duplicate of the original to centralize the discussion, but please feel free to add your comments there!"
568,miparnisari,2023-02-23 18:29:33,"> So that projects that use OpenFGA as a library can use our middleware
> 

@craigpastro is this so that people can use `StoreIDFromContext` and `RequestIDFromContext`?"
571,adriantam,2023-02-23 18:53:01,"Thank you @wemod123 for reporting this. 

We are able to reproduce the issue with the following model
```

model
  schema 1.1
type user
type folder
  relations
    define owner: [user]
    define bad: [user,user:*] or owner
type document
  relations
    define can_read: bad from parent
    define parent: [document,folder]
    define viewer: [user,user:*]
```
    
and the list object request with 
```
    {
    ""type"": ""document"",
    ""relation"": ""can_read"",
    ""user"": ""user:anne"",
    ""contextual_tuples"": {
        ""tuple_keys"": [
            {
                ""object"": ""folder:a"",
                ""relation"": ""owner"",
                ""user"": ""user:anne""
            },
            {
                ""object"": ""document:c"",
                ""relation"": ""parent"",
                ""user"": ""folder:a""
            },
            {
                ""object"": ""document:d"",
                ""relation"": ""parent"",
                ""user"": ""document:c""
            }
        ]
    }
}
```"
571,adriantam,2023-02-23 19:02:40,"Similar issue but has different behaviour.  With the following model

```
model
  schema 1.1
type user
type folder
  relations
    define owner: [user]
    define viewer: [user,user:*] or owner
type document
  relations
    define can_read: viewer from parent
    define parent: [document,folder]
    define viewer: [user,user:*]
```

The following list object request will return `{document:c, document:d}`.  `document:d` should not returned as there is no relation `document:d#can_read@user:anne`.  

```
{
    ""type"": ""document"",
    ""relation"": ""can_read"",
    ""user"": ""user:anne"",
    ""contextual_tuples"": {
        ""tuple_keys"": [
            {
                ""object"": ""folder:a"",
                ""relation"": ""owner"",
                ""user"": ""user:anne""
            },
            {
                ""object"": ""document:c"",
                ""relation"": ""parent"",
                ""user"": ""folder:a""
            },
            {
                ""object"": ""document:d"",
                ""relation"": ""parent"",
                ""user"": ""document:c""
            }
        ]
    }
}
```"
571,wemod123,2023-02-24 00:24:26,"@adriantam I have a very similar model as you showed with parent relations + user#group etc. aiming to list objects with inherit relations including user groups, good to see you reproduce and address the issue quickly."
570,codecov-commenter,2023-02-24 16:37:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.27**% // Head: **84.28**% // Increases project coverage by **`+0.01%`** :tada:
> Coverage data is based on head [(`d9aeebf`)](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`19f6b76`)](https://codecov.io/gh/openfga/openfga/commit/19f6b7662d24912ae7bc42fb9aa561fdfa4bfbaa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #570      +/-   ##
==========================================
+ Coverage   84.27%   84.28%   +0.01%     
==========================================
  Files          86       86              
  Lines       13526    13526              
==========================================
+ Hits        11399    11401       +2     
+ Misses       1747     1745       -2     
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/570?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
574,codecov-commenter,2023-02-27 17:37:02,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/574?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.27**% // Head: **84.28**% // Increases project coverage by **`+0.00%`** :tada:
> Coverage data is based on head [(`78c16a4`)](https://codecov.io/gh/openfga/openfga/pull/574?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`4e8444b`)](https://codecov.io/gh/openfga/openfga/commit/4e8444b955f2010e2ffb78592ed3af3d6acda35a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #574   +/-   ##
=======================================
  Coverage   84.27%   84.28%           
=======================================
  Files          86       86           
  Lines       13526    13526           
=======================================
+ Hits        11399    11400    +1     
+ Misses       1747     1746    -1     
  Partials      380      380           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/574?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/574?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/574?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
572,codecov-commenter,2023-02-27 19:28:43,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`90.00`**% and project coverage change: **`+0.16`** :tada:
> Comparison is base [(`07d05ac`)](https://codecov.io/gh/openfga/openfga/commit/07d05ac2b43be138526f0288829d8340c2504130?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.27% compared to head [(`4da1a0f`)](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.44%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #572      +/-   ##
==========================================
+ Coverage   84.27%   84.44%   +0.16%     
==========================================
  Files          86       87       +1     
  Lines       13526    13607      +81     
==========================================
+ Hits        11399    11490      +91     
+ Misses       1747     1739       -8     
+ Partials      380      378       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/tests.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvdGVzdHMuZ28=) | `100.00% <ø> (ø)` | |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `86.61% <75.00%> (-0.49%)` | :arrow_down: |
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `88.60% <88.60%> (ø)` | |
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.99% <0.00%> (+0.83%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `89.87% <0.00%> (+1.55%)` | :arrow_up: |
| [pkg/storage/context.go](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `78.12% <0.00%> (+15.62%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/572?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
568,codecov-commenter,2023-02-27 22:41:25,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Base: **84.22**% // Head: **84.27**% // Increases project coverage by **`+0.05%`** :tada:
> Coverage data is based on head [(`03e04a3`)](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) compared to base [(`b1fe566`)](https://codecov.io/gh/openfga/openfga/commit/b1fe5668afaddb381ed6a7904f0b9a4265acfb8c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Patch has no changes to coverable lines.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #568      +/-   ##
==========================================
+ Coverage   84.22%   84.27%   +0.05%     
==========================================
  Files          86       86              
  Lines       13526    13526              
==========================================
+ Hits        11392    11399       +7     
+ Misses       1752     1747       -5     
+ Partials      382      380       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.22% <ø> (ø)` | |
| [pkg/middleware/authn.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvYXV0aG4uZ28=) | `100.00% <ø> (ø)` | |
| [pkg/middleware/http/handler.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvaHR0cC9oYW5kbGVyLmdv) | `50.00% <ø> (ø)` | |
| [pkg/middleware/logging.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy5nbw==) | `67.77% <ø> (ø)` | |
| [pkg/middleware/middleware.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbWlkZGxld2FyZS5nbw==) | `100.00% <ø> (ø)` | |
| [pkg/middleware/requestid.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvcmVxdWVzdGlkLmdv) | `73.33% <ø> (ø)` | |
| [pkg/middleware/storeid.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC5nbw==) | `100.00% <ø> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `58.80% <ø> (ø)` | |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (+0.22%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `86.48% <0.00%> (+2.02%)` | :arrow_up: |
| ... and [1 more](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/568?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
536,dependabot[bot],2023-02-28 01:26:04,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
577,codecov-commenter,2023-02-28 03:36:42,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`83.33`**% and project coverage change: **`-0.07`** :warning:
> Comparison is base [(`fcfad88`)](https://codecov.io/gh/openfga/openfga/commit/fcfad88703d51f3e573511f4b92ea6a31d61febb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42% compared to head [(`a7ef47e`)](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.35%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #577      +/-   ##
==========================================
- Coverage   84.42%   84.35%   -0.07%     
==========================================
  Files          87       87              
  Lines       13607    13636      +29     
==========================================
+ Hits        11488    11503      +15     
- Misses       1741     1752      +11     
- Partials      378      381       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `83.68% <80.64%> (-2.93%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `98.75% <90.90%> (-1.25%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `88.31% <0.00%> (-1.56%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (-0.23%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `93.86% <0.00%> (+0.04%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/577?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
575,dependabot[bot],2023-02-28 16:07:32,Superseded by #580.
558,dependabot[bot],2023-02-28 16:07:44,"A newer version of go.opentelemetry.io/otel/sdk exists, but since this PR has been edited by someone other than Dependabot I haven't updated it. You'll get a PR for the updated version as normal once this PR is merged."
560,dependabot[bot],2023-02-28 16:08:58,"A newer version of go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc exists, but since this PR has been edited by someone other than Dependabot I haven't updated it. You'll get a PR for the updated version as normal once this PR is merged."
559,codecov-commenter,2023-02-28 17:41:24,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`5472a1d`)](https://codecov.io/gh/openfga/openfga/commit/5472a1d62687a304482351b83bd762b11f5114b9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.43% compared to head [(`77271c0`)](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #559      +/-   ##
==========================================
- Coverage   84.43%   84.42%   -0.01%     
==========================================
  Files          87       87              
  Lines       13607    13607              
==========================================
- Hits        11489    11488       -1     
- Misses       1740     1741       +1     
  Partials      378      378              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.22% <0.00%> (-0.41%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/559?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
573,codecov-commenter,2023-02-28 20:49:13,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`5472a1d`)](https://codecov.io/gh/openfga/openfga/commit/5472a1d62687a304482351b83bd762b11f5114b9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.43% compared to head [(`5e7be0e`)](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.46%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #573      +/-   ##
==========================================
+ Coverage   84.43%   84.46%   +0.03%     
==========================================
  Files          87       87              
  Lines       13607    13647      +40     
==========================================
+ Hits        11489    11527      +38     
- Misses       1740     1742       +2     
  Partials      378      378              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `77.70% <100.00%> (+1.67%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.22% <0.00%> (-0.41%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/573?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
581,adriantam,2023-03-01 01:24:12,We probably also want to do this for ListObject tests too
582,codecov-commenter,2023-03-01 02:45:22,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`66.66`**% and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`a809bbe`)](https://codecov.io/gh/openfga/openfga/commit/a809bbe0e79a01d4bc9d1ed3c52cf7323832b57e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.38% compared to head [(`a9445e8`)](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.36%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #582      +/-   ##
==========================================
- Coverage   84.38%   84.36%   -0.03%     
==========================================
  Files          87       87              
  Lines       13620    13652      +32     
==========================================
+ Hits        11493    11517      +24     
- Misses       1748     1753       +5     
- Partials      379      382       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `83.78% <66.66%> (-4.83%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/582?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
514,emsearcy,2023-03-01 06:32:18,"Comment: OTEL metrics is now a stable API (even if the SDK is still being finalized). Tracing was in a similar situation last year (I was using it for some of our middleware that integrates with Auth0), and both the API and SDK are now stable. Tracing through OpenTelemetry Collector is a good way to get traces to something like Datadog, while also being able to route them to Jaeger for local development.

I know it's out of scope for this ticket, but having per-trace observability for OpenFGA (how long is being spent making Postgres queries, etc) would be good. Might be worth bringing back in OTEL, and then supporting OTLP metrics and traces to OTEL Collector sidecar (which supports Prometheus) might be *less* overhead.

https://opentelemetry.io/docs/reference/specification/status/"
584,adriantam,2023-03-01 15:06:47,"For now, I did not convert the higher level TestCheckMemory/TestCheckPostgres/TestCheckMySQL as parallel because they require combining these tests as a single test.  There are occasions where it is useful to run the check tests against a specific database type."
584,codecov-commenter,2023-03-01 19:40:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`09da083`)](https://codecov.io/gh/openfga/openfga/commit/09da0833bf1709d40323b80f1d00decaf9c17dce?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.57% compared to head [(`7a14e2c`)](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.54%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #584      +/-   ##
==========================================
- Coverage   84.57%   84.54%   -0.03%     
==========================================
  Files          86       86              
  Lines       13754    13761       +7     
==========================================
+ Hits        11632    11634       +2     
- Misses       1743     1747       +4     
- Partials      379      380       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `87.28% <100.00%> (+0.21%)` | :arrow_up: |
| [tests/writemodel/writemodel.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvd3JpdGVtb2RlbC93cml0ZW1vZGVsLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `93.60% <0.00%> (-2.41%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.63% <0.00%> (+0.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/584?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
592,codecov-commenter,2023-03-01 19:53:08,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/592?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`7f5627f`)](https://codecov.io/gh/openfga/openfga/commit/7f5627fae4bd462121dce87f589490f4c8dc0847?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.37% compared to head [(`33254fa`)](https://codecov.io/gh/openfga/openfga/pull/592?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.38%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #592      +/-   ##
==========================================
+ Coverage   84.37%   84.38%   +0.01%     
==========================================
  Files          87       87              
  Lines       13611    13611              
==========================================
+ Hits        11484    11486       +2     
+ Misses       1747     1745       -2     
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/592?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/592?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.63% <0.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/592?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
593,codecov-commenter,2023-03-01 19:53:16,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/593?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`64646e3`)](https://codecov.io/gh/openfga/openfga/commit/64646e3632efd5a0238d80b85b8c5ee2c79bb228?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42% compared to head [(`f5d95b1`)](https://codecov.io/gh/openfga/openfga/pull/593?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #593   +/-   ##
=======================================
  Coverage   84.42%   84.42%           
=======================================
  Files          87       87           
  Lines       13611    13611           
=======================================
  Hits        11491    11491           
  Misses       1742     1742           
  Partials      378      378           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/593?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/593?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
590,codecov-commenter,2023-03-01 19:53:57,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/590?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`64646e3`)](https://codecov.io/gh/openfga/openfga/commit/64646e3632efd5a0238d80b85b8c5ee2c79bb228?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42% compared to head [(`c0f22e6`)](https://codecov.io/gh/openfga/openfga/pull/590?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.43%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #590   +/-   ##
=======================================
  Coverage   84.42%   84.43%           
=======================================
  Files          87       87           
  Lines       13611    13611           
=======================================
+ Hits        11491    11492    +1     
+ Misses       1742     1741    -1     
  Partials      378      378           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/590?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/590?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/590?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
594,codecov-commenter,2023-03-01 20:48:28,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`7f5627f`)](https://codecov.io/gh/openfga/openfga/commit/7f5627fae4bd462121dce87f589490f4c8dc0847?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.37% compared to head [(`f5c4d65`)](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.42%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #594      +/-   ##
==========================================
+ Coverage   84.37%   84.42%   +0.05%     
==========================================
  Files          87       87              
  Lines       13611    13611              
==========================================
+ Hits        11484    11491       +7     
+ Misses       1747     1742       -5     
+ Partials      380      378       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (+0.22%)` | :arrow_up: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `86.48% <0.00%> (+2.02%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `96.00% <0.00%> (+2.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/594?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
584,jon-whit,2023-03-01 22:40:17,"> For now, I did not convert the higher level TestCheckMemory/TestCheckPostgres/TestCheckMySQL as parallel because they require combining these tests as a single test. There are occasions where it is useful to run the check tests against a specific database type.

I'm not sure I understand what you mean, could you elaborate? Why would have they have to be combined as a single test?"
596,codecov-commenter,2023-03-01 23:54:03,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`91.78`**% and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`c9d53e9`)](https://codecov.io/gh/openfga/openfga/commit/c9d53e9b49ef69d6a7fa373aadbe934db264038f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.45% compared to head [(`0af5755`)](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.53%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #596      +/-   ##
==========================================
+ Coverage   84.45%   84.53%   +0.07%     
==========================================
  Files          86       86              
  Lines       13573    13717     +144     
==========================================
+ Hits        11463    11595     +132     
- Misses       1735     1743       +8     
- Partials      375      379       +4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvdGVzdC90dXBsZXMuZ28=) | `92.45% <91.66%> (-0.24%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.93% <100.00%> (ø)` | |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.64% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/596?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
584,adriantam,2023-03-02 00:13:53,"> > For now, I did not convert the higher level TestCheckMemory/TestCheckPostgres/TestCheckMySQL as parallel because they require combining these tests as a single test. There are occasions where it is useful to run the check tests against a specific database type.
> 
> I'm not sure I understand what you mean, could you elaborate? Why would have they have to be combined as a single test?

I am saying we shouldn't combine into one as noted in the original issue."
569,jon-whit,2023-03-02 07:57:47,"Here's a little video demonstrating this work. You can see that both unary and server-streaming endpoints inject the `store_id` and `authorization_model_id` fields into the logged fields. e.g. `WriteAuthorizationModel, `Check, `ListObjects`, and `StreamedListObjects` in this demo show the behavior. `CreateStore` doesn't return any of these fields because these fields don't exist as part of that API definition, and the `authorization_model_id` field isn't logged in the `WriteAuthorizationModel` RPC because it creates the model and does not have a request field for that metadata.

https://user-images.githubusercontent.com/2899204/222365935-842b166f-3ac5-41d4-9ce6-2683089bd50d.mov

"
588,codecov-commenter,2023-03-02 18:43:56,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`87.93`**% and project coverage change: **`+0.27`** :tada:
> Comparison is base [(`c9d53e9`)](https://codecov.io/gh/openfga/openfga/commit/c9d53e9b49ef69d6a7fa373aadbe934db264038f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.45% compared to head [(`ee0dc08`)](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.73%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #588      +/-   ##
==========================================
+ Coverage   84.45%   84.73%   +0.27%     
==========================================
  Files          86       86              
  Lines       13573    13694     +121     
==========================================
+ Hits        11463    11603     +140     
+ Misses       1735     1713      -22     
- Partials      375      378       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `87.06% <74.46%> (-1.54%)` | :arrow_down: |
| [pkg/storage/test/tuples.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvdGVzdC90dXBsZXMuZ28=) | `92.45% <91.66%> (-0.24%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `89.23% <100.00%> (+0.91%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.03% <100.00%> (ø)` | |
| [pkg/server/test/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `99.78% <100.00%> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.93% <100.00%> (ø)` | |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.64% <100.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.46% <0.00%> (-0.41%)` | :arrow_down: |
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `98.00% <0.00%> (+29.00%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/588?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
573,miparnisari,2023-03-03 01:36:04,Made as part of https://github.com/openfga/openfga/pull/599
599,codecov-commenter,2023-03-03 02:10:30,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.60`** :warning:
> Comparison is base [(`4ee63f0`)](https://codecov.io/gh/openfga/openfga/commit/4ee63f02821600fa23137b42204198fbfcb1242f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.72% compared to head [(`99bc1ef`)](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.12%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #599      +/-   ##
==========================================
- Coverage   84.72%   84.12%   -0.60%     
==========================================
  Files          86       86              
  Lines       13778    13539     -239     
==========================================
- Hits        11673    11390     -283     
- Misses       1731     1766      +35     
- Partials      374      383       +9     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `57.62% <100.00%> (-18.41%)` | :arrow_down: |
| [pkg/server/test/server.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3NlcnZlci5nbw==) | `87.17% <100.00%> (ø)` | |
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `56.16% <0.00%> (-8.22%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.28% <0.00%> (-7.52%)` | :arrow_down: |
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `66.00% <0.00%> (-3.00%)` | :arrow_down: |
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `93.60% <0.00%> (-2.41%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.04% <0.00%> (-1.83%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.19% <0.00%> (-0.46%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.49% <0.00%> (-0.44%)` | :arrow_down: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/599?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
604,codecov-commenter,2023-03-03 21:48:47,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/604?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`09da083`)](https://codecov.io/gh/openfga/openfga/commit/09da0833bf1709d40323b80f1d00decaf9c17dce?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.57% compared to head [(`f0dca6b`)](https://codecov.io/gh/openfga/openfga/pull/604?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.54%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #604      +/-   ##
==========================================
- Coverage   84.57%   84.54%   -0.03%     
==========================================
  Files          86       86              
  Lines       13754    13758       +4     
==========================================
  Hits        11632    11632              
- Misses       1743     1747       +4     
  Partials      379      379              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/604?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
605,codecov-commenter,2023-03-04 01:38:39,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06`** :warning:
> Comparison is base [(`58591cd`)](https://codecov.io/gh/openfga/openfga/commit/58591cd8dc6de6de599397216163485f159fae6e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.53% compared to head [(`e9339c1`)](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.48%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #605      +/-   ##
==========================================
- Coverage   84.53%   84.48%   -0.06%     
==========================================
  Files          86       86              
  Lines       13758    13758              
==========================================
- Hits        11631    11624       -7     
- Misses       1748     1753       +5     
- Partials      379      381       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/iterators.go](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `93.60% <0.00%> (-2.41%)` | :arrow_down: |
| [pkg/storage/common/common.go](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29tbW9uL2NvbW1vbi5nbw==) | `84.45% <0.00%> (-2.03%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `89.95% <0.00%> (-0.23%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/605?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
602,miparnisari,2023-03-06 00:50:39,I suspect this bit: https://github.com/openfga/openfga/blob/ebf3a0f8597e3bbb13de072e6e78652a4f28b952/internal/graph/graph.go#L185-L233
601,codecov-commenter,2023-03-06 22:46:31,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.14`** :tada:
> Comparison is base [(`58591cd`)](https://codecov.io/gh/openfga/openfga/commit/58591cd8dc6de6de599397216163485f159fae6e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.53% compared to head [(`4a7ae83`)](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.68%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #601      +/-   ##
==========================================
+ Coverage   84.53%   84.68%   +0.14%     
==========================================
  Files          86       86              
  Lines       13758    13767       +9     
==========================================
+ Hits        11631    11659      +28     
+ Misses       1748     1733      -15     
+ Partials      379      375       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `90.40% <100.00%> (+3.33%)` | :arrow_up: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.32% <0.00%> (+0.28%)` | :arrow_up: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.25% <0.00%> (+0.39%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.86% <0.00%> (+0.40%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `87.79% <0.00%> (+5.16%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/601?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
608,codecov-commenter,2023-03-07 15:34:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.14`** :tada:
> Comparison is base [(`58591cd`)](https://codecov.io/gh/openfga/openfga/commit/58591cd8dc6de6de599397216163485f159fae6e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.53% compared to head [(`525e8ed`)](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.68%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #608      +/-   ##
==========================================
+ Coverage   84.53%   84.68%   +0.14%     
==========================================
  Files          86       86              
  Lines       13758    13768      +10     
==========================================
+ Hits        11631    11659      +28     
+ Misses       1748     1734      -14     
+ Partials      379      375       -4     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/middleware/logging/logging.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `81.53% <100.00%> (+0.28%)` | :arrow_up: |
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `90.40% <100.00%> (+3.33%)` | :arrow_up: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.41% <0.00%> (+0.22%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.32% <0.00%> (+0.28%)` | :arrow_up: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.25% <0.00%> (+0.39%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `87.79% <0.00%> (+5.16%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/608?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
613,adriantam,2023-03-07 22:51:55,Do not merge until March 15
613,codecov-commenter,2023-03-07 22:57:41,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`93.22`**% and project coverage change: **`+0.30`** :tada:
> Comparison is base [(`c857cbd`)](https://codecov.io/gh/openfga/openfga/commit/c857cbd32f619bb9ea929605a4a72edddb41d22b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.19% compared to head [(`e3f31ab`)](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.50%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #613      +/-   ##
==========================================
+ Coverage   84.19%   84.50%   +0.30%     
==========================================
  Files          87       88       +1     
  Lines       13666    13777     +111     
==========================================
+ Hits        11506    11642     +136     
+ Misses       1779     1752      -27     
- Partials      381      383       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `97.65% <95.16%> (+0.74%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `61.77% <100.00%> (+0.31%)` | :arrow_up: |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.98% <100.00%> (+0.20%)` | :arrow_up: |
| [pkg/server/commands/utils.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy91dGlscy5nbw==) | `100.00% <100.00%> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `84.37% <100.00%> (+0.67%)` | :arrow_up: |
| [pkg/server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `74.19% <100.00%> (+3.82%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `91.17% <100.00%> (+1.17%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.44% <100.00%> (+10.12%)` | :arrow_up: |
| [pkg/server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2V4cGFuZC5nbw==) | `99.86% <100.00%> (+<0.01%)` | :arrow_up: |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/613?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
611,adriantam,2023-03-07 23:19:18,Can you take a look at https://github.com/openfga/openfga/actions/runs/4358230410/jobs/7618535157#step:5:43?  
614,codecov-commenter,2023-03-07 23:39:41,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.05`** :warning:
> Comparison is base [(`4ee63f0`)](https://codecov.io/gh/openfga/openfga/commit/4ee63f02821600fa23137b42204198fbfcb1242f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.72% compared to head [(`e1a37d4`)](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.67%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #614      +/-   ##
==========================================
- Coverage   84.72%   84.67%   -0.05%     
==========================================
  Files          86       86              
  Lines       13778    13782       +4     
==========================================
- Hits        11673    11670       -3     
- Misses       1731     1737       +6     
- Partials      374      375       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `75.46% <0.00%> (-0.57%)` | :arrow_down: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.18% <0.00%> (-0.69%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/614?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
611,codecov-commenter,2023-03-07 23:56:35,"# [Codecov](https://codecov.io/gh/openfga/openfga/pull/611?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`86.95`**% and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`9e64689`)](https://codecov.io/gh/openfga/openfga/commit/9e646892429a854e6318be724810297f35787080?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.12% compared to head [(`5f64bda`)](https://codecov.io/gh/openfga/openfga/pull/611?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.11%.

:mega: This organization is not using Codecov’s [GitHub App Integration](https://github.com/apps/codecov). We recommend you install it so Codecov can continue to function properly for your repositories. [Learn more](https://about.codecov.io/blog/codecov-is-updating-its-github-integration/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #611      +/-   ##
==========================================
- Coverage   84.12%   84.11%   -0.01%     
==========================================
  Files          86       86              
  Lines       13539    13551      +12     
==========================================
+ Hits        11390    11399       +9     
- Misses       1766     1768       +2     
- Partials      383      384       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/611?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/611?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `85.40% <86.95%> (-1.00%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report at Codecov](https://codecov.io/gh/openfga/openfga/pull/611?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
614,miparnisari,2023-03-08 00:05:11,how did this break? this is passing on the latest `main`: https://github.com/openfga/openfga/actions/runs/4359615923/jobs/7621593177
614,adriantam,2023-03-08 00:19:49,"> how did this break? this is passing on the latest `main`: https://github.com/openfga/openfga/actions/runs/4359615923/jobs/7621593177

Main also broke - https://github.com/openfga/openfga/actions/runs/4359615923/jobs/7621593177#step:5:42
Unfortunately it does not mark as fail on CICD"
614,miparnisari,2023-03-08 00:27:26,"> Main also broke - https://github.com/openfga/openfga/actions/runs/4359615923/jobs/7621593177#step:5:42
Unfortunately it does not mark as fail on CICD

🤦‍♀️  @adriantam can you mark it as fail please? "
614,jon-whit,2023-03-08 16:17:22,"> 🤦‍♀️ @adriantam can you mark it as fail please?

@adriantam @miparnisari please don't mark the bench workflow as required, because it takes 10+ minutes. This will kill our PR CI/CD responsiveness. That workflow was meant to be a reviewable artifact but not a blocker for PR merges."
614,miparnisari,2023-03-08 17:20:59,"> > 🤦‍♀️ @adriantam can you mark it as fail please?
> 
> @adriantam @miparnisari please don't mark the bench workflow as required, because it takes 10+ minutes. This will kill our PR CI/CD responsiveness. 

I don't understand what the 10 minutes have to do with it. The step will run no matter what, i'm saying we should fail the workflow if the return code is non-zero. Otherwise how are we going to detect problems?

"
614,jon-whit,2023-03-08 17:59:20,"> I don't understand what the 10 minutes have to do with it. The step will run no matter what, i'm saying we should fail the workflow if the return code is non-zero. Otherwise how are we going to detect problems?

So long as we don't have to wait 10 minutes every PR build to finish waiting on the benchmark stage I'm cool with it. If we can fail the benchmark workflow but not require it to pass, then that's fine. But let's not make it a required build stage to pass."
616,jon-whit,2023-03-08 19:13:40,"I'm not opposed to refactoring this in favor of explicit parameters in various places, but I just ask that care is taken to not adjust the function signature of the `ResolveCheck`. We can adjust elsewhere, but leave `ResolveCheck` function signature unmodified please.

https://github.com/openfga/openfga/blob/main/internal/graph/check.go#L322

This implementation specifically makes use of the context scoped TypeSystem on purpose because this implementation is  based upon an RPC interface for remote dispatching (this would get implemented as a gRPC stub in the near future). `ResolveCheck` gets executed recursively, and so it is purposeful to not read the model and construct the typesystem each invocation. The assumption of the `ResolveCheck` function was that the higher order function `server.Check` resolves the model and constructs the typesystem from it, and the `ResolveCheck` would be implemented as an RPC interface on each replica of OpenFGA and they'd delegate to one other. Consequently, you wouldn't be passing the `TypeSystem` around between function invocation within `ResolveCheck`. This orchestration is very purposeful.

My recommendation , and maybe a good alternative here, would be to memoize the typesystem construction in `ResolveCheck` and so if the request gets dispatched (locally or remotely) we don't reconstruct the typesystem and we just return the reference to it that was constructed from a prior invocation. This would allow us to leave the func signature for `ResolveCheck` unmodified but also eliminate the need for the typesystem being provided in the context. My hope was that the `ResolveCheck` wouldn't need to be bothered with custom logic for resolving the authorization model (that is the higher-order functions responsibility), and this is why it is designed the way it is, but a memoized closure is a reasonable compromise. "
616,miparnisari,2023-03-08 20:37:13,">  this implementation is based upon an RPC interface for remote dispatching (this would get implemented as a gRPC stub in the near future).

This isn't on the roadmap yet, i would not change the code to ""prepare"" for this. When/if the time comes, we can change it to satisfy that requirement"
616,jon-whit,2023-03-08 23:00:00,"> This isn't on the roadmap yet, i would not change the code to ""prepare"" for this. When/if the time comes, we can change it to satisfy that requirement

@miparnisari I don't see an issue writing code that has intent for future uses, especially if you can resolve the issue you care about at this moment of time without compromising on it. Bypassing compositional considerations just because it's not on the immediate roadmap is not very forward thinking. 

Anyhow.. I've submitted a draft PR (still in progress) that achieve the best of both worlds. Take a look at #618 . This is an example of what I was saying above."
620,codecov[bot],2023-03-09 16:17:14,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/620?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@ec5bac3`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #620   +/-   ##
=======================================
  Coverage        ?   84.22%           
=======================================
  Files           ?       86           
  Lines           ?    13576           
  Branches        ?        0           
=======================================
  Hits            ?    11435           
  Misses          ?     1761           
  Partials        ?      380           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `90.88% <100.00%> (ø)` | |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `61.14% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/620?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
617,codecov[bot],2023-03-09 18:22:06,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/617?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@5185d4e`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #617   +/-   ##
=======================================
  Coverage        ?   84.28%           
=======================================
  Files           ?       86           
  Lines           ?    13576           
  Branches        ?        0           
=======================================
  Hits            ?    11442           
  Misses          ?     1756           
  Partials        ?      378           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/617?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
622,codecov[bot],2023-03-09 21:24:13,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`85.02`**% and project coverage change: **`+0.21`** :tada:
> Comparison is base [(`9e64689`)](https://codecov.io/gh/openfga/openfga/commit/9e646892429a854e6318be724810297f35787080?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.12% compared to head [(`add5eff`)](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.34%.

> :exclamation: Current head add5eff differs from pull request most recent head 7b98004. Consider uploading reports for the commit 7b98004 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #622      +/-   ##
==========================================
+ Coverage   84.12%   84.34%   +0.21%     
==========================================
  Files          86       87       +1     
  Lines       13539    13575      +36     
==========================================
+ Hits        11390    11450      +60     
+ Misses       1766     1750      -16     
+ Partials      383      375       -8     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.33% <ø> (+0.27%)` | :arrow_up: |
| [pkg/server/test/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2xpc3Rfb2JqZWN0cy5nbw==) | `56.85% <28.57%> (-0.78%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `59.82% <68.42%> (+0.50%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.95% <71.42%> (+0.67%)` | :arrow_up: |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `85.40% <86.95%> (-1.00%)` | :arrow_down: |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `82.24% <100.00%> (+1.46%)` | :arrow_up: |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `85.88% <100.00%> (+2.18%)` | :arrow_up: |
| [pkg/server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `85.00% <100.00%> (+14.62%)` | :arrow_up: |
| [pkg/server/test/expand.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L2V4cGFuZC5nbw==) | `99.86% <100.00%> (ø)` | |
| [pkg/server/test/write.go](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3dyaXRlLmdv) | `88.46% <100.00%> (ø)` | |
| ... and [2 more](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/622/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/622?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
622,miparnisari,2023-03-10 01:43:51,"This PR is too big, and it's doing two things: introducing the `typeResolver` object, and introducing the new metric. Can we split into two?"
622,jon-whit,2023-03-10 16:39:43,"> This PR is too big, and it's doing two things: introducing the `typeResolver` object, and introducing the new metric. Can we split into two?

I'd be happy to split this into two, but I'd like to understand why? The code herein introduces the metric in a way that makes shared re-use of logic that will increment it. The changes are all reasonably applicable to the objective at hand.

If I were to split it, it would likely be split with 1 PR introducing the Typesystem changes and another PR introducing the metric in the `TypesystemResolverFunc` (which would be like a 1 line change). So the majority of the changes to wire up the metric are because we want to make use of shared logic so that the metric is incremented uniformly."
624,codecov[bot],2023-03-10 18:22:25,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`93.33`**% and project coverage change: **`+0.06`** :tada:
> Comparison is base [(`42ecb9c`)](https://codecov.io/gh/openfga/openfga/commit/42ecb9c47b605e2c675f046cd65b6c31ec15727d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.32% compared to head [(`aff95fd`)](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #624      +/-   ##
==========================================
+ Coverage   84.32%   84.38%   +0.06%     
==========================================
  Files          86       86              
  Lines       13647    13644       -3     
==========================================
+ Hits        11508    11514       +6     
+ Misses       1759     1752       -7     
+ Partials      380      378       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.28% <92.85%> (+0.21%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (ø)` | |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/624/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/624?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
622,miparnisari,2023-03-10 19:08:23,">  another PR introducing the metric in the TypesystemResolverFunc (which would be like a 1 line change).

you can make this change right now in the existing model cache and it would likely get approved immediately. With this PR, you are asking us to approve a big change before we can get that metric in"
625,codecov[bot],2023-03-10 20:10:56,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`51.28`**% and project coverage change: **`-0.11`** :warning:
> Comparison is base [(`42ecb9c`)](https://codecov.io/gh/openfga/openfga/commit/42ecb9c47b605e2c675f046cd65b6c31ec15727d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.32% compared to head [(`0511d4a`)](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.21%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #625      +/-   ##
==========================================
- Coverage   84.32%   84.21%   -0.11%     
==========================================
  Files          86       87       +1     
  Lines       13647    13668      +21     
==========================================
+ Hits        11508    11511       +3     
- Misses       1759     1777      +18     
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/openfga/main.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL29wZW5mZ2EvbWFpbi5nbw==) | `0.00% <0.00%> (ø)` | |
| [cmd/version.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZlcnNpb24uZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.33% <75.00%> (-0.33%)` | :arrow_down: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `82.85% <75.00%> (-0.32%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.28% <92.85%> (+0.21%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/625/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/625?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
626,codecov[bot],2023-03-10 23:49:53,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.13`** :tada:
> Comparison is base [(`7080a65`)](https://codecov.io/gh/openfga/openfga/commit/7080a65ca00aebdf3dc17b1ef2b23aeabc78325e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.22% compared to head [(`7a5ff3d`)](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.36%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #626      +/-   ##
==========================================
+ Coverage   84.22%   84.36%   +0.13%     
==========================================
  Files          86       86              
  Lines       13576    13647      +71     
==========================================
+ Hits        11435    11513      +78     
+ Misses       1761     1756       -5     
+ Partials      380      378       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [tests/check/check.go](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvY2hlY2svY2hlY2suZ28=) | `100.00% <100.00%> (ø)` | |
| [tests/listobjects/listobjects.go](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvbGlzdG9iamVjdHMvbGlzdG9iamVjdHMuZ28=) | `91.60% <100.00%> (+0.98%)` | :arrow_up: |
| [tests/writemodel/writemodel.go](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-dGVzdHMvd3JpdGVtb2RlbC93cml0ZW1vZGVsLmdv) | `100.00% <100.00%> (ø)` | |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/626/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/626?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
627,codecov[bot],2023-03-11 00:34:06,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`94.39`**% and project coverage change: **`+0.41`** :tada:
> Comparison is base [(`c857cbd`)](https://codecov.io/gh/openfga/openfga/commit/c857cbd32f619bb9ea929605a4a72edddb41d22b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.19% compared to head [(`ca4180b`)](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.60%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #627      +/-   ##
==========================================
+ Coverage   84.19%   84.60%   +0.41%     
==========================================
  Files          87       88       +1     
  Lines       13666    13793     +127     
==========================================
+ Hits        11506    11670     +164     
+ Misses       1779     1743      -36     
+ Partials      381      380       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/test/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3dyaXRlX2Fzc2VydGlvbnMuZ28=) | `97.65% <95.16%> (+0.74%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.17% <100.00%> (+0.71%)` | :arrow_up: |
| [internal/graph/check.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.52% <100.00%> (+1.25%)` | :arrow_up: |
| [pkg/server/commands/expand.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.98% <100.00%> (+0.20%)` | :arrow_up: |
| [pkg/server/commands/utils.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy91dGlscy5nbw==) | `100.00% <100.00%> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `84.37% <100.00%> (+0.67%)` | :arrow_up: |
| [pkg/server/commands/write\_assertions.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `74.19% <100.00%> (+3.82%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `91.17% <100.00%> (+1.17%)` | :arrow_up: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.44% <100.00%> (+10.12%)` | :arrow_up: |
| ... and [3 more](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/627/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/627?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
628,codecov[bot],2023-03-11 17:58:54,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/628?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.22`** :warning:
> Comparison is base [(`ff1d199`)](https://codecov.io/gh/openfga/openfga/commit/ff1d1995287ffd30e6c12a228709750b401c7bb0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.55% compared to head [(`0f65c99`)](https://codecov.io/gh/openfga/openfga/pull/628?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.34%.

> :exclamation: Current head 0f65c99 differs from pull request most recent head ecd18a1. Consider uploading reports for the commit ecd18a1 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #628      +/-   ##
==========================================
- Coverage   84.55%   84.34%   -0.22%     
==========================================
  Files          88       86       -2     
  Lines       13793    13647     -146     
==========================================
- Hits        11663    11510     -153     
- Misses       1748     1758      +10     
+ Partials      382      379       -3     
```


[see 22 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/628/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/628?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
629,codecov[bot],2023-03-13 18:36:06,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`86.95`**% and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`42ecb9c`)](https://codecov.io/gh/openfga/openfga/commit/42ecb9c47b605e2c675f046cd65b6c31ec15727d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.32% compared to head [(`a103209`)](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.36%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #629      +/-   ##
==========================================
+ Coverage   84.32%   84.36%   +0.03%     
==========================================
  Files          86       86              
  Lines       13647    13652       +5     
==========================================
+ Hits        11508    11517       +9     
+ Misses       1759     1756       -3     
+ Partials      380      379       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `83.33% <75.00%> (-0.33%)` | :arrow_down: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `82.85% <75.00%> (-0.32%)` | :arrow_down: |
| [pkg/typesystem/typesystem.go](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.28% <92.85%> (+0.21%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (ø)` | |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/629/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/629?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
613,adriantam,2023-03-13 23:06:55,FYI - https://github.com/openfga/openfga.dev/pull/390 to update the corresponding flag name
631,linux-foundation-easycla[bot],2023-03-14 02:14:37,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: elbuo8 / name: Yamil Asusta  (6ad20d1eedb471bfc8789615c648a6aebe98409e)</li></ul>"
631,codecov[bot],2023-03-14 02:20:50,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/631?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`13c14a8`)](https://codecov.io/gh/openfga/openfga/commit/13c14a88376484607becddf3a8d3adef200b001c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.19% compared to head [(`6ad20d1`)](https://codecov.io/gh/openfga/openfga/pull/631?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.21%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #631      +/-   ##
==========================================
+ Coverage   84.19%   84.21%   +0.01%     
==========================================
  Files          87       87              
  Lines       13668    13667       -1     
==========================================
+ Hits        11508    11509       +1     
+ Misses       1779     1777       -2     
  Partials      381      381              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.16% <100.00%> (-0.04%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/631/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/631?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
632,codecov[bot],2023-03-14 14:50:45,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/632?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`b7e8198`)](https://codecov.io/gh/openfga/openfga/commit/b7e81982eefcbd6642c258a125b3d34c95d00859?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.57% compared to head [(`4b9cd50`)](https://codecov.io/gh/openfga/openfga/pull/632?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.57%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #632   +/-   ##
=======================================
  Coverage   84.57%   84.57%           
=======================================
  Files          88       88           
  Lines       13785    13785           
=======================================
  Hits        11658    11658           
  Misses       1744     1744           
  Partials      383      383           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/632?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
633,codecov[bot],2023-03-14 19:31:07,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/633?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`5d1d7cc`)](https://codecov.io/gh/openfga/openfga/commit/5d1d7cc38b2557e3a756b2e0540267e5e1c90b92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.21% compared to head [(`f7f909d`)](https://codecov.io/gh/openfga/openfga/pull/633?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.21%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #633      +/-   ##
==========================================
- Coverage   84.21%   84.21%   -0.01%     
==========================================
  Files          87       87              
  Lines       13667    13666       -1     
==========================================
- Hits        11510    11509       -1     
  Misses       1777     1777              
  Partials      380      380              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/633?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/633?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.46% <100.00%> (-0.04%)` | :arrow_down: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/633?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
634,codecov[bot],2023-03-15 15:50:32,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/634?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`032663b`)](https://codecov.io/gh/openfga/openfga/commit/032663bcd1821b04d8e57de41c1ebdb27b1ca275?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.54% compared to head [(`e9cba22`)](https://codecov.io/gh/openfga/openfga/pull/634?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #634      +/-   ##
==========================================
+ Coverage   84.54%   84.62%   +0.07%     
==========================================
  Files          88       88              
  Lines       13793    13785       -8     
==========================================
+ Hits        11661    11665       +4     
+ Misses       1750     1739      -11     
+ Partials      382      381       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/634?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/634?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/634/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/634?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
571,miparnisari,2023-03-15 17:11:53,@wemod123 this bug is fixed in v0.4.0 which will be released shortly. Thanks for your report! 🙇‍♀️ 
635,codecov[bot],2023-03-15 22:40:49,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`88.40`**% and no project coverage change.
> Comparison is base [(`fab3351`)](https://codecov.io/gh/openfga/openfga/commit/fab3351511042555422adf62c4332625a3158e53?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.59% compared to head [(`350cdab`)](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.59%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #635   +/-   ##
=======================================
  Coverage   84.59%   84.59%           
=======================================
  Files          88       88           
  Lines       13805    13805           
=======================================
  Hits        11678    11678           
  Misses       1744     1744           
  Partials      383      383           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `90.88% <87.87%> (ø)` | |
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.26% <100.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/635?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
635,miparnisari,2023-03-15 23:54:31,"https://github.com/openfga/openfga/blob/1f63f98fc1a30e752a1b6d6d38d1ef2041f79875/internal/graph/graph.go#L134-L139

do you mind renaming `rewrite` to `targetRewrite` as well? and also in the callers, if applicable"
636,codecov[bot],2023-03-16 03:01:51,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/636?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.09`** :warning:
> Comparison is base [(`5963fe3`)](https://codecov.io/gh/openfga/openfga/commit/5963fe322e70fc58fd03b4d1cacef2d2480f2ba5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.59% compared to head [(`b846f08`)](https://codecov.io/gh/openfga/openfga/pull/636?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.50%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #636      +/-   ##
==========================================
- Coverage   76.59%   76.50%   -0.09%     
==========================================
  Files          60       60              
  Lines        7240     7240              
==========================================
- Hits         5545     5538       -7     
- Misses       1407     1412       +5     
- Partials      288      290       +2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/636/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/636?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
638,rhamzeh,2023-03-16 19:13:05,"> Looks like we're missing the link below at the bottom of the file.

Added"
638,codecov[bot],2023-03-16 19:16:58,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/638?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`94.59`**% and project coverage change: **`+0.04`** :tada:
> Comparison is base [(`588f88d`)](https://codecov.io/gh/openfga/openfga/commit/588f88da2617e97efb4e000b5af36a7ccb2a6300?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.58% compared to head [(`e257c5c`)](https://codecov.io/gh/openfga/openfga/pull/638?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #638      +/-   ##
==========================================
+ Coverage   84.58%   84.62%   +0.04%     
==========================================
  Files          88       88              
  Lines       13785    13805      +20     
==========================================
+ Hits        11660    11683      +23     
+ Misses       1742     1740       -2     
+ Partials      383      382       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/638?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/638?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.26% <94.59%> (+1.85%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/638/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/638?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
641,codecov[bot],2023-03-16 22:35:01,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`53c5b8f`)](https://codecov.io/gh/openfga/openfga/commit/53c5b8f1ae94ba7d92c4a746b9be35dafa0fa049?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62% compared to head [(`26ffb3d`)](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #641      +/-   ##
==========================================
- Coverage   84.62%   84.62%   -0.01%     
==========================================
  Files          88       88              
  Lines       13805    13814       +9     
==========================================
+ Hits        11683    11690       +7     
- Misses       1741     1742       +1     
- Partials      381      382       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.65% <100.00%> (+0.39%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `90.98% <100.00%> (+0.09%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/641/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/641?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
646,codecov[bot],2023-03-17 17:33:24,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/646?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`1431127`)](https://codecov.io/gh/openfga/openfga/commit/1431127864a59d205630ec1ce3c87281b4f04482?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62% compared to head [(`fab0ab6`)](https://codecov.io/gh/openfga/openfga/pull/646?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.59%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #646      +/-   ##
==========================================
- Coverage   84.62%   84.59%   -0.04%     
==========================================
  Files          88       88              
  Lines       13805    13805              
==========================================
- Hits        11683    11678       -5     
- Misses       1740     1744       +4     
- Partials      382      383       +1     
```


[see 2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/646/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/646?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
643,codecov[bot],2023-03-17 17:35:42,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/643?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`ff7f7dc`)](https://codecov.io/gh/openfga/openfga/commit/ff7f7dccad4497d9224f74099ab4717213cfe623?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.60% compared to head [(`6c2fa88`)](https://codecov.io/gh/openfga/openfga/pull/643?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.59%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #643      +/-   ##
==========================================
- Coverage   84.60%   84.59%   -0.02%     
==========================================
  Files          88       88              
  Lines       13805    13805              
==========================================
- Hits        11680    11678       -2     
- Misses       1742     1744       +2     
  Partials      383      383              
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/643/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/643?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
647,codecov[bot],2023-03-17 17:49:09,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/647?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`a7f8614`)](https://codecov.io/gh/openfga/openfga/commit/a7f86142eb16533c54f47bb1307622b0bbad663b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.61% compared to head [(`afe6bcb`)](https://codecov.io/gh/openfga/openfga/pull/647?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.66%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #647      +/-   ##
==========================================
+ Coverage   84.61%   84.66%   +0.05%     
==========================================
  Files          88       88              
  Lines       13805    13805              
==========================================
+ Hits        11681    11688       +7     
+ Misses       1742     1737       -5     
+ Partials      382      380       -2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/647/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/647?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
648,rhamzeh,2023-03-17 18:53:49,Related to: https://github.com/openfga/openfga/issues/207
642,rhamzeh,2023-03-17 19:19:50,"Hey @geoffroybraun - The way to do what you are asking is:
```py
model
  schema 1.1
type user
type car
  relations
    define owner: [user]
    define driver: owner or member from owner
type family
  relations
    define member: [user]
```"
649,codecov[bot],2023-03-17 20:52:01,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/649?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`81.81`**% and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`fcacdb5`)](https://codecov.io/gh/openfga/openfga/commit/fcacdb56bdf74868f25909d11318f5dcb2ca777f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.63% compared to head [(`6014fbe`)](https://codecov.io/gh/openfga/openfga/pull/649?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.68%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #649      +/-   ##
==========================================
+ Coverage   84.63%   84.68%   +0.05%     
==========================================
  Files          88       88              
  Lines       13843    13843              
==========================================
+ Hits        11716    11723       +7     
+ Misses       1744     1739       -5     
+ Partials      383      381       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/649?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.57% <81.81%> (+0.80%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/649/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/649?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
650,codecov[bot],2023-03-18 00:32:57,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`87.04`**% and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`f336573`)](https://codecov.io/gh/openfga/openfga/commit/f33657319d7885600a19c112509868a6ee1c5b3e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.10% compared to head [(`274f02b`)](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #650      +/-   ##
==========================================
- Coverage   78.10%   78.08%   -0.02%     
==========================================
  Files          59       59              
  Lines        7117     7109       -8     
==========================================
- Hits         5558     5550       -8     
  Misses       1268     1268              
  Partials      291      291              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `67.46% <ø> (-1.64%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `80.38% <85.42%> (+0.57%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.57% <100.00%> (+0.10%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/650?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
642,geoffroybraun,2023-03-20 19:44:50,"Hi @rhamzeh ! 

Thank you for the quick reply ; unfortunatly, it does not seem to work... I tried your solution on the playground and the error I see mentions that _'member' is not a valid relation for 'user'_.

That makes sense to me, there is not connection, not relation between a user and the family expect that a family member has to be a user. I wonder how the FGA could imagine that, because when I'm asking if a user is driver of a car, it has to understand it should look for families to see if the targeted user might be a member of the owner's family.

That is why I was suggesting (if possible) that the authorization model could allow to target a specific object relation's relation of another object.

Thanks!"
642,XVincentX,2023-03-20 23:39:10,"I believe I am facing the same issue with a slightly different example.

I am trying to model a system where users are parts of groups; and group members somehow associated with such group can take actions on the user.

For instance, let's assume `Bob` is in the `engineering` group; I want to model that every one in an `engineering` related group is allowed to take a look at some sensitive information. The ""ideal"" model would be something like this

```yaml
model
  schema 1.1
type group
  relations
    define member: [employee]
    define sibling: [group]
type employee
  relations
    define group: [group]
    define view_employmentInfo: [group] or [sibling#member] from group # this is an error
```

And ideally I would put the following tuples:

| User                 | Relation | Object            |
| -------------------- | -------- | ----------------- |
| group:engineering    | group    | user:bob          |
| group:hr-engineering | sibling  | group:engineering |
| group:hr-engineering | group | user:frank |

In this way, I could ask:

> Is `user:frank` related to `user:bob` in `view_employmentInfo`? And I would get Yes as an answer.

The long story short - it sounds like currently OpenFGA can very well model trees of relationships, but it cannot dig more than one ""branch"" away.

If there is a better way to model my use case, please let me know! @rhamzeh "
651,kdubb,2023-03-21 20:19:02,"@jon-whit I took a shot at this to jumpstart its implementation, if it's going to being implemented at some point."
652,linux-foundation-easycla[bot],2023-03-22 14:58:14,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: jmiettinen / name: Jarkko Miettinen  (2fc6013da3d65b1d393faa9c515b551543ffd7e1)</li></ul>"
653,linux-foundation-easycla[bot],2023-03-22 20:14:17,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: jbrooks2-godaddy / name: Jacob Brooks  (8a663a2c426a63cd393b4f5c786a9c9f26da0c8b)</li></ul>"
653,codecov[bot],2023-03-22 20:44:01,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/653?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@6e4e76c`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch coverage: 0.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #653   +/-   ##
=======================================
  Coverage        ?   84.61%           
=======================================
  Files           ?       88           
  Lines           ?    13805           
  Branches        ?        0           
=======================================
  Hits            ?    11681           
  Misses          ?     1742           
  Partials        ?      382           
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/test/read.go](https://codecov.io/gh/openfga/openfga/pull/653?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci90ZXN0L3JlYWQuZ28=) | `97.60% <0.00%> (ø)` | |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/653?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
642,rhamzeh,2023-03-23 00:45:52,"> unfortunatly, it does not seem to work...

@geoffroybraun

Sorry that was a very hasty distracted reply from my end - it definitely won't work, as the owner isn't the family!

For your case, what we would suggest, is making use of biderectional writes to do this - that means writing tuples to indicate that a user is a member of the family, and writing tuples to indicate that the family is related to the user.

For example:

Model:
```py
model
  schema 1.1
type user
  relations
    define family: [family]
    define family_member: member from family
type car
  relations
    define owner: [user]
    define driver: owner or family_member from owner
type family
  relations
    define member: [user]
```

Tuples:
```json
[
  {
    ""user"": ""user:Test"",
    ""relation"": ""owner"",
    ""object"": ""car:SUV""
  }, {
    ""user"": ""user:Test"",
    ""relation"": ""member"",
    ""object"": ""family:Fga""
  }, {
    ""user"": ""family:Fga"",
    ""relation"": ""family"",
    ""object"": ""user:Test""
  }, {
    ""user"": ""user:Other"",
    ""relation"": ""member"",
    ""object"": ""family:Fga""
  }, {
    ""user"": ""family:Fga"",
    ""relation"": ""family"",
    ""object"": ""user:Other""
  }
]
```


https://play.fga.dev/stores/create/?id=01GW5Y8A25D0PWJNYRNC2X5KTE
"
642,rhamzeh,2023-03-23 00:47:57,"@XVincentX, you are right. You do have a similar use-case.

What do you think about something like the model below?

Model
```py
model
  schema 1.1
type group
  relations
    define member: [employee]
    define sibling: [group]
    define sibling_member: member from sibling
type employee
  relations
    define group: [group]
    define view_employmentInfo: [group] or sibling_member from group
```

Tuples
```json
[
  {
    ""user"": ""group:engineering"",
    ""relation"": ""group"",
    ""object"": ""employee:bob""
  }, 
  {
    ""user"": ""employee:bob"",
    ""relation"": ""member"",
    ""object"": ""group:engineering""
  }, {
    ""user"": ""group:hr-engineering"",
    ""relation"": ""sibling"",
    ""object"": ""group:engineering""
  }, {
    ""user"": ""group:engineering"",
    ""relation"": ""sibling"",
    ""object"": ""group:hr-engineering""
  }, {
    ""user"": ""group:hr-engineering"",
    ""relation"": ""group"",
    ""object"": ""employee:frank""
  }, {
    ""user"": ""employee:frank"",
    ""relation"": ""member"",
    ""object"": ""group:hr-engineering""
  }
]
```

https://play.fga.dev/stores/create/?id=01GW5YV3T476SSGD6V9WJVB05T
"
652,rhamzeh,2023-03-23 12:09:47,"Thanks for your contribution @jmiettinen!

The team is on an off-site this week, so we may be slow to respond, but we will be able to take a look at this as soon as we are back next week."
642,geoffroybraun,2023-03-23 13:25:11,"Hi @rhamzeh !

Once again, thank you for the reply. The idea of the suggested syntax is to avoid having everything in the `user` type. The solution you suggested seems to be good, as it is working and we tested that approach before coming to you with this issue, but on a company scale, expecially a large one, I can't imagine how many relations the `user` could have, making it very confusing and hard to maintain over time...

The idea of the syntax `[type#relation] from other_type` intends to avoid having to ""pollute"" the `user` type, which will be at the very beginning of every question asked to OpenFGA.

Let me know if you need further explanation for that, thanks!"
642,XVincentX,2023-03-23 15:04:10,"Hey @rhamzeh,

Your solution does work and just like @geoffroybraun - I arrived to a similar one yesterday while playing around. I also share the concern of an exploding number of relations as well as redundant information. For instance, in my case, I need to tell that _Engineering is the group of Bob_ and also _Bob is member of engineering_ (which is the same information)

While I can understand a response on the line of ""Get your data together"" - I foresee the headaches of assertions returning unexpected results because of a relationship that goes in one direction, but the one in the reverse is missing.

Ideally speaking, I would like to state a relation once, and the system could walk it through as it is necessary (Note: not saying that's easy or even doable, just ideally speaking :trollface:  )"
642,rhamzeh,2023-03-23 16:32:47,"Can you elaborate on the idea of ""not polluting the user type""?

Are you afraid of performance or reliability issues?

It is somewhat expected that your types will have a lot of relations on them.

You can add a ""intermediary"" account type that has all the relation, but I'm still not quite sure what problem that will solve as the relations need to be in the model, and you are adding more resolution steps in between.

In your case, the syntax `[type#relation] from other_type` does not work around it, because in your case, when you reference `[family#member] from owner`, even if we were to add support for that, the owner (which is a user) has no relations defined on it, which means it has no family to get the member from.

Remember, OpenFGA uses a _Directed Access Graph_, so you need a link from the user back to the family if you intend OpenFGA to traverse the path from the user back to the family."
642,geoffroybraun,2023-03-24 15:47:47,"My apologizes if the word '_pollute_' is a bit too strong. My point is that if, at the scale of a company, everything should be directly linked back to the `user` type, I am afraid it will have a lot of relations, making it very difficult through the authorization model to be understood and maintained over time from a human point of view.

I have no doubt OpenFGA will not have performance issues, my point is really user-oriented. If I always have to go back to the `user` type to navigate from a type to another, it will have thousands of relations.

I was thinking of a way for OpenFGA to understand that I'm looking for a relation that does not exist, but as I am targeting a type that have relations using the `user` type, it can loop on it and looks for other relations."
642,XVincentX,2023-03-25 14:36:19,"I basically said the same @geoffroybraun said above. The ideal situation would be that OpenFGA **can** on its own navigate from the user to whatever I need - without the need of a direct/explicit relationship (see what I wrote above for some examples).

In any case, the project is clear - this is a direct access graph, and it comes with benefits and limitations.

I do believe that [Topaz](https://topaz.sh) does not have such limitation, but I have not fully tried it yet"
651,jon-whit,2023-03-27 15:30:15,"> @jon-whit I took a shot at this to jumpstart its implementation, if it's going to being implemented at some point.

Hey @kdubb , if we're going to separate out the individual fields of the datastore/database connection uri, then we should separate it in totality. It is odd to have just the `username` and `password` fields be deconstructed from the whole uri. My counter proposal here would be to introduce two ways of configuring the connection uri.

1. A single connection uri (like we have today) - `postgres://username:password@hostname:port/db-name?opts...`
2. Individual configurations per field. For example:

    `OPENFGA_DATASTORE_USERNAME` (optional)
    `OPENFGA_DATASTORE_PASSWORD` (optional)
    `OPENFGA_DATASTORE_HOSTNAME` (required)
    `OPENFGA_DATASTORE_PORT` (required)
    `OPENFGA_DATASTORE_DB_NAME` (required)
    `OPENFGA_DATASTORE_OPTS` (optional)

     We'd concatenate these individual fields to construct the whole uri that we use to connect to the database. If the operator of OpenFGA provides the `--datastore-connection-uri` flag (option 1), then that flag will take precedence over providing the individual fields. If the developer specifies any `--datastore-engine` other than `memory`, and does not provide the `--datastore-connection-uri`, then each individual required field (referring to option 2 above) must be validated as non-empty."
651,kdubb,2023-03-27 15:37:58,"That's fine but I wouldn't say it's required. Credentials are ""secrets"" that should be allowed separately. For example, JDBC's Datasource uses a connection string but requires the implementation to allow separately setting the username and password even when using it.

The URI connection string is nice, easy to use, and convenient. It's just the credentials that need to be opened up to alternate configuration sources due to the nature of them."
651,jon-whit,2023-03-27 16:23:32,"> That's fine but I wouldn't say it's required. Credentials are ""secrets"" that should be allowed separately. For example, JDBC's Datasource uses a connection string but requires the implementation to allow separately setting the username and password even when using it.
> 
> The URI connection string is nice, easy to use, and convenient. It's just the credentials that need to be opened up to alternate configuration sources due to the nature of them.

My concern is that the behavior adds more nuanced variability to the configuration structure and semantics. If you can provide a connection uri but with seperated `username` and `password` fields, then now the single `--datastore-connection-uri` has nuances to it. It becomes a uri string with an optional `username` and `password` field etc.. `postgres://[username]:[password]@hostname:port/db-name[?opts]`. That just introduces more variations of deconstructing and validating the uri, and more semantics to understand of how to configure the database connection settings in OpenFGA, which impacts developer experience a bit. 

For example, what if the username field is provided in the connection uri but the password field isn't or vice-versa etc..? Does `postgres://myuser:@myhost:5432/mydb` with `OPENFGA_DATASTRE_PASSWORD=secret` imply that the `myuser:secret` credentials are to be used or does it imply that the `myuser:` credentials are to be used, or is the `myuser:` invalid because the `OPENFGA_DATASTORE_PASSWORD` env variable was provided, etc.. These are the kinds of variations that cause ambiguities that concern me.

It may make sense to require that `username:password` both be included if you are providing them in the connection uri directly. Otherwise we will construct them from `OPENFGA_DATASTORE_USERNAME` and `OPENFGA_DATASTORE_PASSWORD`. That would help minimize the ambiguities that I've mentioned above. What do you think?"
651,kdubb,2023-03-27 16:38:35,"As written this PR treats the explicit username and password as individual overrides. If either is provided it overrides the corresponding parameter provided in the connection URI. Personally, I don't find this ambiguous although I can understand your point.

Given the way credentials are generally provided, I have no issue with requiring that both the username & password via the uri or using the explicit configuration values.

It seems like you are suggesting that if either two usernames are provided or two passwords are provided that the configuration is invalid and it should be logged as an error and the server exited. I think this is fine."
650,jon-whit,2023-03-27 16:38:59,This is directly related to https://github.com/openfga/openfga/pull/618.
655,linux-foundation-easycla[bot],2023-03-27 19:21:07,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: suttod / name: Dániel SÜTTŐ  (666141f94e036f1c757983b5d1049e37484628d3)</li></ul>"
657,codecov[bot],2023-03-27 20:55:34,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`53c5b8f`)](https://codecov.io/gh/openfga/openfga/commit/53c5b8f1ae94ba7d92c4a746b9be35dafa0fa049?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62% compared to head [(`a419cc8`)](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.61%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #657      +/-   ##
==========================================
- Coverage   84.62%   84.61%   -0.02%     
==========================================
  Files          88       88              
  Lines       13805    13814       +9     
==========================================
+ Hits        11683    11689       +6     
- Misses       1741     1742       +1     
- Partials      381      383       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.65% <100.00%> (+0.39%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `90.98% <100.00%> (+0.09%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/657/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/657?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
659,codecov[bot],2023-03-27 21:54:06,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`53c5b8f`)](https://codecov.io/gh/openfga/openfga/commit/53c5b8f1ae94ba7d92c4a746b9be35dafa0fa049?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62% compared to head [(`102fc98`)](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.60%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #659      +/-   ##
==========================================
- Coverage   84.62%   84.60%   -0.03%     
==========================================
  Files          88       88              
  Lines       13805    13817      +12     
==========================================
+ Hits        11683    11690       +7     
- Misses       1741     1744       +3     
- Partials      381      383       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `87.87% <100.00%> (+0.61%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `90.98% <100.00%> (+0.09%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/659/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/659?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
658,codecov[bot],2023-03-28 02:01:36,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`3fe1993`)](https://codecov.io/gh/openfga/openfga/commit/3fe19934d74b6d16d85a86486cf152f289b47b83?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.62% compared to head [(`b3a9759`)](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.63%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #658      +/-   ##
==========================================
+ Coverage   84.62%   84.63%   +0.01%     
==========================================
  Files          88       88              
  Lines       13817    13843      +26     
==========================================
+ Hits        11692    11716      +24     
- Misses       1742     1744       +2     
  Partials      383      383              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/testfixtures/storage/mysql.go](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL215c3FsLmdv) | `85.12% <100.00%> (+1.79%)` | :arrow_up: |
| [pkg/testfixtures/storage/postgres.go](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3RmaXh0dXJlcy9zdG9yYWdlL3Bvc3RncmVzLmdv) | `84.74% <100.00%> (+1.88%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/658/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/658?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
655,adriantam,2023-03-28 02:17:06,Hello @suttod !  Thank you for contributing!
655,codecov[bot],2023-03-28 13:50:14,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/655?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.87`** :warning:
> Comparison is base [(`49fb780`)](https://codecov.io/gh/openfga/openfga/commit/49fb780569de60e8ab85054aeec4bef06a1a2e5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.13% compared to head [(`b3da571`)](https://codecov.io/gh/openfga/openfga/pull/655?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.25%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #655      +/-   ##
==========================================
- Coverage   78.13%   77.25%   -0.87%     
==========================================
  Files          56       59       +3     
  Lines        7098     7230     +132     
==========================================
+ Hits         5545     5585      +40     
- Misses       1265     1355      +90     
- Partials      288      290       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/655?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `37.28% <100.00%> (ø)` | |

... and [7 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/655/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/655?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
648,adriantam,2023-03-28 14:45:46,Close in favor of https://github.com/openfga/openfga/issues/207
662,codecov[bot],2023-03-28 23:15:52,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/662?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`bdab1a3`)](https://codecov.io/gh/openfga/openfga/commit/bdab1a3a5a2e628ed3da0d97bb4b9ed74652067c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.65% compared to head [(`55cff74`)](https://codecov.io/gh/openfga/openfga/pull/662?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.67%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #662      +/-   ##
==========================================
+ Coverage   84.65%   84.67%   +0.01%     
==========================================
  Files          88       88              
  Lines       13843    13843              
==========================================
+ Hits        11719    11721       +2     
+ Misses       1742     1740       -2     
  Partials      382      382              
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/662?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/662?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.17% <100.00%> (+0.40%)` | :arrow_up: |

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/662?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
655,miparnisari,2023-03-29 01:11:39,"Actually, if my config file has this:

```
datastore:
   uri: ""postgres://postgres:password@127.0.0.1:5432/postgres?sslmode=disable""
```

Then the migrations don't run because we didn't enforce the presence of `datastore.engine`  and so it uses the default, `memory` 🤔  Should we change this?"
663,codecov[bot],2023-03-29 01:26:37,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/663?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.05`** :warning:
> Comparison is base [(`c50df8e`)](https://codecov.io/gh/openfga/openfga/commit/c50df8ebcfe8493b46c44695dc44a0b5ef428da5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.68% compared to head [(`99fa0ca`)](https://codecov.io/gh/openfga/openfga/pull/663?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.64%.

> :exclamation: Current head 99fa0ca differs from pull request most recent head 023b73f. Consider uploading reports for the commit 023b73f to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #663      +/-   ##
==========================================
- Coverage   84.68%   84.64%   -0.05%     
==========================================
  Files          88       88              
  Lines       13843    13848       +5     
==========================================
- Hits        11723    11721       -2     
- Misses       1739     1745       +6     
- Partials      381      382       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/663?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `0.00% <0.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/663/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/663?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
652,codecov[bot],2023-03-29 15:16:41,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`14.28`**% and no project coverage change.
> Comparison is base [(`9109cfe`)](https://codecov.io/gh/openfga/openfga/commit/9109cfe2cec950db32b75dad472947c1dfabd717?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.64% compared to head [(`1c9c346`)](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.64%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #652   +/-   ##
=======================================
  Coverage   84.64%   84.64%           
=======================================
  Files          88       88           
  Lines       13848    13853    +5     
=======================================
+ Hits        11721    11726    +5     
- Misses       1746     1747    +1     
+ Partials      381      380    -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/telemetry/tracing.go](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `9.09% <0.00%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.24% <50.00%> (+0.07%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/652/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/652?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
176,aaguiarz,2023-03-29 17:33:58,"Hey @tnipri 

Were you able to finally use OpenFGA? Would you mind emailing me at andres.aguiar at okta.com and share what has been your experience with it?

Thanks"
571,aaguiarz,2023-03-29 19:06:32,"Hey @wemod123 

Were you able to finally use OpenFGA? Would you mind emailing me at andres.aguiar at openfga.dev and share what has been your experience with it?

Thanks"
479,aaguiarz,2023-03-29 20:52:20,"Hi @filipstiglic 

Have you been able to successfully utilize OpenFGA? If so, I would love to hear about your experience and any feedback you may have.

If you don't mind sharing, please email me directly at andres.aguiar at openfga.dev

Thanks!
"
182,aaguiarz,2023-03-29 20:56:45,"Hi @NexZhu 

Have you been able to successfully utilize OpenFGA? If so, I would love to hear about your experience and any feedback you may have.

If you don't mind sharing, please email me directly at andres.aguiar at openfga.dev

Thanks!"
664,codecov[bot],2023-03-30 01:12:12,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+1.51`** :tada:
> Comparison is base [(`d3946fe`)](https://codecov.io/gh/openfga/openfga/commit/d3946fe4f2b68c5dccfe820b63490e3174201809?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.59% compared to head [(`fc58e33`)](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #664      +/-   ##
==========================================
+ Coverage   76.59%   78.10%   +1.51%     
==========================================
  Files          60       56       -4     
  Lines        7240     7098     -142     
==========================================
- Hits         5545     5543       -2     
+ Misses       1407     1266     -141     
- Partials      288      289       +1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/middleware/logging/logging.go](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `81.54% <100.00%> (ø)` | |
| [pkg/middleware/requestid/requestid.go](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvcmVxdWVzdGlkL3JlcXVlc3RpZC5nbw==) | `96.16% <100.00%> (ø)` | |
| [pkg/middleware/storeid/storeid.go](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC9zdG9yZWlkLmdv) | `90.48% <100.00%> (ø)` | |

... and [8 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/664/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/664?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
304,aaguiarz,2023-03-30 02:02:24,"Hi @mango009 

Have you been able to successfully utilize OpenFGA? If so, I would love to hear about your experience and any feedback you may have.

If you don't mind sharing, please email me directly at andres.aguiar at openfga.dev

Thanks!"
665,codecov[bot],2023-03-30 04:48:02,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`94.37`**% and project coverage change: **`+0.28`** :tada:
> Comparison is base [(`eb46bec`)](https://codecov.io/gh/openfga/openfga/commit/eb46becff73947944f46dc11bd0aa13e7ce6a7fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.25% compared to head [(`c597534`)](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.53%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #665      +/-   ##
==========================================
+ Coverage   77.25%   77.53%   +0.28%     
==========================================
  Files          59       59              
  Lines        7230     7159      -71     
==========================================
- Hits         5585     5550      -35     
+ Misses       1355     1322      -33     
+ Partials      290      287       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <92.00%> (+25.67%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.48% <100.00%> (+1.50%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `79.81% <100.00%> (-0.47%)` | :arrow_down: |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.11% <100.00%> (-0.34%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/665/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/665?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
666,codecov[bot],2023-03-30 05:25:42,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/666?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`be7a64a`)](https://codecov.io/gh/openfga/openfga/commit/be7a64a4f5718c6455d44770d85644dbd10cc42a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.57% compared to head [(`4345ce0`)](https://codecov.io/gh/openfga/openfga/pull/666?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.52%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #666      +/-   ##
==========================================
- Coverage   76.57%   76.52%   -0.04%     
==========================================
  Files          60       60              
  Lines        7240     7240              
==========================================
- Hits         5543     5540       -3     
- Misses       1408     1410       +2     
- Partials      289      290       +1     
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/666/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/666?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
652,jmiettinen,2023-03-30 16:18:25,"> Thanks for the contribution @jmiettinen! I just left a couple of minor requested changes 👍 .

Sorry, I didn't have notifications on for these for some reason."
667,codecov[bot],2023-03-30 21:44:22,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/667?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-8.08`** :warning:
> Comparison is base [(`6e6a941`)](https://codecov.io/gh/openfga/openfga/commit/6e6a94136a3ab2beee54ca6f59680b4764093cb6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 84.59% compared to head [(`cd9e73c`)](https://codecov.io/gh/openfga/openfga/pull/667?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.52%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #667      +/-   ##
==========================================
- Coverage   84.59%   76.52%   -8.08%     
==========================================
  Files          88       60      -28     
  Lines       13853     7237    -6616     
==========================================
- Hits        11719     5538    -6181     
+ Misses       1752     1410     -342     
+ Partials      382      289      -93     
```


[see 29 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/667/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/667?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
654,jon-whit,2023-03-31 17:13:06,#652 will be included in our next release.
669,codecov[bot],2023-03-31 23:07:35,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/669?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.07`** :warning:
> Comparison is base [(`2c5dfe2`)](https://codecov.io/gh/openfga/openfga/commit/2c5dfe2081803a47d63644d63f061fced6c3c09f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.57% compared to head [(`968e337`)](https://codecov.io/gh/openfga/openfga/pull/669?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.50%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #669      +/-   ##
==========================================
- Coverage   76.57%   76.50%   -0.07%     
==========================================
  Files          60       60              
  Lines        7237     7237              
==========================================
- Hits         5542     5537       -5     
- Misses       1407     1410       +3     
- Partials      288      290       +2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/write\_authzmodel.go](https://codecov.io/gh/openfga/openfga/pull/669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `91.17% <100.00%> (ø)` | |

... and [4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/669/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/669?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
671,codecov[bot],2023-04-01 19:05:48,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/671?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.10`** :warning:
> Comparison is base [(`0de4c05`)](https://codecov.io/gh/openfga/openfga/commit/0de4c054e8b9791c041b793eda90e27fe1d91f76?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.62% compared to head [(`870c651`)](https://codecov.io/gh/openfga/openfga/pull/671?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.52%.

> :exclamation: Current head 870c651 differs from pull request most recent head 1b41ee5. Consider uploading reports for the commit 1b41ee5 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #671      +/-   ##
==========================================
- Coverage   76.62%   76.52%   -0.10%     
==========================================
  Files          60       60              
  Lines        7237     7237              
==========================================
- Hits         5545     5538       -7     
- Misses       1405     1410       +5     
- Partials      287      289       +2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/671/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/671?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
675,codecov[bot],2023-04-01 19:06:00,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/675?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.10`** :warning:
> Comparison is base [(`0de4c05`)](https://codecov.io/gh/openfga/openfga/commit/0de4c054e8b9791c041b793eda90e27fe1d91f76?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.62% compared to head [(`ecdce58`)](https://codecov.io/gh/openfga/openfga/pull/675?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.52%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #675      +/-   ##
==========================================
- Coverage   76.62%   76.52%   -0.10%     
==========================================
  Files          60       60              
  Lines        7237     7237              
==========================================
- Hits         5545     5538       -7     
- Misses       1405     1410       +5     
- Partials      287      289       +2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/675/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/675?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
673,codecov[bot],2023-04-01 19:06:21,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/673?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`0de4c05`)](https://codecov.io/gh/openfga/openfga/commit/0de4c054e8b9791c041b793eda90e27fe1d91f76?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.62% compared to head [(`1f377a3`)](https://codecov.io/gh/openfga/openfga/pull/673?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.60%.

> :exclamation: Current head 1f377a3 differs from pull request most recent head bd6b9ca. Consider uploading reports for the commit bd6b9ca to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #673      +/-   ##
==========================================
- Coverage   76.62%   76.60%   -0.02%     
==========================================
  Files          60       60              
  Lines        7237     7237              
==========================================
- Hits         5545     5544       -1     
  Misses       1405     1405              
- Partials      287      288       +1     
```


[see 2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/673/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/673?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
674,codecov[bot],2023-04-01 19:06:27,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/674?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`adcdaae`)](https://codecov.io/gh/openfga/openfga/commit/adcdaae41d1fc9d50823b325c262a172e16e5b97?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.55% compared to head [(`4e22d6d`)](https://codecov.io/gh/openfga/openfga/pull/674?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.52%.

> :exclamation: Current head 4e22d6d differs from pull request most recent head e86e731. Consider uploading reports for the commit e86e731 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #674      +/-   ##
==========================================
- Coverage   76.55%   76.52%   -0.03%     
==========================================
  Files          60       60              
  Lines        7237     7237              
==========================================
- Hits         5540     5538       -2     
- Misses       1408     1410       +2     
  Partials      289      289              
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/674/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/674?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
669,rhamzeh,2023-04-03 12:53:41,"Not sure we should be doing this - we agreed with @aaguiarz and @adriantam that this version will now always be required on the API, if it is not sent, we fail the request.

Basically your PR here @miparnisari https://github.com/openfga/api/pull/71

Because switching the default to 1.1 is _also_ breaking, but in a less visible way.

If the schema version was decided to be optional, it can be in the DSL which will handle the translation and inserting the schema version, but the JSON should always expect it.

This is also because hiding the schema version (if we decided to do it) is mostly concerned with the DX of authoring a model in the ""friendly"" DSL. For the JSON, it doesn't add much of a hassle and would be a good practice to have it.
"
587,codecov[bot],2023-04-03 16:37:44,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/587?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.12`** :tada:
> Comparison is base [(`1a337f7`)](https://codecov.io/gh/openfga/openfga/commit/1a337f708268d07550b783c1cf60a82992ac9539?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.50% compared to head [(`f142937`)](https://codecov.io/gh/openfga/openfga/pull/587?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.62%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #587      +/-   ##
==========================================
+ Coverage   76.50%   76.62%   +0.12%     
==========================================
  Files          60       60              
  Lines        7237     7240       +3     
==========================================
+ Hits         5537     5548      +11     
+ Misses       1410     1405       -5     
+ Partials      290      287       -3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/587?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/587?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.29% <100.00%> (+0.03%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/587/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/587?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
670,jon-whit,2023-04-03 17:11:52,"@xXAvoraXx thanks for the suggestion! In the coming months we're going to be looking into the implications of running OpenFGA with a Postgres HA topology. There are a lot of Postgres HA options on the market including self-managed solutions and solutions managed by a database provider:

( Managed )
Cloud SQL - https://cloud.google.com/sql/postgresql
AWS RDS - https://aws.amazon.com/rds/
AWS Aurora - https://aws.amazon.com/rds/aurora/

( Self Managed )
Citus -  https://www.citusdata.com/
Fly - https://fly.io/docs/getting-started/multi-region-databases/

It is also worth considering database solutions that are Postgres compatible but part of the NewSQL variant of SQL database technologies, which bring HA and multi-regional capabilities natively to the database implementation. Postgres wasn't natively designed to be run in multi-region HA topology with regional transactions, and so it may be worth considering NewSQL technologies including:

* CockroachDB - https://www.cockroachlabs.com/
* YugaByte - https://www.yugabyte.com/

Some of the concerns we have with Postgres HA topologies is the replication lag and the impact that has on the read consistency model. We need to be careful and have specific design intent if we're going to introduce inconsistencies in reads due to replication etc.."
677,codecov[bot],2023-04-03 18:44:20,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`68.37`**% and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`eb46bec`)](https://codecov.io/gh/openfga/openfga/commit/eb46becff73947944f46dc11bd0aa13e7ce6a7fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.25% compared to head [(`fa0b1c3`)](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.30%.

> :exclamation: Current head fa0b1c3 differs from pull request most recent head a0941fc. Consider uploading reports for the commit a0941fc to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #677      +/-   ##
==========================================
+ Coverage   77.25%   77.30%   +0.05%     
==========================================
  Files          59       59              
  Lines        7230     7179      -51     
==========================================
- Hits         5585     5549      -36     
+ Misses       1355     1345      -10     
+ Partials      290      285       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `66.00% <ø> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.57% <56.00%> (+0.11%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.41% <59.58%> (+0.25%)` | :arrow_up: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `82.73% <79.17%> (ø)` | |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.66% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/677/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/677?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
665,miparnisari,2023-04-04 04:52:22,"> looks like we don't have any test covering several branches from ReadStartingWithUser

Right, our code was not using this method. I changed this PR so that now it's used. But I will wait until https://github.com/openfga/openfga/pull/636 is merged because I don't want to introduce regressions."
677,adriantam,2023-04-04 20:37:42,"> Could you please add some tests for this new behavior in the storage conformance test suite `pkg/storage/test`?

Added"
406,tarjanik,2023-04-05 11:52:09,"We would also like to use this functionality as the following:
Given an object and a user (only one user), get all the relations the user has on the object, recursively (considering relations on parents or group memberships).

An optional user filter would be nice.

We'd be using this for a more user friendly frondend, where the effective permissions of the user on the object are known beforehand, to show/hide possible interactions with the object. When doing the actual interaction, the check endpoint is the final source of truth."
406,aaguiarz,2023-04-05 12:34:16,"Hi @tarjanik 

We'll be implementing a 'ListRelations' feature initially in the SDKs, which will issue parallel checks in batch, for a set of relations that you specify

![image](https://user-images.githubusercontent.com/1636576/230080889-9423f2c3-3523-49a7-82a8-cd214e808fc1.png)

We'll build it in the server-side later, based on what we learn from the SDK usage. 

In the proposal above we are not returning ""all"" the relations but the ones you specify. 

The rationale is that to return all, we'll need to inspect the model which will add latency, and that at the end of the day you'll have certain logic on your side of each relation, explicitly specifying them would be OK (e.g. you'll need to hide the ""Edit"" button if the user can't edit).

What do you think about this approach?



"
406,tarjanik,2023-04-05 12:56:02,"Hi @aaguiarz thank you for the quick response. We have many permissions, therefore many relations, that we can get by inspecting the model. The good news is that ""all relations"" can be cached, so I think this approach will work.

With the same train of thought, I think the relations can be read and cached during model update on the server side as well, but I'm fine doing it client side.

The other blocker for us is the production availability of ListObjects. Do you have an approximate timeframe when we can expect that endpoint out of experimental status? 

Thanks!

"
406,aaguiarz,2023-04-05 13:10:12,"We are removing the 'experimental' flag in the next few days. 

The only caveat for production usage is that performance won't be good if you are calling it for relations that have `and` or `but not` in their definition. Do you have such scenarios in your app?

Which SDK are you using? We already added support for Batch Check on the SDK for JS and we are working on .NET now. That would make it easy to implement ListRelations on your side.


"
406,tarjanik,2023-04-05 14:04:34,"@aaguiarz we are using the Go SDK. 

For the ListObjects, we do have or conditions. We rely heavily on role ""inheritance"", so we usually have an or condition on the role on the parent object. We will do some performance testing, and compare it with our custom solution."
406,aaguiarz,2023-04-05 14:15:12,"@tarjanik `or` should be fine. 

We'll add support for Batch Check requests for GoLang after .NET. 

"
651,jon-whit,2023-04-05 18:04:54,"@kdubb do you mind if I take this PR over and make some minor changes? We want to merge the changes in, but I wanted to make a few minor changes (nothing major functionallity, just nit picks here and there)."
651,kdubb,2023-04-05 18:05:57,Sure! Glad I could start the process!
679,codecov[bot],2023-04-05 22:42:05,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/679?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`d3946fe`)](https://codecov.io/gh/openfga/openfga/commit/d3946fe4f2b68c5dccfe820b63490e3174201809?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.59% compared to head [(`d8df245`)](https://codecov.io/gh/openfga/openfga/pull/679?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.57%.

> :exclamation: Current head d8df245 differs from pull request most recent head 7d2a7fc. Consider uploading reports for the commit 7d2a7fc to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #679      +/-   ##
==========================================
- Coverage   76.59%   76.57%   -0.02%     
==========================================
  Files          60       60              
  Lines        7240     7240              
==========================================
- Hits         5545     5543       -2     
- Misses       1407     1408       +1     
- Partials      288      289       +1     
```


[see 4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/679/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/679?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
680,codecov[bot],2023-04-06 17:45:38,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/680?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.09`** :tada:
> Comparison is base [(`0d97ad1`)](https://codecov.io/gh/openfga/openfga/commit/0d97ad1996fc3dd3a00fb48b78cf0aa254f606e8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.07% compared to head [(`554246b`)](https://codecov.io/gh/openfga/openfga/pull/680?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.15%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #680      +/-   ##
==========================================
+ Coverage   78.07%   78.15%   +0.09%     
==========================================
  Files          56       56              
  Lines        7098     7098              
==========================================
+ Hits         5541     5547       +6     
+ Misses       1268     1263       -5     
+ Partials      289      288       -1     
```


[see 4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/680/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/680?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
683,codecov[bot],2023-04-10 21:02:28,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/683?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.02`** :tada:
> Comparison is base [(`99f8c02`)](https://codecov.io/gh/openfga/openfga/commit/99f8c02f52a96cebab3be892c031cc5cd8686c54?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.21% compared to head [(`f0e2aa2`)](https://codecov.io/gh/openfga/openfga/pull/683?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.22%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #683      +/-   ##
==========================================
+ Coverage   77.21%   77.22%   +0.02%     
==========================================
  Files          59       59              
  Lines        7230     7230              
==========================================
+ Hits         5582     5583       +1     
  Misses       1357     1357              
+ Partials      291      290       -1     
```


[see 2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/683/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/683?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
684,codecov[bot],2023-04-12 18:29:33,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/684?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.16`** :tada:
> Comparison is base [(`069c149`)](https://codecov.io/gh/openfga/openfga/commit/069c149535174b9612b4532ab558d01fb5dae9ec?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.16% compared to head [(`23d8796`)](https://codecov.io/gh/openfga/openfga/pull/684?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.31%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #684      +/-   ##
==========================================
+ Coverage   77.16%   77.31%   +0.16%     
==========================================
  Files          59       59              
  Lines        7230     7230              
==========================================
+ Hits         5578     5589      +11     
+ Misses       1360     1352       -8     
+ Partials      292      289       -3     
```


[see 4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/684/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/684?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
685,linux-foundation-easycla[bot],2023-04-12 19:40:26," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/685/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li>:white_check_mark: login: adriantam / name: Adrian Tam  (10a24b8b6d662fb5b493f9348259f5de2701cda0)</li><li><a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/685/#/?version=2' target='_blank'>:x:</a> - login: @step-security-bot / name: StepSecurity Bot . The commit (566fc6b99e7a5c706a5e144abce689763a13b45e) is not authorized under a signed CLA. <a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/685/#/?version=2' target='_blank'>Please click here to be authorized</a>. For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
685,codecov[bot],2023-04-12 19:53:21,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/685?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.10`** :tada:
> Comparison is base [(`8964418`)](https://codecov.io/gh/openfga/openfga/commit/89644183e4f9bf05cdc2c098c3ce258ca4eb89fc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58% compared to head [(`10a24b8`)](https://codecov.io/gh/openfga/openfga/pull/685?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.68%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #685      +/-   ##
==========================================
+ Coverage   77.58%   77.68%   +0.10%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
+ Hits         5514     5521       +7     
+ Misses       1312     1307       -5     
+ Partials      282      280       -2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/685/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/685?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
685,varunsh-coder,2023-04-12 19:57:11,@aaguiarz thanks for using app.stepsecurity.io! I am the maintainer of that project. Please let me know if you want the `StepSecurity Bot` account to sign the CLA. 
685,aaguiarz,2023-04-12 19:59:59,"Thanks @varunsh-coder , we probably won't apply the PR 'as is' as we don't fully understand it yet, but we are learning from it.

Thanks a lot for your work on app.stepsecurity.io!"
687,codecov[bot],2023-04-12 20:09:31,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/687?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.10`** :tada:
> Comparison is base [(`8964418`)](https://codecov.io/gh/openfga/openfga/commit/89644183e4f9bf05cdc2c098c3ce258ca4eb89fc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58% compared to head [(`5317b7e`)](https://codecov.io/gh/openfga/openfga/pull/687?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.68%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #687      +/-   ##
==========================================
+ Coverage   77.58%   77.68%   +0.10%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
+ Hits         5514     5521       +7     
+ Misses       1312     1307       -5     
+ Partials      282      280       -2     
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/687/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/687?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
688,codecov[bot],2023-04-12 20:59:50,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/688?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.05`** :warning:
> Comparison is base [(`84e7fd5`)](https://codecov.io/gh/openfga/openfga/commit/84e7fd535327d4bc835209df1e9a012947e83845?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.59% compared to head [(`006faeb`)](https://codecov.io/gh/openfga/openfga/pull/688?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #688      +/-   ##
==========================================
- Coverage   77.59%   77.54%   -0.05%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
- Hits         5515     5511       -4     
- Misses       1312     1314       +2     
- Partials      281      283       +2     
```


[see 2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/688/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/688?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
691,codecov[bot],2023-04-13 00:45:59,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/691?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`f0d14b7`)](https://codecov.io/gh/openfga/openfga/commit/f0d14b7047ff5c8130087c807efe36691424e4be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54% compared to head [(`68957cf`)](https://codecov.io/gh/openfga/openfga/pull/691?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.51%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #691      +/-   ##
==========================================
- Coverage   77.54%   77.51%   -0.02%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
- Hits         5511     5509       -2     
- Misses       1314     1316       +2     
  Partials      283      283              
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/691/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/691?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
692,codecov[bot],2023-04-14 20:04:55,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/692?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`f0d14b7`)](https://codecov.io/gh/openfga/openfga/commit/f0d14b7047ff5c8130087c807efe36691424e4be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54% compared to head [(`a9bde0f`)](https://codecov.io/gh/openfga/openfga/pull/692?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #692      +/-   ##
==========================================
+ Coverage   77.54%   77.58%   +0.05%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
+ Hits         5511     5514       +3     
+ Misses       1314     1312       -2     
+ Partials      283      282       -1     
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/692/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/692?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
207,miparnisari,2023-04-15 01:32:34,The updating of the readme in docker is failing (https://github.com/openfga/openfga/actions/runs/4703699881/jobs/8342503094) because our Docker access token also needs the `delete` scope. See  [here](https://github.com/peter-evans/dockerhub-description/issues/70#issuecomment-1506062493)
693,codecov[bot],2023-04-17 22:30:16,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/693?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`81ccee7`)](https://codecov.io/gh/openfga/openfga/commit/81ccee7601e6c7c5db6f87c02008d4230ebf72bd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54% compared to head [(`d376bcb`)](https://codecov.io/gh/openfga/openfga/pull/693?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #693      +/-   ##
==========================================
+ Coverage   77.54%   77.58%   +0.05%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
+ Hits         5511     5514       +3     
+ Misses       1315     1312       -3     
  Partials      282      282              
```


[see 3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/693/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/693?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
694,codecov[bot],2023-04-17 22:37:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/694?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`8f63415`)](https://app.codecov.io/gh/openfga/openfga/commit/8f634158d9bf147cc76fd6f8b0383bc33945fb5b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`d2bda07`)](https://app.codecov.io/gh/openfga/openfga/pull/694?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.25%.

> :exclamation: Current head d2bda07 differs from pull request most recent head 03b2848. Consider uploading reports for the commit 03b2848 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #694      +/-   ##
==========================================
- Coverage   78.26%   78.25%   -0.01%     
==========================================
  Files          59       59              
  Lines        7096     7096              
==========================================
- Hits         5553     5552       -1     
- Misses       1260     1261       +1     
  Partials      283      283              
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/694/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/694?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
695,codecov[bot],2023-04-18 00:52:49,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/695?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`63.64`**% and project coverage change: **`+0.50`** :tada:
> Comparison is base [(`008e4bd`)](https://codecov.io/gh/openfga/openfga/commit/008e4bd4ecabf672d0102be0a0ccdf13d28492e2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58% compared to head [(`5564d86`)](https://codecov.io/gh/openfga/openfga/pull/695?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.07%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #695      +/-   ##
==========================================
+ Coverage   77.58%   78.07%   +0.50%     
==========================================
  Files          59       59              
  Lines        7108     7117       +9     
==========================================
+ Hits         5514     5556      +42     
+ Misses       1312     1270      -42     
- Partials      282      291       +9     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/695?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://codecov.io/gh/openfga/openfga/pull/695?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `71.43% <63.64%> (+34.16%)` | :arrow_up: |

... and [5 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/695/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/695?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
696,linux-foundation-easycla[bot],2023-04-18 08:18:31,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: SpaceWhite / name: Vincent  (1e33d4bb0f209adca8f03cf7cf2256ca1c053bed, d528f92b1885369b1b2788d94811328676960806)</li></ul>"
697,codecov[bot],2023-04-18 11:16:02,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/697?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.11`** :warning:
> Comparison is base [(`b9e8ca5`)](https://codecov.io/gh/openfga/openfga/commit/b9e8ca57025008ec2db4984474bc76f590924461?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.65% compared to head [(`b7f4988`)](https://codecov.io/gh/openfga/openfga/pull/697?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #697      +/-   ##
==========================================
- Coverage   77.65%   77.54%   -0.11%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
- Hits         5519     5511       -8     
- Misses       1309     1314       +5     
- Partials      280      283       +3     
```


[see 4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/697/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/697?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
696,codecov[bot],2023-04-18 13:28:12,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/696?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`68.97`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`54b79ee`)](https://app.codecov.io/gh/openfga/openfga/commit/54b79ee7b424f8bba29d22daa9a6d43df3c4c92c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.06% compared to head [(`ef79f99`)](https://app.codecov.io/gh/openfga/openfga/pull/696?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.06%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #696      +/-   ##
==========================================
+ Coverage   78.06%   78.06%   +0.01%     
==========================================
  Files          59       59              
  Lines        7098     7112      +14     
==========================================
+ Hits         5540     5551      +11     
- Misses       1271     1273       +2     
- Partials      287      288       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/696?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/696?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `64.21% <68.97%> (+1.81%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/696/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/696?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
698,codecov[bot],2023-04-18 14:22:55,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/698?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.12`** :warning:
> Comparison is base [(`3c6c096`)](https://codecov.io/gh/openfga/openfga/commit/3c6c096f55c51b8dfc5830d68efe56c99e61df3d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.65% compared to head [(`c5b7288`)](https://codecov.io/gh/openfga/openfga/pull/698?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.52%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #698      +/-   ##
==========================================
- Coverage   77.65%   77.52%   -0.12%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
- Hits         5519     5510       -9     
- Misses       1309     1315       +6     
- Partials      280      283       +3     
```


[see 5 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/698/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/698?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
207,miparnisari,2023-04-18 19:51:35,Fixed by adding the missing scope to the Docker token
686,rhamzeh,2023-04-18 20:12:17,"Thanks for asking @xXAvoraXx 

Can you elaborate more?

You mention that:
> The listobject returns with the permission list associated with nearly 100 users
ListObjects generally returns the list of objects that a particular user has a certain relation to. Do you mean to say that you are getting the list of users that a user can access?

Something like the below?
```js
ListObjects({
  user: ""user:anna"",
  relation: "" can_view"",
  type: ""user""
})
```

And that it is returning 100 objects of type user?

Or do you mean to say that you are running 100 ListObjects for 100 different users?

Can you also share how many components there are? Are they dynamic or do you know their IDs beforehand? Can you also share a bit the request you are making?

 "
699,linux-foundation-easycla[bot],2023-04-19 08:27:34,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: aaguiarz / name: Andrés Aguiar  (512082503e4c91633574b873bcd8f7413d5af170)</li><li>:white_check_mark: login: rhamzeh / name: Raghd Hamzeh  (512082503e4c91633574b873bcd8f7413d5af170)</li></ul>"
699,codecov[bot],2023-04-19 13:40:04,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/699?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`ead6cea`)](https://codecov.io/gh/openfga/openfga/commit/ead6ceacfa6ee83248c306d56c2b3b451d66894d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.54% compared to head [(`5120825`)](https://codecov.io/gh/openfga/openfga/pull/699?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.58%.

> :exclamation: Current head 5120825 differs from pull request most recent head 8395b24. Consider uploading reports for the commit 8395b24 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #699      +/-   ##
==========================================
+ Coverage   77.54%   77.58%   +0.05%     
==========================================
  Files          59       59              
  Lines        7108     7108              
==========================================
+ Hits         5511     5514       +3     
+ Misses       1314     1312       -2     
+ Partials      283      282       -1     
```


[see 1 file with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/699/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/699?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
700,velmohan,2023-04-19 14:58:48,I see the same error is mentioned in the following issue but they are not related I believe because by default TLS is disabled and I still get the error https://github.com/openfga/openfga/issues/640
700,rhamzeh,2023-04-19 15:04:05,Are you sure docker is pulling correctly? The latest version of OpenFGA is v1.0.1 not v0.3.7
700,velmohan,2023-04-19 15:49:49,"Thanks @rhamzeh . I just tried getting v1.0.1 specifically. I am still getting the same error. 

I just found out the error does not occur if I disable http (`--http-enabled=false --playground-enabled=false`). Is there any way to figure out what is the problem with enabling http?

The issue seems to be here: https://github.com/openfga/openfga/blob/main/cmd/run/run.go#L687

"
654,miparnisari,2023-04-20 00:14:42,Released in [v0.4.3](https://github.com/openfga/openfga/releases/tag/v0.4.3).
701,codecov[bot],2023-04-20 00:34:30,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/701?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.13`** :tada:
> Comparison is base [(`1179796`)](https://codecov.io/gh/openfga/openfga/commit/11797960cc3e3040785d5f19f02c1d786d9a3f97?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.07% compared to head [(`41df2fb`)](https://codecov.io/gh/openfga/openfga/pull/701?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.20%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #701      +/-   ##
==========================================
+ Coverage   78.07%   78.20%   +0.13%     
==========================================
  Files          59       59              
  Lines        7117     7117              
==========================================
+ Hits         5556     5565       +9     
+ Misses       1270     1263       -7     
+ Partials      291      289       -2     
```


[see 4 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/701/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/701?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
700,velmohan,2023-04-20 09:28:41,The issue was caused by my local proxy settings. Fixing that solved the issue. 
700,aaguiarz,2023-04-20 09:30:08,"@velmohan That's great to hear. Can you expand more on how the proxy was configured and how you fixed it? 

We've seen other users reporting this error and it was quite hard for us to help them."
686,xXAvoraXx,2023-04-20 11:56:28,"For example, we have a react application on the front end. Here, I keep the components that the user can and cannot see on the screen with openfga. In order to do this, I make a request to the openfga listobjects api via the backend of our application after the user has logged in. This request time takes about 13-14 seconds, and this time gets longer every time a new user joins the system. I reduce these times with redis, but this is not the right approach.

As an idea, instead of getting all the privileges that the user has from the openfga api after login, can the client connect directly to the openfga api without a backend? There may be security issues this time around.

For example, while a component is rendering, it makes a request to the openfga api, can the user see this component or not? but if there are 50 components on the page, this means that 50 of them will request at the same time."
686,rhamzeh,2023-04-20 13:02:54,"For 50 objects, if you know the IDs of the objects beforehand, I would recommend using `BatchCheck`.

This is especially true for your case, where I know you have `and` and `but not` in your model, so `ListObjects` has sub-optimal performance (you corroborate that when you say it takes 13+ seconds).

I would suggest testing it, but `BatchCheck` should take much less than that time."
702,codecov[bot],2023-04-20 20:16:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`ad4b31f`)](https://app.codecov.io/gh/openfga/openfga/commit/ad4b31f1127a6028e442cc17ad83d8d3bf890199?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`8e36f05`)](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31%.
> Report is 150 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | 80.00% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #702      +/-   ##
==========================================
- Coverage   82.35%   82.31%   -0.03%     
==========================================
  Files          70       70              
  Lines        8212     8240      +28     
==========================================
+ Hits         6762     6782      +20     
- Misses       1144     1150       +6     
- Partials      306      308       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/702?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
705,codecov[bot],2023-04-21 01:23:52,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/705?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`c108f3c`)](https://codecov.io/gh/openfga/openfga/commit/c108f3c5142d3aa8a10909b9ee253d4a4151ea92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08% compared to head [(`39758a4`)](https://codecov.io/gh/openfga/openfga/pull/705?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08%.

> :exclamation: Current head 39758a4 differs from pull request most recent head c15b8d8. Consider uploading reports for the commit c15b8d8 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #705   +/-   ##
=======================================
  Coverage   78.08%   78.08%           
=======================================
  Files          59       59           
  Lines        7109     7109           
=======================================
  Hits         5550     5550           
  Misses       1268     1268           
  Partials      291      291           
```



Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/705?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
704,codecov[bot],2023-04-21 02:58:32,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/704?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.12`** :tada:
> Comparison is base [(`f3c97f1`)](https://codecov.io/gh/openfga/openfga/commit/f3c97f1d8868dcc66b9f23c81c7aa73d318445ca?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.99% compared to head [(`f6a72e6`)](https://codecov.io/gh/openfga/openfga/pull/704?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #704      +/-   ##
==========================================
+ Coverage   77.99%   78.10%   +0.12%     
==========================================
  Files          59       59              
  Lines        7030     7044      +14     
==========================================
+ Hits         5482     5501      +19     
+ Misses       1260     1257       -3     
+ Partials      288      286       -2     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/704?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://codecov.io/gh/openfga/openfga/pull/704?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.58% <100.00%> (+1.21%)` | :arrow_up: |

... and [5 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/704/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/704?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
708,rhamzeh,2023-04-21 03:49:24,"You do not need this. You can make the change in those PRs to add the relevant branch to the branches alongside main.

In that way it will run for those PRs, and you can remove that before merging, without forcing it to run on every branch."
706,rhamzeh,2023-04-21 03:51:19,"To have the tests run here, add in the relevant workflow, under branches alongside `main`: `feat-split-user-column-part2`"
710,linux-foundation-easycla[bot],2023-04-21 11:34:07,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: Himanshu372 / name: Himanshu Jagtap  (941edb67baf79308c2291aa2b496ff746647175a)</li></ul>"
690,Himanshu372,2023-04-21 12:29:22,Addressed this issue in the PR - https://github.com/openfga/openfga/pull/710
710,codecov[bot],2023-04-21 15:42:12,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`c108f3c`)](https://codecov.io/gh/openfga/openfga/commit/c108f3c5142d3aa8a10909b9ee253d4a4151ea92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08% compared to head [(`cbb9120`)](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.14%.

> :exclamation: Current head cbb9120 differs from pull request most recent head 430b825. Consider uploading reports for the commit 430b825 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #710      +/-   ##
==========================================
+ Coverage   78.08%   78.14%   +0.07%     
==========================================
  Files          59       59              
  Lines        7109     7113       +4     
==========================================
+ Hits         5550     5558       +8     
+ Misses       1268     1265       -3     
+ Partials      291      290       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/errors/errors.go](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `56.17% <ø> (ø)` | |
| [pkg/server/commands/write.go](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `85.00% <100.00%> (+0.63%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/710/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/710?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
709,codecov[bot],2023-04-21 16:28:23,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-1.24`** :warning:
> Comparison is base [(`54b79ee`)](https://codecov.io/gh/openfga/openfga/commit/54b79ee7b424f8bba29d22daa9a6d43df3c4c92c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.06% compared to head [(`1a895ed`)](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 76.81%.

> :exclamation: Current head 1a895ed differs from pull request most recent head 5c6b13f. Consider uploading reports for the commit 5c6b13f to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #709      +/-   ##
==========================================
- Coverage   78.06%   76.81%   -1.24%     
==========================================
  Files          59       60       +1     
  Lines        7098     7220     +122     
==========================================
+ Hits         5540     5545       +5     
- Misses       1271     1383     +112     
- Partials      287      292       +5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/update\_store.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy91cGRhdGVfc3RvcmUuZ28=) | `0.00% <0.00%> (ø)` | |
| [pkg/server/server.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `65.15% <0.00%> (-2.31%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `92.48% <0.00%> (-2.15%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `71.52% <0.00%> (-5.15%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `75.52% <0.00%> (-1.42%)` | :arrow_down: |
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <ø> (ø)` | |

... and [8 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/709/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/709?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
711,codecov[bot],2023-04-22 00:05:12,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`c108f3c`)](https://codecov.io/gh/openfga/openfga/commit/c108f3c5142d3aa8a10909b9ee253d4a4151ea92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08% compared to head [(`edca3d4`)](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #711      +/-   ##
==========================================
+ Coverage   78.08%   78.10%   +0.03%     
==========================================
  Files          59       59              
  Lines        7109     7114       +5     
==========================================
+ Hits         5550     5556       +6     
  Misses       1268     1268              
+ Partials      291      290       -1     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <ø> (ø)` | |
| [pkg/storage/context.go](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `81.09% <100.00%> (+2.96%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/711/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/711?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
706,codecov[bot],2023-04-22 00:24:06,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/706?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`a36f7ae`)](https://app.codecov.io/gh/openfga/openfga/commit/a36f7aeb9d1451e725664b6459fe8be7284af9bd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`a244f87`)](https://app.codecov.io/gh/openfga/openfga/pull/706?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.28%.
> Report is 30 commits behind head on feat-split-user-column.

> :exclamation: Current head a244f87 differs from pull request most recent head b1301f8. Consider uploading reports for the commit b1301f8 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@                    Coverage Diff                     @@
##           feat-split-user-column     #706      +/-   ##
==========================================================
- Coverage                   82.37%   82.28%   -0.09%     
==========================================================
  Files                          70       70              
  Lines                        8179     8197      +18     
==========================================================
+ Hits                         6737     6744       +7     
- Misses                       1137     1150      +13     
+ Partials                      305      303       -2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/706?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
681,Himanshu372,2023-04-22 07:11:03,Have a PR in draft for the above - https://github.com/openfga/openfga/pull/712
712,adriantam,2023-04-22 13:08:44,"@Himanshu372 - converted as draft for you.  Feel free to mark it as ""Ready for review"" when you are ready :) "
710,Himanshu372,2023-04-22 15:52:59,@adriantam Plz check the PR when you have time. Thanks
686,xXAvoraXx,2023-04-22 18:53:37,"> For 50 objects, if you know the IDs of the objects beforehand, I would recommend using `BatchCheck`.
> 
> This is especially true for your case, where I know you have `and` and `but not` in your model, so `ListObjects` has sub-optimal performance (you corroborate that when you say it takes 13+ seconds).
> 
> I would suggest testing it, but `BatchCheck` should take much less than that time.

Is it possible to update information on how to use BatchCheck here?
https://openfga.dev/api/service"
686,rhamzeh,2023-04-22 20:33:15,"`BatchCheck` is not an API method, it is just issuing parallel calls to the [`Check` API endpoint](https://openfga.dev/api/service#/Relationship%20Queries/Check).

The SDKs help you with that by handling parallelization and retries:
- [BatchCheck Docs in the JS SDK](https://github.com/openfga/js-sdk#batch-check)
- [BatchCheck Docs in the Go SDK](https://github.com/openfga/go-sdk#batch-check)
- [BatchCheck Docs in the .NET SDK](https://github.com/openfga/dotnet-sdk#batch-check)

It's not yet available in the Python SDK, but we're working on that."
686,xXAvoraXx,2023-04-24 12:23:55,"I will try instead of listobject,"
713,codecov[bot],2023-04-24 16:53:04,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.03`** :warning:
> Comparison is base [(`ff2a4c9`)](https://codecov.io/gh/openfga/openfga/commit/ff2a4c95144d2f7931b063697d2e2a567a3024e6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.05% compared to head [(`d951c87`)](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.01%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #713      +/-   ##
==========================================
- Coverage   78.05%   78.01%   -0.03%     
==========================================
  Files          59       59              
  Lines        7114     7030      -84     
==========================================
- Hits         5552     5484      -68     
+ Misses       1270     1259      -11     
+ Partials      292      287       -5     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/caching/caching.go](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY2FjaGluZy9jYWNoaW5nLmdv) | `100.00% <ø> (+17.15%)` | :arrow_up: |
| [pkg/storage/memory/memory.go](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.63% <ø> (+0.34%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.17% <ø> (-0.39%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.07% <ø> (-0.33%)` | :arrow_down: |
| [pkg/storage/storage.go](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <ø> (ø)` | |

... and [2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/713/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/713?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
651,kdubb,2023-04-24 22:18:29,@jon-whit Any update on this? I can help out more if needed.
651,jon-whit,2023-04-25 15:52:42,"> @jon-whit Any update on this? I can help out more if needed.

👋 @kdubb 

In an earlier comment you mentioned
> As written this PR treats the explicit username and password as individual overrides. If either is provided it overrides the corresponding parameter provided in the connection URI. Personally, I don't find this ambiguous although I can understand your point.

I worked on getting this in the week before last and noticed that the current implementation behavior doesn't behave as described above with certain combinations. The behavior is exhibiting the concerns that I had to begin with. For example,

```shell
# specify password as env variable, but username in uri

export OPENFGA_DATASTORE_PASSWORD=mypassword
./openfga run --datastore-engine=postgres --datastore-uri=""postgres://postgres@localhost:5432/postgres""
```
the current code tries to connect with `postgres://:mypassword@localhost:5432/postgres`, which is misleading.

```shell
# specify username as env variable, but password in uri

export OPENFGA_DATASTORE_USERNAME=myusername
./openfga run --datastore-engine=postgres --datastore-uri=""postgres://:mypassword@localhost:5432/postgres""
```
the current code tries to connect with `postgres://myusername:@localhost:5432/postgres`, and this was misleading. I expected it to merge the username and password based on the two provided credential sources.

As a developer that pulled down this code and tried to run the server, it wasn't clear what the behavior should have been, and it remains a challenge to wire up the credentials properly. These nuances concern me. I'm working on ironing out these nuances.

It seems the issue is because the default zero value for the `--datastore-password` is an empty string """", and so the pointer is non-nil and therefore we always try to use the value provided for the `--datastore-password`. The code needs to be changed to pass `nil` if that flag is unset altogether. The only time it should propagate a non-nil value is if the flag is explicitly set. I just need to change it to do that, but that's surprisingly challenging given that pflags don't support nullable values, and so it's hard to distinguish between an uprovided value vs a value provided with a zero value (e.g. empty string). It's possible developers don't specify a database password, and so an empty database password string may be acceptable (although it would be rare)."
714,jon-whit,2023-04-25 17:24:33,#690 is part of this larger body of work.
651,jon-whit,2023-04-25 18:03:11,"@kdubb alright, it seems I've fixed the issue by treating config values more idiomatically. Flags, env variables, and config values should treat default/zero values as defaults if unprovided.

Now the configs override correctly."
651,kdubb,2023-04-25 18:04:02,Wahoo!
651,codecov[bot],2023-04-25 18:10:30,"## [Codecov](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`52.73`**% and project coverage change: **`-0.10`** :warning:
> Comparison is base [(`5c60d9d`)](https://codecov.io/gh/openfga/openfga/commit/5c60d9dccf68f495d1cb1df322ce81ba8207ecda?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.14% compared to head [(`556f835`)](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.04%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #651      +/-   ##
==========================================
- Coverage   78.14%   78.04%   -0.10%     
==========================================
  Files          59       59              
  Lines        7044     7098      +54     
==========================================
+ Hits         5504     5539      +35     
- Misses       1255     1271      +16     
- Partials      285      288       +3     
```


| [Impacted Files](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/storage/postgres/postgres.go](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `76.95% <37.50%> (-1.63%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.68% <76.93%> (+0.01%)` | :arrow_up: |
| [cmd/run/run.go](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.80% <100.00%> (+0.56%)` | :arrow_up: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `84.65% <100.00%> (+1.93%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://codecov.io/gh/openfga/openfga/pull/651/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)

</details>

[:umbrella: View full report in Codecov by Sentry](https://codecov.io/gh/openfga/openfga/pull/651?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
709,linux-foundation-easycla[bot],2023-04-27 07:23:31,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: andreadistefano / name: Andrea Di Stefano  (d5a96dcd54662d01fa4cf5025d6e5189f5056672, 1a895edfed4d79124a370421b434bb04dcb1076c, 8e24c67ac6b1dbbdc95b0530d0ce598c8be3507f, 5c6b13f01fc081f01f633443dc57d6e649cf13e7)</li></ul>"
716,codecov[bot],2023-04-27 17:19:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/716?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`54b79ee`)](https://app.codecov.io/gh/openfga/openfga/commit/54b79ee7b424f8bba29d22daa9a6d43df3c4c92c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.06% compared to head [(`ba6744d`)](https://app.codecov.io/gh/openfga/openfga/pull/716?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.04%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #716      +/-   ##
==========================================
- Coverage   78.06%   78.04%   -0.01%     
==========================================
  Files          59       59              
  Lines        7098     7098              
==========================================
- Hits         5540     5539       -1     
  Misses       1271     1271              
- Partials      287      288       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/716/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/716?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
696,jon-whit,2023-04-27 21:18:48,"If you change the tls cert and key and introduce a validation issue, then I would expect it to fail serving requests 🤔 . Right now it doesn't, which seems to suggest it's not reloading. 

```
./openfga run --grpc-tls-enabled --grpc-tls-cert ./certs/tls.crt --grpc-tls-key ./certs/tls.key --http-enabled=false --playground-enabled=false

echo ""blah"" > certs/tls.crt

# still serves the request fine ??
grpcurl -insecure -cert ./certs/tls.crt -key ./certs/tls.key -use-reflection -d '{""name"": ""openfga-demo""}' localhost:8081 openfga.v1.OpenFGAService/CreateStore
```"
710,linux-foundation-easycla[bot],2023-04-30 07:36:03," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/710/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-missing-id.svg"" alt=""CLA Missing ID"" align=""left"" height=""28"" width=""328""></a> <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/710/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li>:white_check_mark: login: Himanshu372 / name: Himanshu Jagtap  (941edb67baf79308c2291aa2b496ff746647175a, ffb1bba1d5ee512d4d9568a7823da32bfdfa9249, cbb912059b9511891b7ad221e3b5fcaf48fb3446, 430b8258329d96dde79adf56b591f835cbde1191)</li><li> :x: The commit (779127c1ae590df71e1af13ec45cc654eda39f19). This user is missing the User's ID, preventing the EasyCLA check. <a href='https://help.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user' target='_blank'>Consult GitHub Help</a> to resolve.For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
710,rhamzeh,2023-05-01 18:58:27,"Hey @Himanshu372 - we've been discussing this internally, and we have a few thoughts.

We are thinking of approaching this in a different way: By introducing a foreign key where StoreID is used.

This includes:
- [ ] Creating a migration script that would create stores if they do not already exist for the distinct store_ids in the authorization models table, with a the store name being an empty string. An N+1 would be if we set the `created_at` and `updated_at` to the earliest relevant entry in the authorization model table.
- [ ] Create a migration script that would make all the store_ids across all the tables foreign keys pointing to the Stores table
- [ ] Catch the DB errors to expose our own errors
- [ ] Tests to ensure that the writes are not succeeding (these can be the same tests you wrote)

Our main reasoning for this is that doing that extra DB call can adversely affect latency, and it is something we can get for free (or as close to it) by using the DB. Later on, we can extend it to add more logic, if needed. But it will get us most of the way there.

Apologies for the long discussion about this topic, and for the sudden change in direction from where you were going with this PR. We're just trying to make sure not to introduce anything that would affect latency without a lot of consideration, and adding a foreign key constraint seems the simplest way for now.

What do you think about this? Would you be willing to do that change in this PR instead of the work you did?"
723,codecov[bot],2023-05-01 19:12:38,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/723?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.09`** :tada:
> Comparison is base [(`3963674`)](https://app.codecov.io/gh/openfga/openfga/commit/39636749659e3c3c3ceb1e2e65fe49dc6914dc32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.96% compared to head [(`0615420`)](https://app.codecov.io/gh/openfga/openfga/pull/723?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.04%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #723      +/-   ##
==========================================
+ Coverage   77.96%   78.04%   +0.09%     
==========================================
  Files          59       59              
  Lines        7098     7098              
==========================================
+ Hits         5533     5539       +6     
+ Misses       1276     1271       -5     
+ Partials      289      288       -1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/723/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/723?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
720,codecov[bot],2023-05-01 19:12:59,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/720?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.08`** :tada:
> Comparison is base [(`9bd6426`)](https://app.codecov.io/gh/openfga/openfga/commit/9bd6426b493a4c28e07eac75eda823b8a7bf85c0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.98% compared to head [(`c0a881a`)](https://app.codecov.io/gh/openfga/openfga/pull/720?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.06%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #720      +/-   ##
==========================================
+ Coverage   77.98%   78.06%   +0.08%     
==========================================
  Files          59       59              
  Lines        7098     7098              
==========================================
+ Hits         5535     5540       +5     
+ Misses       1274     1271       -3     
+ Partials      289      287       -2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/720/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/720?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
721,codecov[bot],2023-05-01 19:13:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/721?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`041ef27`)](https://app.codecov.io/gh/openfga/openfga/commit/041ef275b296e32053fa65408e8cab2983df91a6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.91% compared to head [(`3aa1727`)](https://app.codecov.io/gh/openfga/openfga/pull/721?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.96%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #721      +/-   ##
==========================================
+ Coverage   77.91%   77.96%   +0.05%     
==========================================
  Files          59       59              
  Lines        7098     7098              
==========================================
+ Hits         5530     5533       +3     
+ Misses       1278     1276       -2     
+ Partials      290      289       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/721/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/721?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
710,Himanshu372,2023-05-02 13:48:26,"@rhamzeh Hmm, so for latency, we are saying, we'll introduce FK constraints on tables themselves. I can take this up, but it depends on the priority/timeline of this task. 

I'll take a bit of time, as I may need to look around a bit. Let me know your thoughts. Thanks"
712,Himanshu372,2023-05-02 17:51:19,@adriantam @jon-whit  Can you plz review now? PR is ready for review. Thanks 
725,codecov[bot],2023-05-03 05:16:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/725?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.12`** :tada:
> Comparison is base [(`59a93b4`)](https://app.codecov.io/gh/openfga/openfga/commit/59a93b4c0422d9e2b5f1b105093f75c965e8574e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.04% compared to head [(`17e14cf`)](https://app.codecov.io/gh/openfga/openfga/pull/725?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.16%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #725      +/-   ##
==========================================
+ Coverage   78.04%   78.16%   +0.12%     
==========================================
  Files          59       59              
  Lines        7098     7100       +2     
==========================================
+ Hits         5539     5549      +10     
+ Misses       1272     1266       -6     
+ Partials      287      285       -2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/725?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/725?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `86.74% <100.00%> (+2.36%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/725/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/725?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
726,codecov[bot],2023-05-04 01:22:00,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/726?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`66e7d5b`)](https://app.codecov.io/gh/openfga/openfga/commit/66e7d5b8945d9f639dc3a159f0ed368e68ebc08e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.02% compared to head [(`1ea43d6`)](https://app.codecov.io/gh/openfga/openfga/pull/726?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.00%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #726      +/-   ##
==========================================
- Coverage   78.02%   78.00%   -0.01%     
==========================================
  Files          59       59              
  Lines        7100     7103       +3     
==========================================
+ Hits         5539     5540       +1     
- Misses       1273     1275       +2     
  Partials      288      288              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/726?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/726?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.34% <100.00%> (+0.06%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/726/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/726?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
712,Himanshu372,2023-05-05 08:21:39,@adriantam @jon-whit  Any feedback on this PR? 
727,aaguiarz,2023-05-07 15:58:30,"Thanks @ghstahl, just to confirm, are you using the Postgres storage adapter?"
727,ghstahl,2023-05-07 16:36:43,"Yes, Postgres.
```yaml
datastore:
  engine: postgres
  uri: postgres://postgres:password@postgresql:5432/openfga
authn:
  method: preshared
  preshared:
    keys: [""key1"", ""key2""]
```

this is my docker entry.
```yaml
  postgresql:
    <<: *default-service
    container_name: postgresql
    environment:
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      PGPORT: ${POSTGRES_PORT}
    image: postgres:14
    ports:
      - ${POSTGRES_PORT}:${POSTGRES_PORT}
    volumes:
      - ./config/postgres/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d
      - postgresql-data:/var/lib/postgresql/data
    healthcheck:
      test: [ ""CMD-SHELL"", ""pg_isready -U postgres"" ]
      interval: 5s
      timeout: 5s
      retries: 5
```"
727,jon-whit,2023-05-08 15:32:07,@ghstahl taking a look into this 👍 
727,jon-whit,2023-05-08 21:23:46,"@ghstahl I've pruned the model and relationship tuples down to a minimally working set that demonstrates the original issue. Here is the pruned model and relationship tuples that still demonstrate the problem.

```
model
  schema 1.1

type user

type permission
  relations
    define access: member from associated_role
    define associated_role: [role]

type role
  relations
    define associated_role_group: [role_group]
    define member: member from associated_role_group

type role_group
  relations
    define member: [user]
```

|   | object                                    | relation              | user                               |
|---|-------------------------------------------|-----------------------|------------------------------------|
| 1 | permission:destination.connector.org.read | associated_role       | role:admin                         |
| 2 | role:admin                                | associated_role_group | role_group:org.{{org_index}}/admin |
| 3 | role_group:org.{{org_index}}/admin        | member                | user:org.{{org_index}}.user.0      |

Observations:
* The only reason `user:org.0.user.0` has the `permission:destination.connector.org.read#access` relationship is because of the direct `role_group:org.0/admin#member` relationship (tuple # 3). If you remove this tuple then `user:org.0.user.0` no longer has the relationship, and in fact you will observe the same performance characteristics as the second check.
* The number of `role:admin#associated_role_group` relationships increase as you increase the number of organizations in the system. **This is the primary source of the degrading performance.**

Consider N to be the number of organizations in the system. With a large number of N you will have a large number of relationships of this form:

| object     | relation              | user                   |
|------------|-----------------------|------------------------|
| role:admin | associated_role_group | role_group:org.1/admin |
| ...        | ...                   | ...                    |
| role:admin | associated_role_group | role_group:org.N/admin |

Consequently, when evaluating the `role:admin#member` relationship, you will have to evaluate N relationships of the form `role_group:org.<X>/admin#member`, and this gets more costly the larger N is. This is because evaluating `X from Y` in a relationship definition requires lookup of the `Y` relationship (which can yield multiple objects) followed by the evaluation of the `X` relationship on each one of the objects found for `Y`. Given that `user:org.0.user.0` has a direct `role_group:org.0/admin#member` relationship, that evaluation path quickly short circuits and so evaluation of the N other relationships is unecessary (thus the performance doesn't degrade linearly with larger values of N). However, for `user:org.0.user.1` it cannot be proven that they do not have access until all N `role_group#member` relationships have been evaluated, and this is why performance gets worse for increasingly larger values of N.

I'll try to come up with a model that achieves the same functionality but without this side-effect, but I could use some assistance with what you're trying to express. It's not clear why every organization has a `role_group:org.<X>/admin` that is related back to a singular `role:admin` relationship. Could you elaborate a bit on what you are trying to achieve?"
727,ghstahl,2023-05-08 21:57:11,"I was trying to have a single role where I could add permissions in one place and every org would get it.  
i.e. add a new permission to the role:admin object.  

if I made the role unique.  i.e. role:{{org_id}}/admin vs as singleton role:admin, then it looks like I will get the performance I want.  The issue then would be what do I do if I want to update what permissions a role had.  So for 5K orgs I would have to updated all of them.

I would make that trade if there is no other choice.

## The reason behind role_group:{{org_id}}/admin

user:anne can be a member of org:a and org:b
user:anne is an admin of org:a
user:anne is an exlorer of org:b

I wanted to make sure that user:anne did not inadvertently get elevated permissions for an org she has not an admin in.  
Also I wanted an org admin to be able to create a new role_group that is custom.  i.e. role_group:{{org_id}}/my_cool_group and that role group was given unique role->permissions.  Then the admin could add only cool users to that role_roup.

"
722,dependabot[bot],2023-05-08 22:11:25,Superseded by #728.
719,dependabot[bot],2023-05-08 22:20:35,Superseded by #729.
727,ghstahl,2023-05-08 22:56:10,"I think the problem is all the way down at the permission object.
does user:anne have access to permission:readwrite.
permission:readwrite is singular and has a relationship to every role:{{org_id}}/admin (5K of them}}

The high level model is supposed to do this. 

a ```user``` only has a ```permission``` if they are in a ```role_group``` that carries that ```permission``` **AND**
the ```org``` has a ```plan``` that has a ```feature``` that has that same ```permission```.

So if there is a permission called ```permission:storage.read```, it has to be first in a feature called ```storage```.  The storage feature must be part of a ```plan``` which the ```org``` subscribes to.   Just because the org bought the plan, doesn't mean a user gets to use it.
The user has to be in a ```role_group``` that also carries that ```permission```.  

I think that this would become unmanageable if my permissions aren't singular, as well as features, etc."
727,ghstahl,2023-05-09 13:50:44,"Let me know if I have found myself in this situation: https://openfga.dev/docs/interacting/search-with-permissions
A top-down traversal of the graph where the user_id would find a false answer pretty quickly vs the bottom up traversal starting from the permission. 

I am starting to wonder if I need a shadow graph that has flattened the user/org/permission relationship after taking into account all the other constraints (plans, features) that the org has subscribed to.

My checks into that flattened user/org/permission graph would be very fast and would only have to be updated on change (user added to a role_group and an orgs plan/feature change).

something like this.
```
type flat_permission
  relations
    define associated_org: [org]
    define associated_user: [user]
    define access: member from  associated_org and  associated_user
```
where a tuple is unique.
```json
[
  {
    ""object"": ""flat_permission:{{org_id}}/destination.connector.org.read"",
    ""relation"": ""associated_user"",
    ""user"": ""user:org.0.user.0""
  },
  {
    ""object"": ""flat_permission:{{org_id}}/destination.connector.org.read"",
    ""relation"": ""associated_org"",
    ""user"": ""org:org.0""
  },
]
```

my check:
```json
{
  ""tuple_key"": {
		""object"": ""flat_permission:org.0/destination.connector.org.read"",
		""relation"": ""access"",
		""user"": ""user:org.0.user.0""
	},
	""contextual_tuples"": {
		""tuple_keys"": [{
				""object"": ""integrity:0"",
				""relation"": ""member_in_context"",
				""user"": ""user:org.0.user.0""
			},
			{
				""object"": ""org:org.0"",
				""relation"": ""user_in_context"",
				""user"": ""user:org.0.user.0""
			}
		]
	}
}
```

**UPDATE**: This approach works.  2-3ms per call
My big model is just there to record the relationship, but **NOT** to be used for permission checks.
"
729,jon-whit,2023-05-09 15:27:26,Supercedes #728 . Please close #728.
728,dependabot[bot],2023-05-09 15:28:08,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
729,codecov[bot],2023-05-09 15:36:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/729?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.06`** :tada:
> Comparison is base [(`59a93b4`)](https://app.codecov.io/gh/openfga/openfga/commit/59a93b4c0422d9e2b5f1b105093f75c965e8574e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.04% compared to head [(`ff7e5a7`)](https://app.codecov.io/gh/openfga/openfga/pull/729?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #729      +/-   ##
==========================================
+ Coverage   78.04%   78.10%   +0.06%     
==========================================
  Files          59       59              
  Lines        7098     7098              
==========================================
+ Hits         5539     5543       +4     
+ Misses       1272     1269       -3     
+ Partials      287      286       -1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/729/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/729?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
730,codecov[bot],2023-05-09 23:18:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/730?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`e58f444`)](https://app.codecov.io/gh/openfga/openfga/commit/e58f444e3b185fd7b919d002f01296412be3017d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08% compared to head [(`19e4bfb`)](https://app.codecov.io/gh/openfga/openfga/pull/730?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.15%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #730      +/-   ##
==========================================
+ Coverage   78.08%   78.15%   +0.07%     
==========================================
  Files          59       59              
  Lines        7103     7088      -15     
==========================================
- Hits         5546     5539       -7     
+ Misses       1270     1264       -6     
+ Partials      287      285       -2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/730?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/730?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `86.76% <100.00%> (+0.42%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/730/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/730?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
597,miparnisari,2023-05-10 00:47:31,This was solved by https://github.com/openfga/openfga/pull/389
731,codecov[bot],2023-05-10 01:27:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/731?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.07`** :warning:
> Comparison is base [(`66ef52c`)](https://app.codecov.io/gh/openfga/openfga/commit/66ef52c4ba021f2d4087553ff112126a67203f80?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.15% compared to head [(`e7c35a8`)](https://app.codecov.io/gh/openfga/openfga/pull/731?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.08%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #731      +/-   ##
==========================================
- Coverage   78.15%   78.08%   -0.07%     
==========================================
  Files          59       59              
  Lines        7088     7088              
==========================================
- Hits         5539     5534       -5     
- Misses       1264     1268       +4     
- Partials      285      286       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/731/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/731?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
732,codecov[bot],2023-05-10 16:25:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/732?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`6b70b06`)](https://app.codecov.io/gh/openfga/openfga/commit/6b70b06c3fe5d4b4c24fa378fbd5c92872615dc5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.05% compared to head [(`e3a07ba`)](https://app.codecov.io/gh/openfga/openfga/pull/732?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #732      +/-   ##
==========================================
+ Coverage   78.05%   78.12%   +0.07%     
==========================================
  Files          59       59              
  Lines        7088     7092       +4     
==========================================
+ Hits         5532     5540       +8     
+ Misses       1269     1267       -2     
+ Partials      287      285       -2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/732?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/732?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.71% <100.00%> (+1.40%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/732/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/732?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
733,codecov[bot],2023-05-11 00:30:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`85.72`**% and project coverage change: **`-0.10`** :warning:
> Comparison is base [(`6c5456d`)](https://app.codecov.io/gh/openfga/openfga/commit/6c5456d63a4191b4cb2ad3e3142ce03e03a33f6d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.22% compared to head [(`a3d7951`)](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #733      +/-   ##
==========================================
- Coverage   78.22%   78.12%   -0.10%     
==========================================
  Files          59       59              
  Lines        7092     7091       -1     
==========================================
- Hits         5547     5539       -8     
- Misses       1262     1267       +5     
- Partials      283      285       +2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.40% <ø> (-0.39%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.50% <92.31%> (-0.95%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/733/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/733?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
734,codecov[bot],2023-05-11 01:40:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/734?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`6c07880`)](https://app.codecov.io/gh/openfga/openfga/commit/6c07880bd9c8c9f732f5960b4933e90b54968cb6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.02% compared to head [(`0ccb258`)](https://app.codecov.io/gh/openfga/openfga/pull/734?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.05%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #734      +/-   ##
==========================================
+ Coverage   78.02%   78.05%   +0.03%     
==========================================
  Files          59       59              
  Lines        7088     7088              
==========================================
+ Hits         5530     5532       +2     
+ Misses       1271     1269       -2     
  Partials      287      287              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/734/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/734?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
734,adriantam,2023-05-11 13:28:28,Please also update description why we want to make this PR
735,codecov[bot],2023-05-11 17:25:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/735?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@bfdcbca`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

> :exclamation: Current head 8eaacaa differs from pull request most recent head 0d2d5bc. Consider uploading reports for the commit 0d2d5bc to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #735   +/-   ##
=======================================
  Coverage        ?   78.01%           
=======================================
  Files           ?       59           
  Lines           ?     7088           
  Branches        ?        0           
=======================================
  Hits            ?     5529           
  Misses          ?     1271           
  Partials        ?      288           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/735?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
738,codecov[bot],2023-05-11 20:24:50,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/738?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.21`** :warning:
> Comparison is base [(`bfdcbca`)](https://app.codecov.io/gh/openfga/openfga/commit/bfdcbcacdbf5708732fb546f7eeccecda04a5eb9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.22% compared to head [(`0e7fe1c`)](https://app.codecov.io/gh/openfga/openfga/pull/738?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.01%.

> :exclamation: Current head 0e7fe1c differs from pull request most recent head a013ed0. Consider uploading reports for the commit a013ed0 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #738      +/-   ##
==========================================
- Coverage   78.22%   78.01%   -0.21%     
==========================================
  Files          59       59              
  Lines        7088     7088              
==========================================
- Hits         5544     5529      -15     
- Misses       1261     1271      +10     
- Partials      283      288       +5     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/738/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/738?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
739,codecov[bot],2023-05-11 21:19:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/739?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`63144d9`)](https://app.codecov.io/gh/openfga/openfga/commit/63144d99196fa34dab6b783673a578b4209eda95?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.01% compared to head [(`5fb6e10`)](https://app.codecov.io/gh/openfga/openfga/pull/739?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.01%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #739   +/-   ##
=======================================
  Coverage   78.01%   78.01%           
=======================================
  Files          59       59           
  Lines        7088     7088           
=======================================
  Hits         5529     5529           
  Misses       1271     1271           
  Partials      288      288           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/739?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
739,adriantam,2023-05-11 21:57:12,Let's postpone it
740,rhamzeh,2023-05-12 13:41:49,"You don't need this, we turned this on yesterday (it does not need an actions file).

See: https://github.com/openfga/openfga/actions/runs/4952291295/jobs/8858397471"
741,codecov[bot],2023-05-12 14:19:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/741?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`63144d9`)](https://app.codecov.io/gh/openfga/openfga/commit/63144d99196fa34dab6b783673a578b4209eda95?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.01% compared to head [(`3f19e5e`)](https://app.codecov.io/gh/openfga/openfga/pull/741?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.05%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #741      +/-   ##
==========================================
+ Coverage   78.01%   78.05%   +0.05%     
==========================================
  Files          59       59              
  Lines        7088     7088              
==========================================
+ Hits         5529     5532       +3     
+ Misses       1271     1269       -2     
+ Partials      288      287       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/741/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/741?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
748,codecov[bot],2023-05-12 14:46:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/748?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.14`** :warning:
> Comparison is base [(`292721d`)](https://app.codecov.io/gh/openfga/openfga/commit/292721da16d214de37c4edf25852b4f5bda5b490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`30a53ab`)](https://app.codecov.io/gh/openfga/openfga/pull/748?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12%.

> :exclamation: Current head 30a53ab differs from pull request most recent head 4791303. Consider uploading reports for the commit 4791303 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #748      +/-   ##
==========================================
- Coverage   78.26%   78.12%   -0.14%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5549     5539      -10     
- Misses       1260     1267       +7     
- Partials      282      285       +3     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/748/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/748?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
745,codecov[bot],2023-05-12 14:47:07,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/745?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`d99e34b`)](https://app.codecov.io/gh/openfga/openfga/commit/d99e34b86ec3e02c533e74646e17266cc86ade7d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.19% compared to head [(`a6b83d5`)](https://app.codecov.io/gh/openfga/openfga/pull/745?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.22%.

> :exclamation: Current head a6b83d5 differs from pull request most recent head 0d0e261. Consider uploading reports for the commit 0d0e261 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #745      +/-   ##
==========================================
+ Coverage   78.19%   78.22%   +0.03%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
+ Hits         5544     5546       +2     
+ Misses       1263     1262       -1     
+ Partials      284      283       -1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/745/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/745?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
742,codecov[bot],2023-05-12 14:47:07,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/742?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`d99e34b`)](https://app.codecov.io/gh/openfga/openfga/commit/d99e34b86ec3e02c533e74646e17266cc86ade7d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.19% compared to head [(`e1f79d6`)](https://app.codecov.io/gh/openfga/openfga/pull/742?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.19%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #742   +/-   ##
=======================================
  Coverage   78.19%   78.19%           
=======================================
  Files          59       59           
  Lines        7091     7091           
=======================================
  Hits         5544     5544           
  Misses       1263     1263           
  Partials      284      284           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/742?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
744,codecov[bot],2023-05-12 14:47:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/744?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-78.11`** :warning:
> Comparison is base [(`af26305`)](https://app.codecov.io/gh/openfga/openfga/commit/af26305c3d74e2b1fa732c6cea88d338420ec4b7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12% compared to head [(`a6c4f67`)](https://app.codecov.io/gh/openfga/openfga/pull/744?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 0.00%.

> :exclamation: Current head a6c4f67 differs from pull request most recent head abfca3b. Consider uploading reports for the commit abfca3b to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff            @@
##             main   #744       +/-   ##
=========================================
- Coverage   78.12%      0   -78.11%     
=========================================
  Files          59      0       -59     
  Lines        7091      0     -7091     
=========================================
- Hits         5539      0     -5539     
+ Misses       1267      0     -1267     
+ Partials      285      0      -285     
```


[see 59 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/744/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/744?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
747,codecov[bot],2023-05-12 14:47:33,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/747?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.14`** :warning:
> Comparison is base [(`292721d`)](https://app.codecov.io/gh/openfga/openfga/commit/292721da16d214de37c4edf25852b4f5bda5b490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`7dae197`)](https://app.codecov.io/gh/openfga/openfga/pull/747?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12%.

> :exclamation: Current head 7dae197 differs from pull request most recent head f30bc83. Consider uploading reports for the commit f30bc83 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #747      +/-   ##
==========================================
- Coverage   78.26%   78.12%   -0.14%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5549     5539      -10     
- Misses       1260     1267       +7     
- Partials      282      285       +3     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/747/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/747?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
736,harshabangi,2023-05-12 14:49:15,"Hi @jon-whit, I would like to work on this issue."
736,jon-whit,2023-05-12 16:00:45,@harshabangi lovely! We'll keep an eye out for the PR 😄 
745,rhamzeh,2023-05-12 16:25:57,@dependabot rebase
745,dependabot[bot],2023-05-12 16:26:00,"Looks like this PR is already up-to-date with main! If you'd still like to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`."
743,dependabot[bot],2023-05-12 16:26:04,Superseded by #752.
746,dependabot[bot],2023-05-12 16:26:05,Superseded by #753.
752,codecov[bot],2023-05-12 16:36:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/752?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.22`** :tada:
> Comparison is base [(`1be13a8`)](https://app.codecov.io/gh/openfga/openfga/commit/1be13a8a760060ac89e927acb82886dd9cd90d2a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12% compared to head [(`352657c`)](https://app.codecov.io/gh/openfga/openfga/pull/752?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.33%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #752      +/-   ##
==========================================
+ Coverage   78.12%   78.33%   +0.22%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
+ Hits         5539     5554      +15     
+ Misses       1267     1256      -11     
+ Partials      285      281       -4     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/752/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/752?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
753,codecov[bot],2023-05-12 16:37:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/753?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`711a276`)](https://app.codecov.io/gh/openfga/openfga/commit/711a27656171c7d9661c026ad8674a6afd2a1386?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.29% compared to head [(`e5aff88`)](https://app.codecov.io/gh/openfga/openfga/pull/753?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #753      +/-   ##
==========================================
- Coverage   78.29%   78.26%   -0.02%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5551     5549       -2     
- Misses       1258     1260       +2     
  Partials      282      282              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/753/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/753?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
752,rhamzeh,2023-05-12 16:46:38,@dependabot recreate
752,rhamzeh,2023-05-12 17:30:37,@dependabot recreate
754,linux-foundation-easycla[bot],2023-05-12 18:03:44," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/754/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li><a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/754/#/?version=2' target='_blank'>:x:</a> - login: @harsha-aqfer / name: harshabangi . The commit (ccc98f76e2effc183d69b57a2315aaa6df759c6c) is not authorized under a signed CLA. <a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/754/#/?version=2' target='_blank'>Please click here to be authorized</a>. For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li><li><a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/754/#/?version=2' target='_blank'>:x:</a> - login: @harshabangi / name: Harsha Vardhan . The commit (4b0b111dd20e420bf3ef2ffc8570fe6886a9e439) is not authorized under a signed CLA. <a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/754/#/?version=2' target='_blank'>Please click here to be authorized</a>. For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
744,rhamzeh,2023-05-12 18:03:45,@dependabot recreate
751,rhamzeh,2023-05-12 19:35:05,@dependabot rebase
751,codecov[bot],2023-05-12 19:45:39,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/751?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`1ff6376`)](https://app.codecov.io/gh/openfga/openfga/commit/1ff6376771c86db7889557f7cabc3dc9d0168a77?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.20% compared to head [(`dbd693f`)](https://app.codecov.io/gh/openfga/openfga/pull/751?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.25%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #751      +/-   ##
==========================================
+ Coverage   78.20%   78.25%   +0.05%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
+ Hits         5545     5548       +3     
+ Misses       1263     1260       -3     
  Partials      283      283              
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/751/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/751?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
749,dependabot[bot],2023-05-12 19:48:54,Superseded by #755.
750,codecov[bot],2023-05-12 19:57:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/750?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.14`** :warning:
> Comparison is base [(`292721d`)](https://app.codecov.io/gh/openfga/openfga/commit/292721da16d214de37c4edf25852b4f5bda5b490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`f625706`)](https://app.codecov.io/gh/openfga/openfga/pull/750?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.12%.

> :exclamation: Current head f625706 differs from pull request most recent head 31b2e94. Consider uploading reports for the commit 31b2e94 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #750      +/-   ##
==========================================
- Coverage   78.26%   78.12%   -0.14%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5549     5539      -10     
- Misses       1260     1267       +7     
- Partials      282      285       +3     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/750/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/750?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
755,codecov[bot],2023-05-12 19:57:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/755?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.16`** :tada:
> Comparison is base [(`7ab00c0`)](https://app.codecov.io/gh/openfga/openfga/commit/7ab00c06953add36d811bc9d436f1b305fb5b447?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31% compared to head [(`062b589`)](https://app.codecov.io/gh/openfga/openfga/pull/755?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.46%.

> :exclamation: Current head 062b589 differs from pull request most recent head e5a4fb8. Consider uploading reports for the commit e5a4fb8 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #755      +/-   ##
==========================================
+ Coverage   78.31%   78.46%   +0.16%     
==========================================
  Files          58       58              
  Lines        7089     7093       +4     
==========================================
+ Hits         5551     5565      +14     
+ Misses       1254     1247       -7     
+ Partials      284      281       -3     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/755/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/755?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
757,codecov[bot],2023-05-12 21:33:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`90.00`**% and project coverage change: **`+0.02`** :tada:
> Comparison is base [(`1031518`)](https://app.codecov.io/gh/openfga/openfga/commit/1031518e1305312f87702e021a73c5a918b41ba7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`3530d45`)](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.27%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #757      +/-   ##
==========================================
+ Coverage   78.26%   78.27%   +0.02%     
==========================================
  Files          59       59              
  Lines        7091     7096       +5     
==========================================
+ Hits         5549     5554       +5     
  Misses       1260     1260              
  Partials      282      282              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <0.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `81.90% <100.00%> (+0.40%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/757?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
758,codecov[bot],2023-05-13 00:27:42,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/758?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.14`** :warning:
> Comparison is base [(`2f3989d`)](https://app.codecov.io/gh/openfga/openfga/commit/2f3989def137634ac5009f93e94e91455853f6d3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.33% compared to head [(`34d23ec`)](https://app.codecov.io/gh/openfga/openfga/pull/758?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.19%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #758      +/-   ##
==========================================
- Coverage   78.33%   78.19%   -0.14%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5554     5544      -10     
- Misses       1256     1263       +7     
- Partials      281      284       +3     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/758?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/758?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.68% <ø> (ø)` | |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/758/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/758?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
759,linux-foundation-easycla[bot],2023-05-13 06:25:10,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: harshabangi / name: Harsha Vardhan  (3fe908c75918d7d2a6d720c76b3820c3049a62f4)</li></ul>"
759,codecov[bot],2023-05-15 16:00:31,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/759?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.11`** :warning:
> Comparison is base [(`292721d`)](https://app.codecov.io/gh/openfga/openfga/commit/292721da16d214de37c4edf25852b4f5bda5b490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.26% compared to head [(`f362661`)](https://app.codecov.io/gh/openfga/openfga/pull/759?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.15%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #759      +/-   ##
==========================================
- Coverage   78.26%   78.15%   -0.11%     
==========================================
  Files          59       59              
  Lines        7091     7091              
==========================================
- Hits         5549     5541       -8     
- Misses       1260     1265       +5     
- Partials      282      285       +3     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/759?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/caching/caching.go](https://app.codecov.io/gh/openfga/openfga/pull/759?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY2FjaGluZy9jYWNoaW5nLmdv) | `100.00% <100.00%> (ø)` | |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/759/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/759?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
760,codecov[bot],2023-05-15 20:27:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/760?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.07`** :warning:
> Comparison is base [(`579173e`)](https://app.codecov.io/gh/openfga/openfga/commit/579173e4b9d505295526dfeaee709d6b469e6395?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.93% compared to head [(`3fe56d2`)](https://app.codecov.io/gh/openfga/openfga/pull/760?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.86%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #760      +/-   ##
==========================================
- Coverage   77.93%   77.86%   -0.07%     
==========================================
  Files          58       58              
  Lines        7084     7084              
==========================================
- Hits         5520     5515       -5     
- Misses       1275     1279       +4     
- Partials      289      290       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/760/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/760?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
761,codecov[bot],2023-05-16 17:07:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/761?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.16`** :warning:
> Comparison is base [(`2780b2c`)](https://app.codecov.io/gh/openfga/openfga/commit/2780b2cbdacd01571c7df5f468b5d5f7c40430e0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.30% compared to head [(`b82e128`)](https://app.codecov.io/gh/openfga/openfga/pull/761?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #761      +/-   ##
==========================================
- Coverage   78.30%   78.13%   -0.16%     
==========================================
  Files          59       59              
  Lines        7096     7096              
==========================================
- Hits         5556     5544      -12     
- Misses       1258     1267       +9     
- Partials      282      285       +3     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/761/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/761?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
762,codecov[bot],2023-05-16 20:12:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/762?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`6fdf670`)](https://app.codecov.io/gh/openfga/openfga/commit/6fdf6701e0f8ac861333485f19d1e35dc4378c5d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.23% compared to head [(`678a7f8`)](https://app.codecov.io/gh/openfga/openfga/pull/762?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.24%.

> :exclamation: Current head 678a7f8 differs from pull request most recent head d86864a. Consider uploading reports for the commit d86864a to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #762      +/-   ##
==========================================
+ Coverage   78.23%   78.24%   +0.01%     
==========================================
  Files          59       59              
  Lines        7096     7098       +2     
==========================================
+ Hits         5551     5553       +2     
  Misses       1262     1262              
  Partials      283      283              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/762?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/762?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `82.06% <100.00%> (+0.16%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/762?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
762,rhamzeh,2023-05-16 20:29:06,Thanks for the steps! Can we add that as a test case so that we don't stumble upon this again?
763,codecov[bot],2023-05-16 22:36:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`97.83`**% and project coverage change: **`-0.31`** :warning:
> Comparison is base [(`0f1a5d0`)](https://app.codecov.io/gh/openfga/openfga/commit/0f1a5d06073efe0fbd33823cda56a6202864f816?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.24% compared to head [(`e03aa0a`)](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.93%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #763      +/-   ##
==========================================
- Coverage   78.24%   77.93%   -0.31%     
==========================================
  Files          59       58       -1     
  Lines        7098     7084      -14     
==========================================
- Hits         5553     5520      -33     
- Misses       1262     1275      +13     
- Partials      283      289       +6     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `0.00% <ø> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.48% <87.50%> (-1.27%)` | :arrow_down: |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.50% <100.00%> (+0.11%)` | :arrow_up: |
| [pkg/server/commands/expand.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `80.99% <100.00%> (ø)` | |
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.51% <100.00%> (-3.22%)` | :arrow_down: |
| [pkg/server/commands/write\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `73.34% <100.00%> (-0.86%)` | :arrow_down: |
| [pkg/server/commands/write\_authzmodel.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (-1.17%)` | :arrow_down: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `67.46% <100.00%> (ø)` | |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/763/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/763?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
756,codecov[bot],2023-05-16 22:46:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`84.91`**% and project coverage change: **`+0.28`** :tada:
> Comparison is base [(`6c857c0`)](https://app.codecov.io/gh/openfga/openfga/commit/6c857c0ee608c9926e37e577822cedc26397cf49?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.24% compared to head [(`3da774d`)](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.51%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #756      +/-   ##
==========================================
+ Coverage   78.24%   78.51%   +0.28%     
==========================================
  Files          58       59       +1     
  Lines        7080     7137      +57     
==========================================
+ Hits         5539     5603      +64     
+ Misses       1256     1254       -2     
+ Partials      285      280       -5     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.07% <ø> (-0.41%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `87.75% <68.75%> (-2.54%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `91.14% <73.69%> (-1.43%)` | :arrow_down: |
| [pkg/server/commands/write\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `72.42% <83.34%> (-0.91%)` | :arrow_down: |
| [pkg/typesystem/resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vcmVzb2x2ZXIuZ28=) | `86.12% <86.12%> (ø)` | |
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `83.34% <87.50%> (-0.17%)` | :arrow_down: |
| [pkg/server/commands/expand.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `81.12% <88.89%> (+0.14%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.82% <97.06%> (+2.15%)` | :arrow_up: |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `92.65% <100.00%> (+2.69%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/756/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/756?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
765,rhamzeh,2023-05-17 09:23:28,"Hi @wilerson 

It's on our roadmap: https://github.com/orgs/openfga/projects/1/views/1?pane=issue&itemId=25399898

You can also checkout an RFC contributed by the community and some of the discussions around it: https://github.com/openfga/rfcs/pull/10"
709,rhamzeh,2023-05-17 14:27:22,"👋🏽 Hey @andreadistefano ! Thank you for the progress you've made!

I just wanted to double check with you if you feel this is ready for review or you are still working on it? Anything we can help you with?"
696,rhamzeh,2023-05-17 14:29:39,"Hey @SpaceWhite

Just checking if you need any assistance from the team or any clarification from the reviewers on this"
755,jon-whit,2023-05-17 15:29:20,@dependabot rebase
696,jon-whit,2023-05-17 15:31:16,"> Hey @SpaceWhite
> 
> Just checking if you need any assistance from the team or any clarification from the reviewers on this

@rhamzeh The hold up here is primarily me. I was going to investigate why cert reloads don't cause failures if the reloaded cert is malformed. There seems to be some odd behavior there. I'm able to reload a cert that is malformed and the server still serves traffic with TLS 🤔  I just need some time to investigate. I've been occupied with other tasks recently."
337,aaguiarz,2023-05-17 17:52:30,This was added to our roadmap https://github.com/openfga/roadmap/issues/33
463,aaguiarz,2023-05-17 17:53:15,Added to the roadmap https://github.com/openfga/roadmap/issues/33
563,aaguiarz,2023-05-17 17:59:29,This was added to our roadmap https://github.com/openfga/roadmap/issues/34
182,aaguiarz,2023-05-17 18:05:26,This was added to the roadmap https://github.com/openfga/roadmap/issues/35
538,rhamzeh,2023-05-17 18:10:41,Closing for now until we come back to this
766,codecov[bot],2023-05-17 22:40:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/766?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`ffc1a6c`)](https://app.codecov.io/gh/openfga/openfga/commit/ffc1a6cd5bcb350d72d38054e08b8dea19c868aa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.90% compared to head [(`b259163`)](https://app.codecov.io/gh/openfga/openfga/pull/766?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.90%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #766   +/-   ##
=======================================
  Coverage   77.90%   77.90%           
=======================================
  Files          58       58           
  Lines        7084     7084           
=======================================
  Hits         5518     5518           
  Misses       1277     1277           
  Partials      289      289           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/766?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
767,rhamzeh,2023-05-18 06:37:23,"Hi @rajujnvgupta 

This field is not meant for usage and will always return an empty string.

The [API docs](https://openfga.dev/api/service#/Relationship%20Queries/Check) call it out as for internal use only.



![Imagepipe_28.jpg](https://github.com/openfga/openfga/assets/536147/c7bb5c8f-b6ea-4aed-bed2-5ed9a1ee5e0f)

"
406,wemod123,2023-05-19 09:20:46,"With above slutions, I close this issue.

Since the software is in production phase, I would expect there are not likely to having breaking changes or adding dramatic features like this, please re-open if you realy have."
406,aaguiarz,2023-05-19 10:40:01,"Thanks @wemod123, I'm linking this to the roadmap entry for ListUsers https://github.com/openfga/roadmap/issues/16

BTW, if you are using OpenFGA in production, we'd love to learn more about your use case. If you can reach out to me at andres.aguiar at openfga.dev it would be great :) "
769,codecov[bot],2023-05-19 18:56:46,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/769?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.30`** :tada:
> Comparison is base [(`17d4048`)](https://app.codecov.io/gh/openfga/openfga/commit/17d40485f5605edfeb164dec85d06bd84a4bec3b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 77.93% compared to head [(`7f85c6c`)](https://app.codecov.io/gh/openfga/openfga/pull/769?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.23%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #769      +/-   ##
==========================================
+ Coverage   77.93%   78.23%   +0.30%     
==========================================
  Files          58       58              
  Lines        7084     7080       -4     
==========================================
+ Hits         5520     5538      +18     
+ Misses       1275     1256      -19     
+ Partials      289      286       -3     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/769?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/769?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `67.97% <ø> (+0.51%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/769/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/769?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
770,codecov[bot],2023-05-19 19:02:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`a0d9381`)](https://app.codecov.io/gh/openfga/openfga/commit/a0d9381dc10934889222619e9b30c0745eab24db?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31% compared to head [(`f44ad44`)](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.28%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #770      +/-   ##
==========================================
- Coverage   78.31%   78.28%   -0.02%     
==========================================
  Files          58       58              
  Lines        7080     7080              
==========================================
- Hits         5544     5542       -2     
- Misses       1252     1254       +2     
  Partials      284      284              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `67.68% <ø> (-0.29%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `90.30% <100.00%> (+0.13%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/770/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/770?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
770,miparnisari,2023-05-19 19:12:53,"> Do we already have a test for the non-streamed ListObjects? If not, can we add one?

Yep: https://github.com/openfga/openfga/blob/a0d9381dc10934889222619e9b30c0745eab24db/pkg/server/server_test.go#L609-L621"
772,codecov[bot],2023-05-20 00:59:26,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/772?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`6c857c0`)](https://app.codecov.io/gh/openfga/openfga/commit/6c857c0ee608c9926e37e577822cedc26397cf49?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.24% compared to head [(`bcf376c`)](https://app.codecov.io/gh/openfga/openfga/pull/772?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.28%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #772      +/-   ##
==========================================
+ Coverage   78.24%   78.28%   +0.05%     
==========================================
  Files          58       58              
  Lines        7080     7080              
==========================================
+ Hits         5539     5542       +3     
+ Misses       1256     1254       -2     
+ Partials      285      284       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/772/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/772?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
764,harshabangi,2023-05-22 14:04:14,Hi @miparnisari Can I try this one?
755,jon-whit,2023-05-23 16:36:29,@dependabot rebase
773,jon-whit,2023-05-23 21:38:14,"> To make that simpler, we need to remove as much code as possible from run.go and make it so it's only about configuring it. The rest of the logic should be reusable by anyone looking to use openfga as a library.

Regarding the entrypoint of the standalone OpenFGA runtime (e.g. `cmd/run/run.go`), I'm not sure I agree that needs to change. However, I do agree that we can move some componentry that we depend on in the run entrypoint (middlewares etc..)  to the public `pkg` package, and this would allow for re-use elsewhere.

Using these shared components, developers can then use OpenFGA as an embedded library and expose the functionality as their own standalone server (e.g. create their own `cmd/run/run.go` file) with the embedded server and their own HTTP or gRPC service definitions that delegate to the RPC definitions of OpenFGA server core."
774,jon-whit,2023-05-25 15:15:05,"My vote here is we have `--datastore-conn-timeout` and `migration-timeout` (the total time to wait for the migration process). The default for `migration-timeout` should be no timeout (e.g. infinity), but the default for the `--datastore-conn-timeout` should remain as 1m like it is now 👍 "
776,codecov[bot],2023-05-25 16:49:04,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.04`** :tada:
> Comparison is base [(`685b2b6`)](https://app.codecov.io/gh/openfga/openfga/commit/685b2b6a8dd80785ea795a989de0a7251d257041?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.34% compared to head [(`56a3b73`)](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #776      +/-   ##
==========================================
+ Coverage   78.34%   78.38%   +0.04%     
==========================================
  Files          58       58              
  Lines        7086     7089       +3     
==========================================
+ Hits         5551     5556       +5     
+ Misses       1252     1250       -2     
  Partials      283      283              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUuZ28=) | `72.59% <100.00%> (+1.16%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.90% <100.00%> (-0.03%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/776/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/776?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
277,jon-whit,2023-05-25 20:00:53,"Working on this a bit on the side. Check out what I have so far

https://github.com/jon-whit/openfga-graphviz-gen"
707,codecov[bot],2023-05-25 21:58:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/707?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat-split-user-column-part2@b1301f8`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@                       Coverage Diff                       @@
##             feat-split-user-column-part2     #707   +/-   ##
===============================================================
  Coverage                                ?   82.42%           
===============================================================
  Files                                   ?       70           
  Lines                                   ?     8185           
  Branches                                ?        0           
===============================================================
  Hits                                    ?     6746           
  Misses                                  ?     1135           
  Partials                                ?      304           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/707?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
779,codecov[bot],2023-05-26 14:06:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`d3b5eec`)](https://app.codecov.io/gh/openfga/openfga/commit/d3b5eec530dd068057378a34b7f9c12f45fa9078?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.37% compared to head [(`e0c38ef`)](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #779      +/-   ##
==========================================
+ Coverage   78.37%   78.37%   +0.01%     
==========================================
  Files          58       58              
  Lines        7095     7086       -9     
==========================================
- Hits         5560     5553       -7     
+ Misses       1252     1251       -1     
+ Partials      283      282       -1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.57% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `90.79% <100.00%> (+0.50%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/779/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/779?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
778,rhamzeh,2023-05-26 17:02:49,"Hi @rajujnvgupta, what are you expecting the result to return?

Expand here is showing that the users who `can_view` `folder:note5` are `folder:note5#viewer` - `folder:note5#closed`. That is true regardless of whether you add: `""{user:raju, closed, folder:note3}""` or not (different note, different relation).

To see the change resulting from that tuple, you need to expand:
```
  ""tuple_key"": {
    ""object"": ""folder:note3"",
    ""relation"": ""closed""
  },
```

Note: Expand only expands a single level, you will have to call it recursively if you'd like to expand the full tree. e.g. in your case recursively expand:
- `Expand(relation=viewer, object=folder:note5)`
- `Expand(relation=closed, object=folder:note5)`"
782,codecov[bot],2023-05-30 22:57:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/782?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.05`** :warning:
> Comparison is base [(`793d297`)](https://app.codecov.io/gh/openfga/openfga/commit/793d297505a2e377cefdfe76c1df3e439f3661b5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.45% compared to head [(`b751426`)](https://app.codecov.io/gh/openfga/openfga/pull/782?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #782      +/-   ##
==========================================
- Coverage   78.45%   78.39%   -0.05%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
- Hits         5564     5560       -4     
- Misses       1247     1250       +3     
- Partials      282      283       +1     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/782/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/782?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
784,codecov[bot],2023-05-31 18:13:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/784?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`02fe32f`)](https://app.codecov.io/gh/openfga/openfga/commit/02fe32f95aaa4b9ffafb87b9423ec42ad6ff5db4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.32% compared to head [(`5291fe0`)](https://app.codecov.io/gh/openfga/openfga/pull/784?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.35%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #784      +/-   ##
==========================================
+ Coverage   78.32%   78.35%   +0.03%     
==========================================
  Files          58       58              
  Lines        7080     7080              
==========================================
+ Hits         5545     5547       +2     
+ Misses       1252     1250       -2     
  Partials      283      283              
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/784/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/784?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
712,jon-whit,2023-05-31 19:44:38,"@Himanshu372 after further consideration as maintainer team, we do not believe that adding prefix validation here brings much value, because the underlying database driver ultimately validates the connection and the uri provided to it. Postgres connection uris include a `postgres://` prefix, but the other connection uris (for mysql for example) do not. If, for example, we were to introduce SQLite it also does not require a prefix in the uri. 

Point is, the driver's have specific requirements for the format of the connection uris. The `--datastore-engine` flag determines what driver we'll use to interpret the connection uri, but the driver is responsible beyond that.

---
The changes that add the `DatastoreEngine` enums are nice. Would you mind submitting a seperate PR individually for those changes? And would you add a test to make sure the config parsing works for that enum type. I'm not sure if viper will parse the custom `DatastoreEngine` type. That may be problematic."
785,codecov[bot],2023-05-31 22:12:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.14`** :tada:
> Comparison is base [(`02fe32f`)](https://app.codecov.io/gh/openfga/openfga/commit/02fe32f95aaa4b9ffafb87b9423ec42ad6ff5db4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.32% compared to head [(`a8ff394`)](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.46%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #785      +/-   ##
==========================================
+ Coverage   78.32%   78.46%   +0.14%     
==========================================
  Files          58       58              
  Lines        7080     7093      +13     
==========================================
+ Hits         5545     5565      +20     
+ Misses       1252     1247       -5     
+ Partials      283      281       -2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `62.40% <100.00%> (+0.31%)` | :arrow_up: |
| [pkg/storage/memory/memory.go](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.73% <100.00%> (+0.10%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/785/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/785?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
786,codecov[bot],2023-06-01 19:36:27,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/786?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.09`** :tada:
> Comparison is base [(`0303db0`)](https://app.codecov.io/gh/openfga/openfga/commit/0303db067c36686e25ab27e847e3f795d7d60c09?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.38% compared to head [(`32e444d`)](https://app.codecov.io/gh/openfga/openfga/pull/786?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.46%.

> :exclamation: Current head 32e444d differs from pull request most recent head b4c7c83. Consider uploading reports for the commit b4c7c83 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #786      +/-   ##
==========================================
+ Coverage   78.38%   78.46%   +0.09%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
+ Hits         5559     5565       +6     
+ Misses       1251     1247       -4     
+ Partials      283      281       -2     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/786/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/786?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
787,codecov[bot],2023-06-01 19:36:49,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/787?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`a02a48c`)](https://app.codecov.io/gh/openfga/openfga/commit/a02a48cfc9df585b8c37853601da4bdb3a0d1118?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36% compared to head [(`b8794eb`)](https://app.codecov.io/gh/openfga/openfga/pull/787?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.32%.

> :exclamation: Current head b8794eb differs from pull request most recent head aef8e62. Consider uploading reports for the commit aef8e62 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #787      +/-   ##
==========================================
- Coverage   78.36%   78.32%   -0.04%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
- Hits         5558     5555       -3     
- Misses       1252     1254       +2     
- Partials      283      284       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/787/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/787?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
788,codecov[bot],2023-06-01 19:37:49,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/788?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`0303db0`)](https://app.codecov.io/gh/openfga/openfga/commit/0303db067c36686e25ab27e847e3f795d7d60c09?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.38% compared to head [(`df31a35`)](https://app.codecov.io/gh/openfga/openfga/pull/788?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36%.

> :exclamation: Current head df31a35 differs from pull request most recent head c9d4b0f. Consider uploading reports for the commit c9d4b0f to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #788      +/-   ##
==========================================
- Coverage   78.38%   78.36%   -0.01%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
- Hits         5559     5558       -1     
- Misses       1251     1252       +1     
  Partials      283      283              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/788/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/788?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
795,jon-whit,2023-06-01 20:49:03,@dependabot rebase
794,jon-whit,2023-06-01 20:55:05,@dependabot rebase
797,codecov[bot],2023-06-01 21:02:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`89.44`**% and project coverage change: **`+0.15`** :tada:
> Comparison is base [(`a989901`)](https://app.codecov.io/gh/openfga/openfga/commit/a989901713e12401af7d2b02c36235eebf24f933?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`055cc13`)](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.23%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #797      +/-   ##
==========================================
+ Coverage   81.08%   81.23%   +0.15%     
==========================================
  Files          61       61              
  Lines        7467     7621     +154     
==========================================
+ Hits         6054     6190     +136     
- Misses       1108     1117       +9     
- Partials      305      314       +9     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `84.77% <79.42%> (-3.11%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `89.78% <93.75%> (+1.18%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.80% <100.00%> (+0.23%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.78% <100.00%> (+1.53%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/797/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/797?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
793,jon-whit,2023-06-01 21:04:29,@dependabot rebase
792,codecov[bot],2023-06-01 21:09:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/792?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.06`** :tada:
> Comparison is base [(`a02a48c`)](https://app.codecov.io/gh/openfga/openfga/commit/a02a48cfc9df585b8c37853601da4bdb3a0d1118?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36% compared to head [(`46a5986`)](https://app.codecov.io/gh/openfga/openfga/pull/792?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #792      +/-   ##
==========================================
+ Coverage   78.36%   78.42%   +0.06%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
+ Hits         5558     5562       +4     
+ Misses       1252     1249       -3     
+ Partials      283      282       -1     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/792/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/792?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
793,codecov[bot],2023-06-01 21:15:39,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/793?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`a02a48c`)](https://app.codecov.io/gh/openfga/openfga/commit/a02a48cfc9df585b8c37853601da4bdb3a0d1118?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36% compared to head [(`a8a5ff7`)](https://app.codecov.io/gh/openfga/openfga/pull/793?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36%.

> :exclamation: Current head a8a5ff7 differs from pull request most recent head 39f275b. Consider uploading reports for the commit 39f275b to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #793   +/-   ##
=======================================
  Coverage   78.36%   78.36%           
=======================================
  Files          58       58           
  Lines        7093     7093           
=======================================
  Hits         5558     5558           
  Misses       1252     1252           
  Partials      283      283           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/793?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
798,jon-whit,2023-06-01 21:16:28,@dependabot rebase
792,jon-whit,2023-06-01 21:25:26,@dependabot rebase
789,codecov[bot],2023-06-01 21:33:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/789?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`a02a48c`)](https://app.codecov.io/gh/openfga/openfga/commit/a02a48cfc9df585b8c37853601da4bdb3a0d1118?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36% compared to head [(`9c28d74`)](https://app.codecov.io/gh/openfga/openfga/pull/789?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.32%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #789      +/-   ##
==========================================
- Coverage   78.36%   78.32%   -0.04%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
- Hits         5558     5555       -3     
- Misses       1252     1254       +2     
- Partials      283      284       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/789/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/789?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
790,codecov[bot],2023-06-01 21:38:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/790?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`a02a48c`)](https://app.codecov.io/gh/openfga/openfga/commit/a02a48cfc9df585b8c37853601da4bdb3a0d1118?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36% compared to head [(`e9b6a70`)](https://app.codecov.io/gh/openfga/openfga/pull/790?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.36%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #790   +/-   ##
=======================================
  Coverage   78.36%   78.36%           
=======================================
  Files          58       58           
  Lines        7093     7093           
=======================================
  Hits         5558     5558           
  Misses       1252     1252           
  Partials      283      283           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/790?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
793,jon-whit,2023-06-01 21:47:41,@dependabot rebase
790,jon-whit,2023-06-01 22:09:50,@dependabot rebase
797,jon-whit,2023-06-01 22:12:56,"- [x] todo(jon-whit) - I'd like to add metrics to the ListObjects `evaluate` handler that capture information regarding the resolution path of a ListObjects result. In particular, I'd like to add metrics indicating if a result is contained under a `RequiresFurtherEvalCondition` or a `NoFurtherEvalCondition`. This way we can track the ratio of results that required further evaluation versus those that are directly expanded and do not."
789,jon-whit,2023-06-01 22:45:13,@dependabot rebase
787,rhamzeh,2023-06-01 23:55:00,@dependabot rebase
712,Himanshu372,2023-06-02 03:09:35,"@jon-whit Thanks for replying. Sure, I can do a different PR with enum change. I am not sure about behaviour with viper, I can take a look and try. "
788,jon-whit,2023-06-02 16:28:28,@dependabot rebase
712,jon-whit,2023-06-02 16:32:18,"> @jon-whit Thanks for replying. Sure, I can do a different PR with enum change. I am not sure about behaviour with viper, I can take a look and try.

@Himanshu372 Awesome! Thank you very much. Closing this for now 👍 "
786,jon-whit,2023-06-02 16:39:07,@dependabot rebase
791,jon-whit,2023-06-02 16:46:26,@dependabot rebase
791,codecov[bot],2023-06-02 17:07:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/791?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`8971b3d`)](https://app.codecov.io/gh/openfga/openfga/commit/8971b3d150612c564f06a347205a0827ce667789?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.39% compared to head [(`04709db`)](https://app.codecov.io/gh/openfga/openfga/pull/791?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.35%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #791      +/-   ##
==========================================
- Coverage   78.39%   78.35%   -0.04%     
==========================================
  Files          58       58              
  Lines        7093     7093              
==========================================
- Hits         5560     5557       -3     
- Misses       1250     1252       +2     
- Partials      283      284       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/791/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/791?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
801,jon-whit,2023-06-02 22:21:56,"https://github.com/openfga/openfga/blob/main/pkg/typesystem/typesystem.go#L784-L786 is the offending code.

The code block between L784-L786 needs to recurse in some form to see if there is at least 1 or more entrypoints/ingresses that could lead to an evaluation path. Put differently, at least one of the relations referenced in the rewrite rule must expand concretely to one or more object types, instead of a userset. For example,

Example 1
```
// invalid because 'X#viewer' expands to a non-terminal set
type X
  relations
    define viewer: [X#viewer]
```

Example 2
```
// valid because 'X#editor' expands to a terminal object of type Y
type Y

type X
  relations
    define viewer: [X#viewer] or editor
    define editor: [Y]
```"
802,codecov[bot],2023-06-02 23:13:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/802?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`2c0a0f5`)](https://app.codecov.io/gh/openfga/openfga/commit/2c0a0f5525902edb20caef67a37767a1b146f90b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.39% compared to head [(`e053cc7`)](https://app.codecov.io/gh/openfga/openfga/pull/802?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.40%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #802      +/-   ##
==========================================
+ Coverage   78.39%   78.40%   +0.01%     
==========================================
  Files          58       58              
  Lines        7093     7095       +2     
==========================================
+ Hits         5560     5562       +2     
  Misses       1250     1250              
  Partials      283      283              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/802?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/802?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.94% <100.00%> (+0.04%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/802?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
804,jon-whit,2023-06-05 19:49:48,"Here are a few examples (using Craig Pastro's parser) of invalid models that should be enforced, but currently are not:

```
type user

type document
  relations
    define restricted: [user] as self
    define editor: [user] as self
    define viewer: [document#viewer] as (self or editor) but not restricted
```

```
type user

type document
  relations
    define allowed: [user] as self
    define editor: [user] as self
    define viewer: [document#viewer] as (self or editor) and allowed
```

Basically, if there is a compound rewrite (nested expressions) joined by at least one or more intersections or exclusions, then we're not currently handling the validation cases around this properly."
775,jon-whit,2023-06-05 20:33:33,"Yes, and preferably we would move the commands tests largely into the functional tests. That way we're not duplicating tests between the two. We should still be able to hit the coverage we want in the commands tests."
338,lorenlew,2023-06-06 06:39:53,"Hi, looks like same issue with the latest docker image. Any updates about plans or timeline since November 2022? 

**Update:**
I made it working locally on windows, the problem was that some local services (docker desktop kubernetes things) used the http://127.0.0.1:8080/ (figured out with ""netstat"")

This resulted in ""http://127.0.0.1:8080/stores"" NOT_FOUND when opening the playground (although ""localhost:8080/stores"" worked well).

I could not use other ports in the ""docker run"" command, as the CORS rule in the openFGA backend has a hardcoded URL http://127.0.0.1:8080)

After freeing the port 8080, it works ok.
"
806,codecov[bot],2023-06-06 23:21:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/806?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`74dc4cc`)](https://app.codecov.io/gh/openfga/openfga/commit/74dc4ccadfd8722228659f9086dd8b2f683902b3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.54% compared to head [(`b7a5283`)](https://app.codecov.io/gh/openfga/openfga/pull/806?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.54%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #806   +/-   ##
=======================================
  Coverage   82.54%   82.54%           
=======================================
  Files          67       67           
  Lines        7960     7960           
=======================================
  Hits         6570     6570           
  Misses       1085     1085           
  Partials      305      305           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/806?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
807,codecov[bot],2023-06-07 15:51:06,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/807?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.02`** :warning:
> Comparison is base [(`685b2b6`)](https://app.codecov.io/gh/openfga/openfga/commit/685b2b6a8dd80785ea795a989de0a7251d257041?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.34% compared to head [(`ad0ae72`)](https://app.codecov.io/gh/openfga/openfga/pull/807?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.32%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #807      +/-   ##
==========================================
- Coverage   78.34%   78.32%   -0.02%     
==========================================
  Files          58       58              
  Lines        7086     7084       -2     
==========================================
- Hits         5551     5548       -3     
  Misses       1252     1252              
- Partials      283      284       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/807?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/807?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.90% <100.00%> (-0.03%)` | :arrow_down: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/807/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/807?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
803,guipace,2023-06-07 17:21:18,I'm also interested in this use case. I'd like a group of users to have access to all objects of a type. Is this possible currently?
803,aaguiarz,2023-06-07 17:36:26,"@guipace 

You should be able to model that with OpenFGA currently, e.g. the example below, all admins can read all the documents from a specific organization:

```
model
  schema 1.1
type user
type organization
  relations
    define admins : [user]
    
type document
  relations
    define parent: [organization]
    define can_read: admins from parent
```

"
803,aaguiarz,2023-06-07 18:02:57,"@xXAvoraXx 

I think you can model that in a similar way:

```
model
  schema 1.1
type user
type organization
  relations
    define member: [user]
    define admin: [user]
    
type action
  relations
    define parent: [organization]
    define access: admin from parent
        
type component
  relations
    define parent: [organization]
    define access: admin from parent
```

If you want John to have permissions to access every component/action for the contoso organization, you'd add it to the contoso admin group.

"
803,guipace,2023-06-07 19:36:09,"@aaguiarz thanks for the quick response. I currently have a very similar model to what you proposed. I guess my question here is if there's a way to avoid having to create tuples for each individual document (or action / component in @xXAvoraXx 's case)?

If I create the following tuple as follows:
```
User = user:john
Relation = admin
Object = organization:my_org
```

I still have to create a tuple defining the organization to each document separately if I want john as an admin to have access to each document:
```
User = organization:my_org
Relation = parent
Object = document:1
```

Is there a way to wildcard the document so it applies to all documents without having to explicitly define it each time?
i.e. a many-to-many relationship so that one tuple defines that all organization admins have access to all documents.



"
803,aaguiarz,2023-06-07 19:44:44,"
If I understand correctly, in the context of the model I described above, you want to get a positive result when you call `check(user:john, can_read, document:1)` without adding a tuple for `document:1`? 

Wouldn't that be equivalent to add the permission at the organization level?

```
type organization
  relations
    define member: [user]
    define admin: [user] 
    define can_read_all_documents : admin
```

That would imply you calling check on the organization, not the document `check(user:john, can_read_all_documents, org:1)`


"
803,guipace,2023-06-07 20:55:12,"Hum, I guess that's one way of going about it. I'm new to ReBAC and OpenFGA.

Yes, your assumption is correct. The idea is that the consuming application wouldn't need to know what org a user belongs to, just perhaps their ID and OpenFGA would infer the relationship down to the document level."
803,xXAvoraXx,2023-06-08 16:18:55,"What I'm trying to do is actually:

All actions on the backend side correspond to a type called action in an openfga service.

I divided the frontend side into three,
route: Path extensions that represent pages.
component: Components inside the pages. Each component can have a route parent or component parent.

action: Represents the actions on the backend side.

Access relation tuples are added to the users for the relevant ""route, component and action"", so we have full control of what can and cannot be seen on the frontend.


Now when I give an action tuple to a user, I can check if that user has the tuple for that action. However, in order for some components to work, the user must have permission on the relevant action type. But the problem here is that it is unnecessary to allow 2 times for both the component and the action. To solve this, I made a relationship between component and action, if a user has permission on the related component type, they can access this action type.

But the problem here is that while running the check query on the backend, I check whether the user has access to the relevant action. If it does not have permission to the Action type, I have made the necessary connection to the component type, but I cannot make any progress because I am using the context structure here.

You can access the relevant schema from the link below.
https://play.fga.dev/stores/create/?id=01H16SNVJQHE8B3BMZ9FH5J405

We provide automation solutions to many businesses. After logging in, businesses manage their own businesses from a panel screen.

System administrators design a plan and define action, component, route types in the plan. It must be defined once in the system.

- Businesses subscribe to a plan.
- Users become members of the business.
- A user can be a member of more than one business.
-- I am able to resolve this last item with contextual_tuple method.

If the problem is that the action type denies can_access access, this time it needs to check the isViewer relationship, but when the component type is reached, the permission_in_context relationship is not in the tuples in the check method, so even if the user has permission in the relevant component type, access cannot be achieved.

I solve this problem by defining each action over and over for each business, but this time it both inflates the database and makes the openfga service very tiring. For these reasons, I started to develop the scheme I shared in the link above. The problems in this scheme are the reasons I explained above.


The following image will summarize the problem.

```
{
  ""tuple_key"": {
    ""user"": ""user:john"",
    ""relation"": ""can_access"",
    ""object"": ""action:action1""
  },
  ""contextual_tuples"": {
    ""tuple_keys"": [
      {
        ""user"": ""user:john"",
        ""relation"": ""member_in_context"",
        ""object"": ""integrity:123""
      },
      {
        ""user"": ""user:john"",
        ""relation"": ""user_in_context"",
        ""object"": ""business:contoso""
      },
      {
        ""user"": ""business:contoso"",
        ""relation"": ""business_in_context"",
        ""object"": ""permission:contoso/action/action1""
      },
      {
        ""user"": ""permission:contoso/action/action1"",
        ""relation"": ""permission_in_context"",
        ""object"": ""action:action1""
      }
    ]
  },
  ""authorization_model_id"": ""01H19RXF7VJ23WT1NCQNZ0HD6Y""
}
```

![image](https://github.com/openfga/openfga/assets/6988989/576b8ebf-598d-42d6-97f5-c8d99ab024dc)

The following image shows a flow while the check method is running.

In this example, if the user is denied access from the permission:contoso/action/action1 type, the action type goes to the component type with which it is related and looks for the user's relationship with that component. However, we cannot define it as a contextual_tuple because we do not know which component has a relationship with the action during the query.


If I could add a relationship like the one below, I think I could find out if the user has a relationship with the relevant component.
![image](https://github.com/openfga/openfga/assets/6988989/605c34de-ebe9-4aa3-878b-5e2a7ef48070)

I think a control query like below can solve the problem.

```
{
  ""tuple_key"": {
    ""user"": ""user:john"",
    ""relation"": ""can_access"",
    ""object"": ""action:action1""
  },
  ""contextual_tuples"": {
    ""tuple_keys"": [
      {
        ""user"": ""user:john"",
        ""relation"": ""member_in_context"",
        ""object"": ""integrity:123""
      },
      {
        ""user"": ""user:john"",
        ""relation"": ""user_in_context"",
        ""object"": ""business:contoso""
      },
      {
        ""user"": ""business:contoso"",
        ""relation"": ""business_in_context"",
        ""object"": ""permission:contoso/action/action1""
      },
      {
        ""user"": ""permission:contoso/action/action1"",
        ""relation"": ""permission_in_context"",
        ""object"": ""action:action1""
      },
      {
        ""user"": ""permission:contoso/component/*"",
        ""relation"": ""permission_in_context"",
        ""object"": ""component:*""
      }
    ]
  },
  ""authorization_model_id"": ""01H19RXF7VJ23WT1NCQNZ0HD6Y""
}
```

"
803,xXAvoraXx,2023-06-08 16:24:15,"> @xXAvoraXx
> 
> I think you can model that in a similar way:
> 
> ```
> model
>   schema 1.1
> type user
> type organization
>   relations
>     define member: [user]
>     define admin: [user]
>     
> type action
>   relations
>     define parent: [organization]
>     define access: admin from parent
>         
> type component
>   relations
>     define parent: [organization]
>     define access: admin from parent
> ```
> 
> If you want John to have permissions to access every component/action for the contoso organization, you'd add it to the contoso admin group.

The main problem in this example is to save the same action types for every business(organization) over and over. If I need to delete the relevant action from the system, this time I need to find and delete this relationship network for 100 businesses. So I started developing the new schema.
Or when a new action is defined in the system, I need to define this action for all businesses.

Action, component and route types should be defined once in the system.

I'm trying to avoid creating tuples for each action/component type as @guipace said."
764,miparnisari,2023-06-08 17:07:13,Will be included in the next release
797,jon-whit,2023-06-08 17:12:09,- [x] (todo @jon-whit ) - Add Prometheus metrics in the `commands/list_objects.go` to capture the distribution of ListObjects results that require further evaluation vs those that do not.
797,miparnisari,2023-06-09 01:10:13,"Reminder: update API documentation:

- https://github.com/openfga/api/blob/508cc475ccb5879e86a523023b48bd22821749e5/openfga/v1/openfga_service.proto#L654
- https://github.com/openfga/api/blob/508cc475ccb5879e86a523023b48bd22821749e5/openfga/v1/openfga_service.proto#L661"
678,miparnisari,2023-06-09 20:46:56,"The curious/concerning bit is that the error returned to the customer is wrong

```json
{
    ""code"": ""internal_error"",
    ""message"": ""invalid header field value for \""openfga-store-id\""""
}
```

but the OpenFGA logs do show the right log 🤔 

```text
2023-06-09T13:44:52.832-0700    INFO    grpc_req_complete       
{
  ""grpc_service"": ""openfga.v1.OpenFGAService"",
  ""grpc_method"": ""StreamedListObjects"",
  ""grpc_type"": ""server_stream"",
  ""request_id"": ""fc4c9596-0806-4949-b084-927682e19d7b"",
  ""raw_request"": {
    ""store_id"": ""01H2E26SMF66C2D0W4KDV5WKJR\n"",
    ""authorization_model_id"": """",
    ""type"": ""document"",
    ""relation"": ""owner"",
    ""user"": ""maria"",
    ""contextual_tuples"": null
  },
  ""store_id"": ""01H2E26SMF66C2D0W4KDV5WKJR\n"",
  ""peer.address"": ""127.0.0.1:59278"",
  ""grpc_code"": 2000,
  ""error"": ""rpc error: code = InvalidArgument desc = invalid StreamedListObjectsRequest.StoreId: value does not match regex pattern \""^[ABCDEFGHJKMNPQRSTVWXYZ0-9]{26}$\""""
}

```"
678,miparnisari,2023-06-09 20:50:58,"Also this error goes away if we remove/comment this line 

https://github.com/openfga/openfga/blob/7ab00c06953add36d811bc9d436f1b305fb5b447/pkg/middleware/storeid/storeid.go#L87

That line doesn't return an error , yet the non-streaming error handler runs.

https://github.com/openfga/openfga/blob/f15b5b7a42ca4ec039596b7995ce6bb646cd8043/cmd/run/run.go#L649-L652
"
678,miparnisari,2023-06-09 22:42:51,https://github.com/grpc-ecosystem/go-grpc-middleware/issues/589
678,miparnisari,2023-06-09 23:02:23,"I tried using v2 of the `grpc_validator` library but it doesn't solve the problem.

Potential (hacky) solution: sanitize the store_id before using it.

```go
func (r *reporter) PostMsgReceive(msg interface{}, err error, _ time.Duration) {
	if m, ok := msg.(hasGetStoreID); ok {
		storeID := m.GetStoreId()
		storeID = removeNewlines(storeID)
		grpc.SetHeader(r.ctx, metadata.Pairs(""store-id-header"", storeID))
	}
}

func removeNewlines(s string) string {
	s = strings.ToUpper(s)
	if !strings.Contains(s, ""\n"") && !strings.Contains(s, ""%0A"") {
		return s
	}
	s = strings.ReplaceAll(s, ""\n"", """")
	s = strings.ReplaceAll(s, ""%0A"", """")
	return removeNewlines(s)
}
```"
810,Himanshu372,2023-06-11 08:58:20,"Hi @jon-whit, based on our last discussion, raised this PR to verify Datastore engine. I have purposefully setup validation after unmarshalling of configs, as I can't write custom unmarshal for viper. Please have a look. Thanks "
811,rhamzeh,2023-06-12 10:27:45,Thanks for the suggestion @geoffroy! Do you expect this to work across all previous models or only the latest one?
811,geoffroybraun,2023-06-12 12:32:26,"Thanks for the quick reply @rhamzeh! I asked my team and we think, based on your philosophy of _not being able to delete an authorization model_, that checking the last authorization model would be enough. This way, we'd be able to keep moving forward while having a full history without having duplicated models."
811,rhamzeh,2023-06-12 12:44:13,Thanks for clarifying! Will discuss it with the team today
755,jon-whit,2023-06-12 15:13:55,@dependabot rebase
810,Himanshu372,2023-06-13 07:02:34,"> Left some comments for review.

@jon-whit Addressed comments, plz check. "
813,codecov[bot],2023-06-13 16:26:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/813?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`e319c62`)](https://app.codecov.io/gh/openfga/openfga/commit/e319c62485b0e7a26f7d7e231f76de04d3c22e18?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31% compared to head [(`9ac7630`)](https://app.codecov.io/gh/openfga/openfga/pull/813?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #813   +/-   ##
=======================================
  Coverage   78.31%   78.31%           
=======================================
  Files          58       58           
  Lines        7089     7089           
=======================================
  Hits         5551     5551           
  Misses       1254     1254           
  Partials      284      284           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/813?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
815,codecov[bot],2023-06-14 12:59:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/815?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.17`** :tada:
> Comparison is base [(`61864b6`)](https://app.codecov.io/gh/openfga/openfga/commit/61864b6fa8d8acaf79162b462e6785fb2fce276e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31% compared to head [(`bc9a407`)](https://app.codecov.io/gh/openfga/openfga/pull/815?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #815      +/-   ##
==========================================
+ Coverage   78.31%   78.48%   +0.17%     
==========================================
  Files          58       58              
  Lines        7089     7089              
==========================================
+ Hits         5551     5563      +12     
+ Misses       1254     1246       -8     
+ Partials      284      280       -4     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/815/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/815?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
816,linux-foundation-easycla[bot],2023-06-14 13:39:15,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: Galzzly / name: Liam G  (98c556a47f5fa26707e556edc97b35e5b84e11fb, e735fac24d04d79e78eef56ac09f6ae48666ae6b, 99b270d6be960c918231961e3d6b6e9c0e1b024e, 42ed8db8eccab8e1628d0a1d6713112a4bde1102, b428fcecdffe0e28e8cfd3145a2956caa96c2ddd, c68463d26d57da7707e39aaf68e4c6bebea3c549)</li><li>:white_check_mark: login: jon-whit / name: Jonathan Whitaker  (99b270d6be960c918231961e3d6b6e9c0e1b024e)</li></ul>"
816,rhamzeh,2023-06-14 13:46:14,Thanks @Galzzly!
816,Galzzly,2023-06-14 15:16:02,"Working on the failing test, but hitting the identical string comparison failure issue for the two error strings. Will update once I am able to. Apologies for the delay."
814,krishnaduttPanchagnula,2023-06-14 17:43:16,errors.Join creates a new line and concatonates both msgs
817,codecov[bot],2023-06-15 23:59:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`93.11`**% and project coverage change: **`+3.17`** :tada:
> Comparison is base [(`4b366f0`)](https://app.codecov.io/gh/openfga/openfga/commit/4b366f088c58f65efaafe00e0c8fef344ad341ec?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.31% compared to head [(`9c65dca`)](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #817      +/-   ##
==========================================
+ Coverage   78.31%   81.48%   +3.17%     
==========================================
  Files          58       61       +3     
  Lines        7089     7286     +197     
==========================================
+ Hits         5551     5936     +385     
+ Misses       1254     1064     -190     
- Partials      284      286       +2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/validatemodels/validate\_models.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL3ZhbGlkYXRlX21vZGVscy5nbw==) | `77.36% <77.36%> (ø)` | |
| [cmd/util/util.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `72.00% <94.45%> (+64.86%)` | :arrow_up: |
| [cmd/migrate/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvZmxhZ3MuZ28=) | `100.00% <100.00%> (ø)` | |
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | `66.67% <100.00%> (ø)` | |
| [cmd/root.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `70.61% <100.00%> (+8.21%)` | :arrow_up: |
| [cmd/validatemodels/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL2ZsYWdzLmdv) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/817/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/817?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
816,Galzzly,2023-06-16 10:57:32,"All checks are now passing, I can resync the repository and push the updated repo up this afternoon if necessary. "
818,rhamzeh,2023-06-20 13:37:29,"Thanks for the detailed investigation and report @jerclark! We'll take a look at this.

A quick clarifying question, in the model under doc, you had it as `group: [docgroup]` instead of `parent: [docgroup]` right?

Second, are you able to reproduce this with postgres? Our in-memory store is not well optimized for large amounts of objects"
816,codecov[bot],2023-06-20 13:39:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/816?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@5e8814b`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch coverage: 100.00% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #816   +/-   ##
=======================================
  Coverage        ?   78.38%           
=======================================
  Files           ?       58           
  Lines           ?     7089           
  Branches        ?        0           
=======================================
  Hits            ?     5556           
  Misses          ?     1250           
  Partials        ?      283           
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/816?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/816?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `85.90% <100.00%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/816?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
817,jon-whit,2023-06-20 16:15:50,"Do we want to have a `openfga validate-model [model-id]` that has a flag `openfga validation-model --all` so that we have more general use for the CLI command?

`openfga validate-models` is very specific to fetching all models and validating each and every one of them. What if I want to just validate a specific one and/or optionally validate all of them with the `--all` argument?"
819,codecov[bot],2023-06-20 17:14:51,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/819?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.15`** :tada:
> Comparison is base [(`a90c7c0`)](https://app.codecov.io/gh/openfga/openfga/commit/a90c7c08def3abbf3dfbc45de1cdf6adfc97dd03?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.34% compared to head [(`a9ded1c`)](https://app.codecov.io/gh/openfga/openfga/pull/819?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 78.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #819      +/-   ##
==========================================
+ Coverage   78.34%   78.48%   +0.15%     
==========================================
  Files          58       58              
  Lines        7089     7089              
==========================================
+ Hits         5553     5563      +10     
+ Misses       1252     1245       -7     
+ Partials      284      281       -3     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/819/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/819?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
816,jon-whit,2023-06-20 17:25:03,@Galzzly mind rebasing on main? Then we can merge.
816,Galzzly,2023-06-20 18:48:39,@jon-whit - That should be all sorted now.
818,jerclark,2023-06-20 19:41:28,"Thanks for the follow up @rhamzeh! 

Yes, the mismatch between the model and my tuples is accidental above. I updated the original comment so they both read ""group"" :)

I will look into postgres..."
817,miparnisari,2023-06-20 19:55:39,"> Do we want to have a openfga validate-model [model-id] that has a flag openfga validation-model --all so that we have more general use for the CLI command?

We discussed offline with the team and we decided to keep it as is, i.e. validate all existing models."
820,codecov[bot],2023-06-21 01:05:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/820?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`62.50`**% and project coverage change: **`+0.04`** :tada:
> Comparison is base [(`1b00d91`)](https://app.codecov.io/gh/openfga/openfga/commit/1b00d91d545a3904537448001b4980165f46282a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.45% compared to head [(`4483fb5`)](https://app.codecov.io/gh/openfga/openfga/pull/820?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #820      +/-   ##
==========================================
+ Coverage   81.45%   81.48%   +0.04%     
==========================================
  Files          61       61              
  Lines        7286     7294       +8     
==========================================
+ Hits         5934     5943       +9     
+ Misses       1066     1065       -1     
  Partials      286      286              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/820?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/caching/caching.go](https://app.codecov.io/gh/openfga/openfga/pull/820?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY2FjaGluZy9jYWNoaW5nLmdv) | `89.66% <62.50%> (-10.34%)` | :arrow_down: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/820/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/820?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
820,elbuo8,2023-06-21 01:32:47,Not really. The cache is only during the duration of the first inflight request. The window is far too small.
820,miparnisari,2023-06-21 01:43:34,"> The cache is only during the duration of the first inflight request.

What does this mean? `cachedOpenFGADatastore` is shared across all requests"
821,codecov[bot],2023-06-21 02:30:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/821?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`0813713`)](https://app.codecov.io/gh/openfga/openfga/commit/0813713564aa851768efa2e2bcf679d1adfe3ec5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.43% compared to head [(`467779b`)](https://app.codecov.io/gh/openfga/openfga/pull/821?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.43%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #821   +/-   ##
=======================================
  Coverage   81.43%   81.43%           
=======================================
  Files          61       61           
  Lines        7294     7294           
=======================================
  Hits         5939     5939           
  Misses       1068     1068           
  Partials      287      287           
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <ø> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/821?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
810,Himanshu372,2023-06-21 12:52:25,"> > Left some comments for review.
> 
> @jon-whit Addressed comments, plz check.

Hey @jon-whit plz have a look and let me know if the changes are OK "
820,elbuo8,2023-06-21 13:34:25,"Only concurrent calls to this method are cached together. And it will last for the duration of the first call. Not the whole lifecycle of the request. So if the FindLastestModelID takes 5ms, that's how long the cache will last even tho the request might take a total of 35ms.

Picture this scenario:
R1 -> FindLastestModelID -> Calls Datastore and creates cache
R2 -> FindLastestModelID -> Will share the response with R1 
R3 -> ... some delay -> FindLastestModelID -> Calls Datastore and creates new cache
R4 -> ... some delay -> FindLastestModelID -> Will share the response with R2

"
818,jerclark,2023-06-21 15:39:18,"@rhamzeh I re-ran tests against postgres. I observed constant-time performance whether I had 100 groups or 100K groups. Awesome. 

But not only that, I ran different tests where a single user is part of a single group which has varying numbers of documents (anywhere from 100 to 100K documents) - and in those tests I also observed constant time! (when using postgres).

For me - I think this ticket can be closed, unless, for some reason you want to look into my initial findings apropos the in-memory store."
822,codecov[bot],2023-06-23 00:12:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.50`** :tada:
> Comparison is base [(`846b777`)](https://app.codecov.io/gh/openfga/openfga/commit/846b777643b52bd747816ec8265ea1a6219502c3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.26% compared to head [(`47da2d0`)](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.76%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #822      +/-   ##
==========================================
+ Coverage   81.26%   81.76%   +0.50%     
==========================================
  Files          63       63              
  Lines        7465     7491      +26     
==========================================
+ Hits         6066     6124      +58     
+ Misses       1098     1066      -32     
  Partials      301      301              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `90.37% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `71.96% <100.00%> (+1.35%)` | :arrow_up: |
| [pkg/telemetry/tracing.go](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `92.31% <100.00%> (+83.22%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/822/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/822?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
823,codecov[bot],2023-06-23 16:58:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/823?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`e53b79f`)](https://app.codecov.io/gh/openfga/openfga/commit/e53b79f0dc4b3702aca7eb80eefa34e92a968505?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.46% compared to head [(`7a30dda`)](https://app.codecov.io/gh/openfga/openfga/pull/823?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.44%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #823      +/-   ##
==========================================
- Coverage   81.46%   81.44%   -0.01%     
==========================================
  Files          61       61              
  Lines        7294     7294              
==========================================
- Hits         5941     5940       -1     
- Misses       1066     1067       +1     
  Partials      287      287              
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/823/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/823?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
818,miparnisari,2023-06-23 17:08:14,@jerclark your report led me to look a bit into the in-memory storage implementation and I noticed that we have some old code that we need to update :) see the bottom of https://github.com/openfga/openfga/issues/771
797,jon-whit,2023-06-23 17:25:48,"> Reminder: update API documentation:
> 
> * https://github.com/openfga/api/blob/508cc475ccb5879e86a523023b48bd22821749e5/openfga/v1/openfga_service.proto#L654
> * https://github.com/openfga/api/blob/508cc475ccb5879e86a523023b48bd22821749e5/openfga/v1/openfga_service.proto#L661

@miparnisari cross-referencing here: https://github.com/openfga/api/pull/80"
826,codecov[bot],2023-06-26 20:49:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`81.86`**% and project coverage change: **`-0.21`** :warning:
> Comparison is base [(`0813713`)](https://app.codecov.io/gh/openfga/openfga/commit/0813713564aa851768efa2e2bcf679d1adfe3ec5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.43% compared to head [(`a3999dd`)](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.22%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #826      +/-   ##
==========================================
- Coverage   81.43%   81.22%   -0.21%     
==========================================
  Files          61       61              
  Lines        7294     7467     +173     
==========================================
+ Hits         5939     6064     +125     
- Misses       1068     1101      +33     
- Partials      287      302      +15     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `91.67% <ø> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.66% <80.29%> (-3.23%)` | :arrow_down: |
| [cmd/validatemodels/validate\_models.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL3ZhbGlkYXRlX21vZGVscy5nbw==) | `77.36% <100.00%> (ø)` | |
| [pkg/server/commands/expand.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | `81.12% <100.00%> (+0.14%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.00% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `68.25% <100.00%> (+0.58%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/826/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/826?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
797,miparnisari,2023-06-27 00:16:57,"Please add the new experimental here https://github.com/openfga/openfga/blob/579173e4b9d505295526dfeaee709d6b469e6395/.config-schema.json#L41-L50

also i think `otel-metrics` can be removed 🤣 

EDIT: actually, i'm not sure if this file is used at runtime :/"
829,codecov[bot],2023-06-28 19:28:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/829?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@852ae99`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch has no changes to coverable lines.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #829   +/-   ##
=======================================
  Coverage        ?   81.13%           
=======================================
  Files           ?       62           
  Lines           ?     7418           
  Branches        ?        0           
=======================================
  Hits            ?     6018           
  Misses          ?     1099           
  Partials        ?      301           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/829?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
830,codecov[bot],2023-06-28 21:54:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/830?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.18`** :tada:
> Comparison is base [(`5c7c5c8`)](https://app.codecov.io/gh/openfga/openfga/commit/5c7c5c88dd07c85666275621503f867428a59693?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.16% compared to head [(`14428e1`)](https://app.codecov.io/gh/openfga/openfga/pull/830?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.33%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #830      +/-   ##
==========================================
+ Coverage   81.16%   81.33%   +0.18%     
==========================================
  Files          61       61              
  Lines        7621     7621              
==========================================
+ Hits         6185     6198      +13     
+ Misses       1121     1111      -10     
+ Partials      315      312       -3     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/830/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/830?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
831,codecov[bot],2023-06-29 16:30:57,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`92.48`**% and project coverage change: **`+0.14`** :tada:
> Comparison is base [(`2af1584`)](https://app.codecov.io/gh/openfga/openfga/commit/2af1584ab60daba20aee65acf273818999382641?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 80.99% compared to head [(`34c027b`)](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #831      +/-   ##
==========================================
+ Coverage   80.99%   81.13%   +0.14%     
==========================================
  Files          61       62       +1     
  Lines        7401     7418      +17     
==========================================
+ Hits         5994     6018      +24     
+ Misses       1101     1099       -2     
+ Partials      306      301       -5     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.21% <ø> (+0.23%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `70.48% <88.64%> (+1.32%)` | :arrow_up: |
| [pkg/typesystem/resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vcmVzb2x2ZXIuZ28=) | `95.92% <95.92%> (ø)` | |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/831/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/831?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
830,miparnisari,2023-06-29 18:17:45,@rhamzeh can you fix conflicts?
832,codecov[bot],2023-06-29 19:17:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.14`** :warning:
> Comparison is base [(`9aa3fed`)](https://app.codecov.io/gh/openfga/openfga/commit/9aa3fedb0a217dc0a2a1b4b3d8f7b79fe3764792?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.18% compared to head [(`796715c`)](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.03%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #832      +/-   ##
==========================================
- Coverage   81.18%   81.03%   -0.14%     
==========================================
  Files          61       61              
  Lines        7621     7401     -220     
==========================================
- Hits         6186     5997     -189     
+ Misses       1120     1099      -21     
+ Partials      315      305      -10     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.47% <ø> (+3.70%)` | :arrow_up: |
| [pkg/storage/context.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvY29udGV4dC5nbw==) | `78.13% <ø> (-2.95%)` | :arrow_down: |
| [pkg/storage/iterators.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `91.55% <ø> (-2.05%)` | :arrow_down: |
| [pkg/storage/memory/memory.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.69% <ø> (-0.24%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.52% <ø> (-0.16%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `76.80% <ø> (-0.15%)` | :arrow_down: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `84.69% <ø> (+1.36%)` | :arrow_up: |
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `90.37% <ø> (+1.82%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.17% <100.00%> (-0.60%)` | :arrow_down: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/832/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/832?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
833,codecov[bot],2023-06-29 21:20:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`95.20`**% and project coverage change: **`+0.01`** :tada:
> Comparison is base [(`6d84cd6`)](https://app.codecov.io/gh/openfga/openfga/commit/6d84cd6df29e8bb3e95dd0eaa596986275ea72cf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.88% compared to head [(`b090bdd`)](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.88%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #833      +/-   ##
==========================================
+ Coverage   81.88%   81.88%   +0.01%     
==========================================
  Files          64       64              
  Lines        7524     7588      +64     
==========================================
+ Hits         6160     6213      +53     
- Misses       1063     1072       +9     
- Partials      301      303       +2     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.74% <94.51%> (+3.99%)` | :arrow_up: |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `71.71% <100.00%> (-0.09%)` | :arrow_down: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/833/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/833?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
834,codecov[bot],2023-06-29 23:49:07,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/834?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`69.77`**% and project coverage change: **`-0.05`** :warning:
> Comparison is base [(`a7989aa`)](https://app.codecov.io/gh/openfga/openfga/commit/a7989aa156cf8a22cfd6ef0601d703d5b8f5109f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.13% compared to head [(`010a963`)](https://app.codecov.io/gh/openfga/openfga/pull/834?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #834      +/-   ##
==========================================
- Coverage   81.13%   81.08%   -0.05%     
==========================================
  Files          62       62              
  Lines        7418     7423       +5     
==========================================
  Hits         6018     6018              
- Misses       1099     1103       +4     
- Partials      301      302       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.31% <69.77%> (+0.10%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/834/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/834?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
811,miparnisari,2023-06-29 23:53:58,"If we decide to do it, we'd have to make this change in the WriteAuthorizationModel command: https://github.com/openfga/openfga/blob/087ce392595f3c319ab3028b5089118ea4063452/pkg/server/commands/write_authzmodel.go#L31

The downside of this change is, let's say you want to be able to quickly stress test this API, you'd have to send modelA, modelB, modelA, modelB, etc.."
835,jon-whit,2023-06-30 06:20:53,"Will merge https://github.com/openfga/api/pull/80 after we release `v1.2.0`, which will be right after we merge this PR."
835,codecov[bot],2023-06-30 06:25:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/835?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`e25fcbf`)](https://app.codecov.io/gh/openfga/openfga/commit/e25fcbfeec229806ac46bc9333f767287c4d7bed?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12% compared to head [(`61627b6`)](https://app.codecov.io/gh/openfga/openfga/pull/835?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10%.

> :exclamation: Current head 61627b6 differs from pull request most recent head e9602bb. Consider uploading reports for the commit e9602bb to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #835      +/-   ##
==========================================
- Coverage   81.12%   81.10%   -0.01%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
- Hits         6021     6020       -1     
  Misses       1101     1101              
- Partials      301      302       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/835/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/835?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
836,miparnisari,2023-06-30 16:29:29,@adriantam is this the right link? https://openfga.dev/docs/getting-started/running-in-production
834,miparnisari,2023-06-30 17:24:48,"```shell
curl --location 'http://localhost:8080/stores/01H44VBCR64GKJTVFWG8K59V0C/authorization-models' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json' \
--data '{""type_definitions"":[{""type"":""user"",""relations"":{}},{""type"":""repo"",""relations"":{""admin"":{""this"":{}},""action1"":{""intersection"":{""child"":[{""computedUserset"":{""object"":"""",""relation"":""admin""}},{""computedUserset"":{""object"":"""",""relation"":""action2""}},{""computedUserset"":{""object"":"""",""relation"":""action3""}}]}},""action2"":{""intersection"":{""child"":[{""computedUserset"":{""object"":"""",""relation"":""admin""}},{""computedUserset"":{""object"":"""",""relation"":""action3""}},{""computedUserset"":{""object"":"""",""relation"":""action1""}}]}},""action3"":{""intersection"":{""child"":[{""computedUserset"":{""object"":"""",""relation"":""admin""}},{""computedUserset"":{""object"":"""",""relation"":""action1""}},{""computedUserset"":{""object"":"""",""relation"":""action2""}}]}}},""metadata"":{""relations"":{""admin"":{""directly_related_user_types"":[{""type"":""user""}]},""action1"":{""directly_related_user_types"":[]},""action2"":{""directly_related_user_types"":[]},""action3"":{""directly_related_user_types"":[]}}}}],""schema_version"":""1.1""}'
```

prints

```
{
    ""code"": ""invalid_authorization_model"",
    ""message"": ""the definition of relation 'action1' in object type 'repo' is invalid: relation 'repo#action1': potential loop in relations definitions""
}
```

Notice the repetition of the type and relation in the error message :)"
836,adriantam,2023-06-30 19:58:09,"> @adriantam is this the right link? https://openfga.dev/docs/getting-started/running-in-production

Yes, this is correct."
837,codecov[bot],2023-06-30 23:25:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`c3e7410`)](https://app.codecov.io/gh/openfga/openfga/commit/c3e7410da0534af9bdca5a277c3981dfcebdc60e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`caf676e`)](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #837      +/-   ##
==========================================
+ Coverage   81.08%   81.12%   +0.05%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6021       +3     
+ Misses       1103     1101       -2     
+ Partials      302      301       -1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | `66.67% <ø> (ø)` | |
| [cmd/root.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `100.00% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `70.28% <ø> (ø)` | |
| [cmd/validatemodels/validate\_models.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL3ZhbGlkYXRlX21vZGVscy5nbw==) | `77.36% <ø> (ø)` | |
| [pkg/encoder/encoder.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvZW5jb2Rlci5nbw==) | `0.00% <ø> (ø)` | |
| [pkg/encrypter/encrypter.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9lbmNyeXB0ZXIuZ28=) | `0.00% <ø> (ø)` | |
| [pkg/middleware/http/handler.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvaHR0cC9oYW5kbGVyLmdv) | `50.00% <ø> (ø)` | |
| [pkg/middleware/logging/logging.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `81.54% <ø> (ø)` | |
| [pkg/middleware/requestid/requestid.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvcmVxdWVzdGlkL3JlcXVlc3RpZC5nbw==) | `96.16% <ø> (ø)` | |
| [pkg/middleware/storeid/storeid.go](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC9zdG9yZWlkLmdv) | `90.48% <ø> (ø)` | |
| ... and [15 more](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/837/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/837?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
838,codecov[bot],2023-07-01 00:11:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`c3e7410`)](https://app.codecov.io/gh/openfga/openfga/commit/c3e7410da0534af9bdca5a277c3981dfcebdc60e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`603fcd7`)](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #838      +/-   ##
==========================================
+ Coverage   81.08%   81.12%   +0.05%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6021       +3     
+ Misses       1103     1101       -2     
+ Partials      302      301       -1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | `66.67% <ø> (ø)` | |
| [cmd/root.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3Jvb3QuZ28=) | `100.00% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `70.28% <ø> (ø)` | |
| [cmd/validatemodels/validate\_models.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL3ZhbGlkYXRlX21vZGVscy5nbw==) | `77.36% <ø> (ø)` | |
| [pkg/encoder/encoder.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY29kZXIvZW5jb2Rlci5nbw==) | `0.00% <ø> (ø)` | |
| [pkg/encrypter/encrypter.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2VuY3J5cHRlci9lbmNyeXB0ZXIuZ28=) | `0.00% <ø> (ø)` | |
| [pkg/middleware/http/handler.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvaHR0cC9oYW5kbGVyLmdv) | `50.00% <ø> (ø)` | |
| [pkg/middleware/logging/logging.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `81.54% <ø> (ø)` | |
| [pkg/middleware/requestid/requestid.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvcmVxdWVzdGlkL3JlcXVlc3RpZC5nbw==) | `96.16% <ø> (ø)` | |
| [pkg/middleware/storeid/storeid.go](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC9zdG9yZWlkLmdv) | `90.48% <ø> (ø)` | |
| ... and [15 more](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/838/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/838?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
839,codecov[bot],2023-07-01 00:24:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/839?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`e25fcbf`)](https://app.codecov.io/gh/openfga/openfga/commit/e25fcbfeec229806ac46bc9333f767287c4d7bed?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12% compared to head [(`12dc84d`)](https://app.codecov.io/gh/openfga/openfga/pull/839?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #839   +/-   ##
=======================================
  Coverage   81.12%   81.12%           
=======================================
  Files          62       62           
  Lines        7423     7423           
=======================================
  Hits         6021     6021           
  Misses       1101     1101           
  Partials      301      301           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/839?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
844,codecov[bot],2023-07-01 18:32:00,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/844?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.07`** :tada:
> Comparison is base [(`c3e7410`)](https://app.codecov.io/gh/openfga/openfga/commit/c3e7410da0534af9bdca5a277c3981dfcebdc60e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`a886eef`)](https://app.codecov.io/gh/openfga/openfga/pull/844?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #844      +/-   ##
==========================================
+ Coverage   81.08%   81.14%   +0.07%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6023       +5     
+ Misses       1103     1099       -4     
+ Partials      302      301       -1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/844/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/844?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
840,codecov[bot],2023-07-01 18:32:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/840?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`4c78a3e`)](https://app.codecov.io/gh/openfga/openfga/commit/4c78a3ea0fa283ff4d28bcf27079784d90a0d878?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`9b58cf9`)](https://app.codecov.io/gh/openfga/openfga/pull/840?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12%.

> :exclamation: Current head 9b58cf9 differs from pull request most recent head 82e33a6. Consider uploading reports for the commit 82e33a6 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #840      +/-   ##
==========================================
+ Coverage   81.08%   81.12%   +0.05%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6021       +3     
+ Misses       1103     1101       -2     
+ Partials      302      301       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/840/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/840?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
843,codecov[bot],2023-07-01 18:32:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/843?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06`** :warning:
> Comparison is base [(`af6b999`)](https://app.codecov.io/gh/openfga/openfga/commit/af6b9999d004069be06b169ebeddf1c86ddc8a3f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14% compared to head [(`2299fd7`)](https://app.codecov.io/gh/openfga/openfga/pull/843?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08%.

> :exclamation: Current head 2299fd7 differs from pull request most recent head d32be84. Consider uploading reports for the commit d32be84 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #843      +/-   ##
==========================================
- Coverage   81.14%   81.08%   -0.06%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
- Hits         6023     6018       -5     
- Misses       1099     1103       +4     
- Partials      301      302       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/843/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/843?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
845,codecov[bot],2023-07-01 18:38:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/845?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.04`** :warning:
> Comparison is base [(`af6b999`)](https://app.codecov.io/gh/openfga/openfga/commit/af6b9999d004069be06b169ebeddf1c86ddc8a3f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14% compared to head [(`0d6a3c0`)](https://app.codecov.io/gh/openfga/openfga/pull/845?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #845      +/-   ##
==========================================
- Coverage   81.14%   81.10%   -0.04%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
- Hits         6023     6020       -3     
- Misses       1099     1101       +2     
- Partials      301      302       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/845/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/845?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
846,codecov[bot],2023-07-01 18:38:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/846?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.17`** :tada:
> Comparison is base [(`020e94d`)](https://app.codecov.io/gh/openfga/openfga/commit/020e94d8e3c32bc4013a7c73507409b3c1f95fa6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`4890d68`)](https://app.codecov.io/gh/openfga/openfga/pull/846?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.24%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #846      +/-   ##
==========================================
+ Coverage   81.08%   81.24%   +0.17%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6030      +12     
+ Misses       1103     1094       -9     
+ Partials      302      299       -3     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/846/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/846?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
849,codecov[bot],2023-07-01 18:39:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/849?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`ebc714e`)](https://app.codecov.io/gh/openfga/openfga/commit/ebc714e5b448ac85e4bdaa2708e5904d545043fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10% compared to head [(`648eb1d`)](https://app.codecov.io/gh/openfga/openfga/pull/849?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #849   +/-   ##
=======================================
  Coverage   81.10%   81.10%           
=======================================
  Files          62       62           
  Lines        7423     7423           
=======================================
  Hits         6020     6020           
  Misses       1101     1101           
  Partials      302      302           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/849?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
847,codecov[bot],2023-07-01 18:39:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/847?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`ebc714e`)](https://app.codecov.io/gh/openfga/openfga/commit/ebc714e5b448ac85e4bdaa2708e5904d545043fa?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10% compared to head [(`7326feb`)](https://app.codecov.io/gh/openfga/openfga/pull/847?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14%.

> :exclamation: Current head 7326feb differs from pull request most recent head 90b8f5c. Consider uploading reports for the commit 90b8f5c to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #847      +/-   ##
==========================================
+ Coverage   81.10%   81.14%   +0.05%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6020     6023       +3     
+ Misses       1101     1099       -2     
+ Partials      302      301       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/847/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/847?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
850,codecov[bot],2023-07-01 18:42:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/850?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`c3e7410`)](https://app.codecov.io/gh/openfga/openfga/commit/c3e7410da0534af9bdca5a277c3981dfcebdc60e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`1cff91b`)](https://app.codecov.io/gh/openfga/openfga/pull/850?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10%.

> :exclamation: Current head 1cff91b differs from pull request most recent head 043eeaa. Consider uploading reports for the commit 043eeaa to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #850      +/-   ##
==========================================
+ Coverage   81.08%   81.10%   +0.03%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6020       +2     
+ Misses       1103     1101       -2     
  Partials      302      302              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/850/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/850?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
851,codecov[bot],2023-07-01 18:42:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/851?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`c3e7410`)](https://app.codecov.io/gh/openfga/openfga/commit/c3e7410da0534af9bdca5a277c3981dfcebdc60e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`840592a`)](https://app.codecov.io/gh/openfga/openfga/pull/851?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.10%.

> :exclamation: Current head 840592a differs from pull request most recent head 16c6bef. Consider uploading reports for the commit 16c6bef to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #851      +/-   ##
==========================================
+ Coverage   81.08%   81.10%   +0.03%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6020       +2     
+ Misses       1103     1101       -2     
  Partials      302      302              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/851/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/851?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
338,mpereira-ae,2023-07-03 13:24:33,Same issue here. We want to deploy an internal instance of the playground in a cloud provider. Could the web application be bundled in the Docker image instead of resorting to an iframe?
338,mpereira-ae,2023-07-03 13:45:17,"Also seeing some CORS issues when running the playground locally, but I was able to create a store and visualize models.

![image](https://github.com/openfga/openfga/assets/125390696/4d3eaaa3-2c4b-431b-9866-f0c912c6e535)"
727,mpereira-ae,2023-07-05 00:51:07,"For the record, I am also experiencing ""context deadline exceeded"" in false checks with a similar model, but with far fewer tuples. 9 tuples, to be precise."
851,jon-whit,2023-07-06 15:56:04,@dependabot rebase
852,jon-whit,2023-07-06 16:18:20,"Yep, definitely. The relationship ingresses can be used to prune the search space. It's something we're aware of and have talked about adding optimizations for. We've also been working on the storage layer to reduce/filter the related types at the query layer. That will help as well."
850,jon-whit,2023-07-06 16:52:20,@dependabot  rebase
849,jon-whit,2023-07-06 16:58:31,@dependabot rebase
837,adriantam,2023-07-06 18:09:10,@jon-whit can you take a look at this as you are most familiar with the test TestSingleFlightMemoizedTypesystemResolverFunc
848,jon-whit,2023-07-06 18:25:47,@dependabot rebase
848,dependabot[bot],2023-07-06 18:26:39,Superseded by #854.
847,jon-whit,2023-07-06 18:32:48,@dependabot rebase
853,codecov[bot],2023-07-06 19:23:00,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/853?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.03`** :tada:
> Comparison is base [(`dfeb3b5`)](https://app.codecov.io/gh/openfga/openfga/commit/dfeb3b5db230982223a3d71d7cc80638e15a08bc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12% compared to head [(`bb4e98a`)](https://app.codecov.io/gh/openfga/openfga/pull/853?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #853      +/-   ##
==========================================
+ Coverage   81.12%   81.14%   +0.03%     
==========================================
  Files          62       62              
  Lines        7423     7427       +4     
==========================================
+ Hits         6021     6026       +5     
+ Misses       1101     1100       -1     
  Partials      301      301              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/853?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/853?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.60% <100.00%> (+0.13%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/853/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/853?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
855,jon-whit,2023-07-06 20:13:39,"There is some potential danger with this PR in that it could create a deadlock if a single `ResolveCheck` depends on more than the concurrency limit, and so I'm not sure if this approach is generally viable. For that we'd have no other real option than to look into dispatching.

More investigation and testing on this specific scenario needs to be performed."
843,adriantam,2023-07-07 02:56:03,@dependabot rebase
843,dependabot[bot],2023-07-07 02:56:05,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`."
843,adriantam,2023-07-07 03:00:01,@dependabot recreate
841,codecov[bot],2023-07-07 03:01:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/841?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.05`** :tada:
> Comparison is base [(`f5f44d5`)](https://app.codecov.io/gh/openfga/openfga/commit/f5f44d5295a30931102c74ad47c3bc8da9465808?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08% compared to head [(`fde7dfd`)](https://app.codecov.io/gh/openfga/openfga/pull/841?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #841      +/-   ##
==========================================
+ Coverage   81.08%   81.12%   +0.05%     
==========================================
  Files          62       62              
  Lines        7423     7423              
==========================================
+ Hits         6018     6021       +3     
+ Misses       1103     1101       -2     
+ Partials      302      301       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/841/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/841?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
811,le-yams,2023-07-07 15:22:14,"Hi, I'm also interested by this enhancement.

> The downside of this change is, let's say you want to be able to quickly stress test this API, you'd have to send modelA, modelB, modelA, modelB, etc..

maybe this behavior could be disabled with an option like `idempotent=false`?"
853,jon-whit,2023-07-07 15:45:32,@adriantam looks like we have a test flake.
811,rhamzeh,2023-07-07 16:24:23,"IMO if we add this it should not be at the API layer, it would be at the SDK/CLI layers - they can accept an optional `--reject-if-matching-latest` (or something similar, we can iterate on a better name).

In which case the SDKs should:
1- get latest model
2- remove unnecessary fields (e.g. ID)
3- normalize both (e.g. default all fields to empty state)
4- convert to json
5- do a hash that sorts the fields before hashing
6- compare the hashes

That said we would still have issues in eventually consistent environments. If you post, you might get an error that it matches latest even if latest has been updated in the meantime

For JS, this might be helpful (though it has not been maintained for a while): https://github.com/puleos/object-hash

The need to add an external dependency to do this reliably doesn't really increase my enthusiasm for doing this though, right now our SDKs have between 0 and 2 prod dependencies."
857,adriantam,2023-07-07 17:24:46,Do we need to update https://openfga.dev/docs/getting-started/setup-openfga/docker#profiler-pprof?
857,miparnisari,2023-07-07 17:26:34,"> Do we need to update https://openfga.dev/docs/getting-started/setup-openfga/docker#profiler-pprof?

Nope, that instruction `docker run -p 8080:8080 -p 8081:8081 -p 3000:3000 -p 3001:3001 openfga/openfga run --profiler-enabled` uses the Docker image directly, not the docker-compose file in this repo"
857,codecov[bot],2023-07-07 17:26:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/857?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.08`** :tada:
> Comparison is base [(`dfeb3b5`)](https://app.codecov.io/gh/openfga/openfga/commit/dfeb3b5db230982223a3d71d7cc80638e15a08bc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.12% compared to head [(`2c70126`)](https://app.codecov.io/gh/openfga/openfga/pull/857?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.20%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #857      +/-   ##
==========================================
+ Coverage   81.12%   81.20%   +0.08%     
==========================================
  Files          62       62              
  Lines        7423     7427       +4     
==========================================
+ Hits         6021     6030       +9     
+ Misses       1101     1097       -4     
+ Partials      301      300       -1     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/857/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/857?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
857,miparnisari,2023-07-07 17:43:39,"> Maybe starting grafana too is a good idea?

👍 

> Note: If you want to push a development docker-compose, what some projects do is have a folder containing:
> 
> * Containerfile/Dockerfile # prod
> * dev.Containerfile/dev.Dockerfile # dev
> * docker-compose.yaml # prod
> * docker-compose.dev.yaml # dev

I like this idea, i'll try this out. Because the other thing that has been bothering me is that, when developing locally, I need to remember to change

```
openfga:
    image: openfga/openfga:latest
```

to 

```
openfga:
    build: .
```

"
857,miparnisari,2023-07-07 18:27:13,"There's apparently a best practice for dev & production compose files: https://docs.docker.com/compose/extends/#multiple-compose-files. However, if we do this (multiple compose files), this will break the instructions in our README  https://github.com/openfga/openfga#docker-compose that tells people to download only one file"
857,adriantam,2023-07-07 19:55:15,"> > Do we need to update https://openfga.dev/docs/getting-started/setup-openfga/docker#profiler-pprof?
> 
> Nope, that instruction `docker run -p 8080:8080 -p 8081:8081 -p 3000:3000 -p 3001:3001 openfga/openfga run --profiler-enabled` uses the Docker image directly, not the docker-compose file in this repo

There is a tab for docker-compose.yml

<img width=""1768"" alt=""Screenshot 2023-07-07 at 3 54 43 PM"" src=""https://github.com/openfga/openfga/assets/10730463/530d28c7-92d9-4617-9b5b-cba674cc9c2b"">

"
857,miparnisari,2023-07-08 00:03:38,"> > > Do we need to update https://openfga.dev/docs/getting-started/setup-openfga/docker#profiler-pprof?
> > 
> > 
> > Nope, that instruction `docker run -p 8080:8080 -p 8081:8081 -p 3000:3000 -p 3001:3001 openfga/openfga run --profiler-enabled` uses the Docker image directly, not the docker-compose file in this repo
> 
> There is a tab for docker-compose.yml
> 


Yeah that's fine, that one only has 3 containers with none of the observability stuff."
857,miparnisari,2023-07-08 00:19:28,I just noticed that `docker compose -f .docker/docker-compose.yaml -f .docker/docker-compose.dev.yaml up` doesn't actually cause a `build` of `openfga`. It uses the latest `image` and there is no way to override this :( https://github.com/docker/docs/issues/17732
855,miparnisari,2023-07-08 23:43:59,"I made a test with the following settings:
- The model + tuples from this PR https://github.com/openfga/openfga/pull/830 and this check: `folder:3#can_read@user:harriette`.
- Set `UpstreamTimeout= 0s` (no timeout)
- Added artificial delay (`time.Sleep(1 * time.Second)`) in `postgres.ReadUserTuple` and `postgres.ReadUsersetTuples`
- Set `scrape_interval: 1s` in Prometheus.yml
- Set `checkConcurrencyLimit=1`

The Check took 41 seconds (understandable, although I expected it to take longer) and this is the result for `goroutines` (higher than I expected):

<img width=""1439"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/f8f11b73-ea77-4711-970b-bfa2b02fc3bf"">
"
777,jingchu000,2023-07-10 01:40:16,"Hi @miparnisari , Can I work on this?"
858,linux-foundation-easycla[bot],2023-07-10 01:58:17," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-missing-id.svg"" alt=""CLA Missing ID"" align=""left"" height=""28"" width=""328""></a> <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li> :x: The email address for the commit (1eb45d0b2b29d63a274082d15f3f75beccc9b4d2) is not linked to the GitHub account, preventing the EasyCLA check. Consult <a href='https://confluence.linuxfoundation.org/pages/viewpage.action?pageId=86641302' target='_blank'>this Help Article</a> and <a href='https://help.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user' target='_blank'>GitHub Help</a> to resolve. (To view the commit's email address, add .patch at the end of this PR page's URL.) For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
855,jon-whit,2023-07-10 19:03:44,"Here's an example of a problem that this PR introduces:

Consider the following model

```python
model
			schema 1.1

		type user
		type group
			relations
				define member: [user, group#member]
		type document
			relations
				define viewer: [group#member]
```

and relationship tuples:

```
document:1#viewer@group:1#member
document:1#viewer@group:2#member

group:1#member@group:1a#member
group:1#member@group:1b#member
group:2#member@group:2a#member
group:2#member@group:2b#member

group:2b#member@user:jon
```

And we call `Check(document:1#viewer@user:jon)`, which we expect to return `{allowed: true}`, with maximum 1 goroutine:

```
ResolveCheck(document:1#viewer@user:jon) // consumed limit is now at 1
    document:1#viewer@group:1#member
    document:1#viewer@group:2#member

    Dispatch(
        ResolveCheck(group:1#member@user:jon) // consumed limit is now at 0
            group:1#member@group:1a#member
            group:1#member@group:1b#member
            
            Dispatch(
                ResolveCheck(group:1a#member@user:jon) // no more room in the resolution queue
             )
             
             Dispatch(
                ResolveCheck(group:1b#member@user:jon) // no more room in the resolution queue
             )
    )

    
    Dispatch(
        ResolveCheck(group:2#member@user:jon) // no more room in the resolution queue
            group:2#member@group:2a#member
            group:2#member@group:2b#member
            
            ...
    )
```

We'll experience a deadlock because as we attempt to dispatch subproblems of the graph resolution, we won't have room in the resolution queue to resolve the subproblems.


Closing this PR as a result of the issues it would introduce ☝️ "
837,jon-whit,2023-07-10 22:30:55,Needs a rebase but looks good otherwise.
859,codecov[bot],2023-07-10 23:30:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/859?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06`** :warning:
> Comparison is base [(`addd83d`)](https://app.codecov.io/gh/openfga/openfga/commit/addd83d662f7eb36064c73a7ac812bd0ac7b136e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.20% compared to head [(`9a5e77a`)](https://app.codecov.io/gh/openfga/openfga/pull/859?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #859      +/-   ##
==========================================
- Coverage   81.20%   81.13%   -0.06%     
==========================================
  Files          62       62              
  Lines        7427     7427              
==========================================
- Hits         6030     6025       -5     
- Misses       1097     1100       +3     
- Partials      300      302       +2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/859/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/859?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
822,miparnisari,2023-07-10 23:46:07,"Until I figure out a better approach, @jon-whit do you think this is worth merging as is?"
858,linux-foundation-easycla[bot],2023-07-11 02:23:43," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-missing-id.svg"" alt=""CLA Missing ID"" align=""left"" height=""28"" width=""328""></a> <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li> :x: The email address for the commit (a64c7d6f011c2d171600b6e9968b7c6ceba084d1) is not linked to the GitHub account, preventing the EasyCLA check. Consult <a href='https://confluence.linuxfoundation.org/pages/viewpage.action?pageId=86641302' target='_blank'>this Help Article</a> and <a href='https://help.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user' target='_blank'>GitHub Help</a> to resolve. (To view the commit's email address, add .patch at the end of this PR page's URL.) For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
858,codecov[bot],2023-07-11 02:24:31,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/858?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`8da401c`)](https://app.codecov.io/gh/openfga/openfga/commit/8da401cee352d3920ea0cdd0114438a693f9836b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.24% compared to head [(`2170ff3`)](https://app.codecov.io/gh/openfga/openfga/pull/858?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.22%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #858      +/-   ##
==========================================
- Coverage   81.24%   81.22%   -0.01%     
==========================================
  Files          63       63              
  Lines        7465     7465              
==========================================
- Hits         6064     6063       -1     
  Misses       1100     1100              
- Partials      301      302       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/858/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/858?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
858,miparnisari,2023-07-11 02:44:52,Thanks @jingchu000. I see that the CLA step is failing. Can you please make sure that the email that appears in your commit (jingchu@lccomputing.com) matches the email that you use in Github?
860,codecov[bot],2023-07-11 02:45:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.10`** :tada:
> Comparison is base [(`d236009`)](https://app.codecov.io/gh/openfga/openfga/commit/d2360092635abe5ae7876b31faf5f2be2e141391?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.14% compared to head [(`02ca721`)](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.24%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #860      +/-   ##
==========================================
+ Coverage   81.14%   81.24%   +0.10%     
==========================================
  Files          62       63       +1     
  Lines        7427     7465      +38     
==========================================
+ Hits         6026     6064      +38     
  Misses       1100     1100              
  Partials      301      301              
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.62% <ø> (ø)` | |
| [pkg/storage/storagewrappers/caching.go](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NhY2hpbmcuZ28=) | `89.66% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `70.28% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.66% <100.00%> (+0.07%)` | :arrow_up: |
| [pkg/storage/storagewrappers/boundedconcurrency.go](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2JvdW5kZWRjb25jdXJyZW5jeS5nbw==) | `100.00% <100.00%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/860?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
858,linux-foundation-easycla[bot],2023-07-11 03:24:37," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-missing-id.svg"" alt=""CLA Missing ID"" align=""left"" height=""28"" width=""328""></a> <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li> :x: The email address for the commit (a64c7d6f011c2d171600b6e9968b7c6ceba084d1) is not linked to the GitHub account, preventing the EasyCLA check. Consult <a href='https://confluence.linuxfoundation.org/pages/viewpage.action?pageId=86641302' target='_blank'>this Help Article</a> and <a href='https://help.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user' target='_blank'>GitHub Help</a> to resolve. (To view the commit's email address, add .patch at the end of this PR page's URL.) For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
858,jingchu000,2023-07-11 03:46:02,"I have updated the email I submitted and it has also been signed, but it still doesn't seem to work"
858,linux-foundation-easycla[bot],2023-07-11 03:51:20," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-missing-id.svg"" alt=""CLA Missing ID"" align=""left"" height=""28"" width=""328""></a> <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/858/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li> :x: The email address for the commit (d9132818c5dd00fdd8a588f7034a9a58632997c9) is not linked to the GitHub account, preventing the EasyCLA check. Consult <a href='https://confluence.linuxfoundation.org/pages/viewpage.action?pageId=86641302' target='_blank'>this Help Article</a> and <a href='https://help.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user' target='_blank'>GitHub Help</a> to resolve. (To view the commit's email address, add .patch at the end of this PR page's URL.) For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
858,jingchu000,2023-07-11 05:16:36,"![image](https://github.com/openfga/openfga/assets/65081402/961350b7-a186-4c26-9ff2-f56178489f80)
"
858,miparnisari,2023-07-11 19:42:48,"@jingchu000 looking at the commit https://github.com/openfga/openfga/commit/d9132818c5dd00fdd8a588f7034a9a58632997c9, it says `Signed-off-by: jingchu <904647411@qq.com>`

I think you need to do something like `git commit --amend --signoff` and then `git push --force` to change the sign-off email :) "
862,codecov[bot],2023-07-12 00:39:59,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/862?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`be8b2fa`)](https://app.codecov.io/gh/openfga/openfga/commit/be8b2fa8a29e7e5c5757d6bd60a980c915ffeae0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.24% compared to head [(`0c32726`)](https://app.codecov.io/gh/openfga/openfga/pull/862?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.22%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #862      +/-   ##
==========================================
- Coverage   81.24%   81.22%   -0.01%     
==========================================
  Files          63       63              
  Lines        7465     7465              
==========================================
- Hits         6064     6063       -1     
  Misses       1100     1100              
- Partials      301      302       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/862/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/862?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
858,jingchu000,2023-07-12 01:30:05,"@miparnisari ,Thank you very much. It has been approved"
858,miparnisari,2023-07-12 01:39:05,Perfect! Can you merge `main` into your branch?
858,jingchu000,2023-07-12 02:01:34,I joined my main branch
862,jon-whit,2023-07-12 13:12:29,"Looks like the vuln check is failing with this new version, but looks good otherwise."
860,jon-whit,2023-07-12 13:13:42,"Looks like unit tests are failing, but the changes look good otherwise."
860,miparnisari,2023-07-12 16:29:30,"> Looks like unit tests are failing, but the changes look good otherwise.

It's govulncheck! I needed to wait until [this](https://github.com/actions/go-versions/blob/main/versions-manifest.json) file listing all Go versions was updated to include 1.20.6 which has the fix to the vulnerability reported"
858,miparnisari,2023-07-12 17:08:05,"@jingchu000 I clicked this button for you to merge `main` into your branch:

<img width=""807"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/3fed229f-d486-4fd4-be0a-1bc602af26a3"">
"
865,codecov[bot],2023-07-13 00:21:12,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`89.54`**% and project coverage change: **`+0.10`** :tada:
> Comparison is base [(`df81e2b`)](https://app.codecov.io/gh/openfga/openfga/commit/df81e2b5c7f1f6ee77fbb0b8f6ada28650e7f604?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.79% compared to head [(`03eac02`)](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.89%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #865      +/-   ##
==========================================
+ Coverage   81.79%   81.89%   +0.10%     
==========================================
  Files          63       64       +1     
  Lines        7523     7524       +1     
==========================================
+ Hits         6153     6161       +8     
+ Misses       1068     1062       -6     
+ Partials      302      301       -1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `76.52% <ø> (ø)` | |
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `100.00% <ø> (+9.64%)` | :arrow_up: |
| [pkg/storage/storagewrappers/context.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NvbnRleHQuZ28=) | `84.38% <80.00%> (ø)` | |
| [pkg/storage/storagewrappers/combinedtuplereader.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NvbWJpbmVkdHVwbGVyZWFkZXIuZ28=) | `89.19% <89.19%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.13% <100.00%> (+0.33%)` | :arrow_up: |
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.80% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.72% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `70.76% <100.00%> (ø)` | |
| [pkg/storage/storagewrappers/caching.go](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NhY2hpbmcuZ28=) | `90.00% <100.00%> (+0.35%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/865/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/865?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
864,codecov[bot],2023-07-13 04:18:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
> :exclamation: No coverage uploaded for pull request base (`main@5ac6f9b`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).
> Patch coverage: 91.31% of modified lines in pull request are covered.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #864   +/-   ##
=======================================
  Coverage        ?   81.82%           
=======================================
  Files           ?       63           
  Lines           ?     7523           
  Branches        ?        0           
=======================================
  Hits            ?     6155           
  Misses          ?     1066           
  Partials        ?      302           
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.13% <80.65%> (ø)` | |
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.62% <100.00%> (ø)` | |
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `92.80% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.72% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `70.76% <100.00%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/864?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
866,jon-whit,2023-07-13 14:20:18,"There are a lot more changes in the scope of this PR than just constructor refactoring. These changes are relatively large changes to the Check implementation that had purposeful design behind it, and so at minimum this warrants a larger discussion before we open a draft PR.

If you want to prune these changes down to just the changes with the options builder pattern then we can get those changes in quick, but the other changes that are included here shouldn't be rushed and adhoc."
864,jon-whit,2023-07-13 21:02:27,Do we have any benchmarks comparing before/after?
864,miparnisari,2023-07-13 22:03:06,"> Do we have any benchmarks comparing before/after?

Latency should be the only impacted metric, no? And only if you run ListObjects call at the same times as Check calls.

Anyway, quick test here: Check and ListObjects being called simultaneously.

<img width=""944"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/d5bdc244-06b5-4ccc-9628-cbe95b728e60"">
"
867,codecov[bot],2023-07-13 23:34:12,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/867?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01`** :warning:
> Comparison is base [(`06b1b91`)](https://app.codecov.io/gh/openfga/openfga/commit/06b1b91eff762bcdf0e0c3e7830c1a2ebe080414?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.85% compared to head [(`c94682d`)](https://app.codecov.io/gh/openfga/openfga/pull/867?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.83%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #867      +/-   ##
==========================================
- Coverage   81.85%   81.83%   -0.01%     
==========================================
  Files          63       63              
  Lines        7523     7523              
==========================================
- Hits         6157     6156       -1     
  Misses       1065     1065              
- Partials      301      302       +1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/867/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/867?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
867,jon-whit,2023-07-14 05:27:55,"When you select a specific timeseries, say for `openfga.v1.OpenFGAService/CreateStore`, then Grafana adds an override to hide all timeseries except the one selected.

When I exported the dashboard originally, then I must have had the `openfga.v1.OpenFGAService/CreateStore` timeseries selected in the p50 and p90 panels. See:

(p50 request metrics) https://github.com/openfga/openfga/blob/main/telemetry/grafana/dashboards/openfga.json#L220-L246
(p90 request metrics) https://github.com/openfga/openfga/blob/main/telemetry/grafana/dashboards/openfga.json#L341-L367

Simply change the `overrides` to `overrides: []`. "
869,uzubair-miovision,2023-07-14 15:57:56,Moved to the community discussion. 
864,rhamzeh,2023-07-14 17:13:36,"> Latency should be the only impacted metric, no?

RPS should theoretically also increase because the system is not blocked on serving the same check request so it should accept more requests which may be lighter and get processed faster."
870,rhamzeh,2023-07-14 19:23:07,"Hi @KlausVii - absolutely, we'd love a contribution!"
872,codecov[bot],2023-07-15 01:01:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`+0.12`** :tada:
> Comparison is base [(`7df43a7`)](https://app.codecov.io/gh/openfga/openfga/commit/7df43a77ea2d35ad21659a7411ef44bea13374c5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.95% compared to head [(`21c7a4e`)](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #872      +/-   ##
==========================================
+ Coverage   81.95%   82.06%   +0.12%     
==========================================
  Files          64       64              
  Lines        7588     7664      +76     
==========================================
+ Hits         6218     6289      +71     
- Misses       1068     1072       +4     
- Partials      302      303       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.30% <100.00%> (-0.31%)` | :arrow_down: |
| [pkg/server/commands/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRfb2JqZWN0cy5nbw==) | `93.30% <100.00%> (+0.51%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.68% <100.00%> (+0.96%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.61% <100.00%> (-0.13%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/872/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/872?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
871,rhamzeh,2023-07-16 02:52:41,"Hi @mxplusb 

In general we try to follow the [Go guidelines towards internal](https://go.dev/doc/go1.4#internalpackages), and try not to put too many things outside internal b/c we don't want people to assume that the interfaces are stable.

However if there are particular functionalities you'd like exposed, let us know and we can either move them out as is or work on an interface that we believe is more stable for external use. PRs are also always appreciated, but let us know what you are planning to do before spending the effort, just in case we have other options in mind. "
871,jon-whit,2023-07-17 17:37:36,"Internal packages were introduced in Go 1.4. According to their documentation

> Go's package system makes it easy to structure programs into components with clean boundaries, but there are only two forms of access: local (unexported) and global (exported). Sometimes one wishes to have components that are not exported, for instance to avoid acquiring clients of interfaces to code that is part of a public repository but not intended for use outside the program to which it belongs.
> 
> https://go.dev/doc/go1.4#internalpackages

We put things we want to build a public contract on in `pkg`, otherwise it should go in `internal`. The code is still open-source, but you can't import it as a Go symbol.

For example, we have a public contract with the server and storage and typesystem packages (among a few others), and this is because we need those imports in other projects. If another team were to want to embed OpenFGA as a library, then they would need the same imports from `pkg` but not from `internal`.

In general, within the Go ecosystem, if a symbol is not needed publicly yet, then it is wise to put it in `internal` so public contracts are not built around it unexpectedly. If it is needed publicly then put it in `pkg`."
871,siennathesane,2023-07-17 21:50:48,"I’ve worked with Go for a long time and understand `internal`, thanks for the refreshers since it had been awhile 🙂

For my use case, I’m evaluating embedding OpenFGA in my [database](https://github.com/mxplusb/pleiades) so I can provide native FGA functionality at the lowest levels of data operations. The embedding would essentially be a complete rewrite of the OpenFGA runtime architecture to fit into my database’s runtime architecture, and I would also be providing my own storage implementation for the graph. I know I would be taking on a ton of ownership if I went that route, so I was looking through the OpenFGA code base and wanted to ask about the `internal` usages because it felt like stuff was inconsistently placed there.

Ory’s Zanzibar impl, Keto, puts almost everything in `internal` and that really took their implementation off the table for me. I like OpenFGA because it’s less of that, and it feels less “corporate” (even though I know there’s corporate backing for the project). Is y’all’s usage of `internal` focused on safe early iterations of unstable APIs, or is there a long-term plan for putting more stuff in it? If I decide to embed OpenFGA, would I risk losing access to the existing libraries in `pkg` in later releases? Should I create a one-time fork and then port updates to the internal libraries as needed?

Personally, partially because of Keto’s egregiously offensive usage of `internal`, I’m finding the landscape for FGA solutions is very limited, and embedding what exists is very risky. The only path forward for my use case is embedding because I can’t take an external dependency on another database cuz I’m building a database 🤷🏼‍♀️

Whatever y’all end up using `internal` for is, of course, up to y’all. If my use case is something y’all are interested in supporting, keeping very limited things in `internal` so I can consume OpenFGA exclusively as a library that would be super helpful. I’ll hard fork and port updates if my use case is out of scope, it’ll just be more effort for me. That being said, if there’s interest and alignment in supporting my use case, I’m happy to donate and maintain any authz schemas for my database as reference templates (once I get that far) to OpenFGA‘s code base.

Happy to answer questions y’all might have."
871,siennathesane,2023-07-17 22:15:13,"> For example, we have a public contract with the server and storage and typesystem packages (among a few others), and this is because we need those imports in other projects. If another team were to want to embed OpenFGA as a library, then they would need the same imports from `pkg` but not from `internal`.

I missed this nuance before I replied, it’s pretty much exactly what I want to do! If you can keep everything but the CLI/server runtime code in `pkg`, that would be amazing. Personally, I’ll need the storage interface and the graph SDK as a starting point. "
871,jon-whit,2023-07-17 22:32:35,"> If you can keep everything but the CLI/server runtime code in pkg, that would be amazing. Personally, I’ll need the storage interface and the graph SDK as a starting point.

@mxplusb Our intent is for the `Server` struct to be imported if you need the RPCs to serve queries and write/read things. This is why it is separated from the standalone server runtime in `cmd/openfga/run`. From the sounds of your use case, that should suffice, because it allows you to provide any implementation of the storage interface and it will allow you to embed it wherever you need in your Go app. We don't intend to have a public contract with the `interna/graph` package symbols at this time, and so if you are referring to that package and have a need for the deeply internal graph resolution code, then it's unlikely we'll make that public unless we have a compelling reason to do so.

Could you elaborate more about your use case and why you need access to the internal graph package?"
871,siennathesane,2023-07-18 01:22:19,"> Could you elaborate more about your use case and why you need access to the internal graph package?

Sure. I'm providing high-level details, but I'm not sure how much detail you want, so let me know if you have more questions.

My use case is to provide complex authz for a distributed, monolithic, multi-trillion key value store. The kv store itself has a relatively simplistic interface, but it's the platform for complex database storage structures, such as graphs with Gremlin, distributed SQL, RDF triple stores, and other complex data storage structures. To ensure the kv store platform can model complex authz relationships to support a complex set of data structures, I've identified FGA as a foundational technology to provide complex authz support. The requirements for embedding are fairly low: a storage interface which can be implemented, and the underlying graph library.

The storage interface is a requirement because the backend is not compatible with off-the-shelf solutions, and I can't take an external system dependency. The storage implementation is a sharded kv store so it can store the graph across multiple nodes in my kv store cluster. This allows the storage implementation to have centralized writes while having distributed yet linearizable reads, meeting the scalability requirements.

Direct access to the underlying graph library is needed because the app framework needs access to manage the lifecycle, manage the storage implementation, and operate the graph without exposing it to end users. By exposing the graph directly to users through RPC, it creates risks for data integrity/security/compliance, and I don't want to introduce that kind of risk.

Nearly all calls to the graph will be internal to each node as it will primarily be used to check kv store access on reads and writes - with trillions of keys the kv store can't make network hops or serializations on every read or write. Any RPCs for graph management that would be needed will be specific to the kv store, and the platform uses a mixture of HTTP/3 + QUIC.

---

I did dig deeper into the server structure to see what the opportunities are there. I did notice y'all separated the graph operations into `pkg/server/commands`. From what I can tell, that library is closest to being able to meet my requirements, but it relies heavily on checks, validations, and other bits and pieces from `pkg/server`, which takes a hard dependency on `internal/{gateway,graph,validation}`.

> We don't intend to have a public contract with the interna/graph package symbols at this time, and so if you are referring to that package and have a need for the deeply internal graph resolution code, then it's unlikely we'll make that public unless we have a compelling reason to do so.

That code is already public, it's just not available through `go get`. To say, _""it's unlikely that we'll make that public unless we have a compelling reason to do so""_ really sounds like it's not actually _OpenFGA_, but _PublicFGA_. Is this decision because there's actually too much instability in the API, or because it creates the risk other companies might create their own FGA offerings to compete with Auth0 & Okta using work from said companies' engineers & PMs?

If the real concern is there is real instability in the `internal` packages, then I would argue the instability be documented and versioned so devs can make their own choices. I'm happy to submit a PR to make those APIs public, and document any instabilities they might have for downstream consumers."
871,jon-whit,2023-07-18 16:19:48,"@mxplusb thanks for the detailed overview. I've taken a couple of the excerpts and responded inline.

> The storage interface is a requirement because the backend is not compatible with off-the-shelf solutions, and I can't take an external system dependency. The storage implementation is a sharded kv store so it can store the graph across multiple nodes in my kv store cluster.

Awesome, that shouldn't be an issue. You can implement the `OpenFGADatastore` interface in `pkg/storage` for your kv store in a way that meets your requirements for consistency, latency, and availability.

> Direct access to the underlying graph library is needed because the app framework needs access to manage the lifecycle, manage the storage implementation, and operate the graph without exposing it to end users. By exposing the graph directly to users through RPC, it creates risks for data integrity/security/compliance, and I don't want to introduce that kind of risk.

Gotcha. If you embed the OpenFGA Server (e.g. `pkg/server`) in your application, you don't have to expose the RPCs of the OpenFGA server structure to users. You can delegate calls to the RPC stubs of the server without exposing them publicly in any way. Let's pretend you're implementing a server for your application and you have a public HTTP handler.. The following code demonstrates how you can use the OpenFGA server embedded without exposing any of the underlying OpenFGA RPC queries to the end user:

```go
type MXPlusBServer struct {
    openfga *openfga.Server
}

func (s *MXPlusBServer) SomeHTTPHandler(w http.ResponseWriter, r *http.Request) {
    
    checkResponse, err := s.openfga.Check(r.Context(), &openfgapb.CheckRequest{...})
    if err != nil {
        // handle error
        w.Write([]byte(""internal error""))
        w.WriteHeader(http.StatusInternalServerError)
        return
    }

    if checkResponse.GetAllowed() {
        // request is authorized, do something
       return
    }

    w.Write([]byte(""unauthorized""))
    w.WriteHeader(http.StatusUnauthorized)
}
```
and you can construct the OpenFGA server with your custom storage implementation. For example:
```go
import (
    openfgastore ""github.com/openfga/openfga/pkg/storage""
    openfga ""github.com/openfga/openfga/server""
)

var mxplusbKvStore openfgastore.OpenFGADatastore

openfgaServer := openfga.New(
    &openfga.Dependencies{Datastore: mxplusbKvStore, ...},
    &openfga.Config{...},
)
```

> Nearly all calls to the graph will be internal to each node as it will primarily be used to check kv store access on reads and writes - with trillions of keys the kv store can't make network hops or serializations on every read or write. Any RPCs for graph management that would be needed will be specific to the kv store, and the platform uses a mixture of HTTP/3 + QUIC.

If I understand this correctly you're saying that you cannot afford to use the OpenFGA server RPCs because of the overhead of serialization to/from the storage layer as you resolve the graph query and the network hops to/from the storage layer is also not acceptable on every read/write? In which case, what is the plan for evaluating the graph with persistent data? I'm not sure I fully understand, but I'd like to understand this use case better.

> That code is already public, it's just not available through go get. To say, ""it's unlikely that we'll make that public unless we have a compelling reason to do so"" really sounds like it's not actually OpenFGA, but PublicFGA. Is this decision because there's actually too much instability in the API, or because it creates the risk other companies might create their own FGA offerings to compete with Auth0 & Okta using work from said companies' engineers & PMs?

I think this is a matter of personal perception.. If code is publicly available on the internet and carries with it a permissive license (e.g. Apache 2.0), that to me it is highly open (from a legal perspective). You can create derivative works off it without almost any hassle given the permissiveness of Apache 2.0. To say that source code inside of an `internal` package is not ""open"" is a misrepresentation of the permissive nature of Apache 2.0 licensed software. The code may not be importable, but that is _by design_, and this is for the same reason that other developers make use of features of other languages for package scoping (e.g. in Java we have `private/protected/public`). If we don't intend to have symbols publicly consumable, that is not because we are trying to protect ourselves from competition in the market (otherwise we wouldn't make it publicly available on the internet 😄 ), but that is because we don't see a strong use case for making it public and we don't want the internet to build contracts on it if we do not intend to maintain said contracts.  Hyrum's law says

> With a sufficient number of users of an API, it does not matter what you promise in the contract: all observable behaviors of your system will be depended on by somebody.

We're trying to reduce that blast radius by using package scoping mechanisms like so many other languages do. That's all.

There are handfuls of very popular open-source Go projects that make use of the `internal` package pattern. Here are a few examples:
* https://github.com/goreleaser/goreleaser
* https://github.com/traefik/traefik
* https://github.com/redis/go-redis
etc..

Again, we're open to the idea of moving any code out of `internal` into `pkg`, but we just want to see more community reasons to do so before we go making something a public part of our API contract. And before we move anything from `internal` to `pkg` we'd probably want to do our due diligence to cleanup the interfaces etc.. 

Could we schedule a quick call to discuss further? It may help to get in person."
873,codecov[bot],2023-07-18 17:12:24,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00`**% and project coverage change: **`-0.06`** :warning:
> Comparison is base [(`e9bd83d`)](https://app.codecov.io/gh/openfga/openfga/commit/e9bd83df3f61550d1704e14abbb47a2474cb8abf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`2a34be5`)](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #873      +/-   ##
==========================================
- Coverage   82.13%   82.06%   -0.06%     
==========================================
  Files          64       64              
  Lines        7664     7664              
==========================================
- Hits         6294     6289       -5     
- Misses       1068     1072       +4     
- Partials      302      303       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...ver/commands/connectedobjects/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRvYmplY3RzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `93.30% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.68% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/873/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/873?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
871,siennathesane,2023-07-18 17:18:04,"> If you embed the OpenFGA Server (e.g. pkg/server) in your application, you don't have to expose the RPCs of the OpenFGA server structure to users. You can delegate calls to the RPC stubs of the server without exposing them publicly in any way.

Is your implementation of `pkg/server.Server` not bundled with a network implementation? It looked like it was but maybe I misunderstood the architecture. If it's not bundled with a network implementation, it very well might meet my needs. I want to bring my own storage and skip the networking, so as long as your server implementation lets me do that, then it might be sufficient.

> If I understand this correctly you're saying that you cannot afford to use the OpenFGA server RPCs because of the overhead of serialization to/from the storage layer as you resolve the graph query and the network hops to/from the storage layer is also not acceptable on every read/write?

Not quite. The generic flow is `{Get,Put}KeyHandler -> GlobalKeyStore -> ReplicationEngine -> LocalNodeKeyStore -> {Get,Put}KeyFromStorage`. I'm wanting to introduce OpenFGA between `{Get,Put}KeyHandler` and `GlobalKeyStore` so authz can be verified before there's network roundtripping or data storage operations.  

Because this is a hot path for data operations, I'm not able to do is make an external network request, even an RPC call, to an external system between `GetKeyHandler` and `GlobalKeyStore`. An external network request introduces unnecessary overhead and it creates an external dependency. But, if your `pkg/server.Server` implementation doesn't require networking, then I'll definitely take a look!

> In which case, what is the plan for evaluating the graph with persistent data?

Can you clarify the question? I'm not following, sorry. Are you asking about performance impacts for trying to resolve the relationships of {m,b,tr}illions of keys?

> Hyrum's law says

Fair point.

> Again, we're open to the idea of moving any code out of internal into pkg, but we just want to see more community reasons to do so before we go making something a public part of our API contract. And before we move anything from internal to pkg we'd probably want to do our due diligence to cleanup the interfaces etc..

Another fair point.

> Could we schedule a quick call to discuss further?

If you'd like. My email is in my bio (not gonna paste it cuz bots), I'm generally available most days after 3p MT."
871,jon-whit,2023-07-18 17:36:13,"@mxplusb 

> Is your implementation of pkg/server.Server not bundled with a network implementation? It looked like it was but maybe I misunderstood the architecture. If it's not bundled with a network implementation, it very well might meet my needs. I want to bring my own storage and skip the networking, so as long as your server implementation lets me do that, then it might be sufficient.

The only network involved in the RPC stubs is if the storage layer involves network. If you pass in a storage implementation to the `Server` struct that does not do any network hops, then no network will be involved. A good example of this is our `memory` storage adapter in `pkg/storage/memory`. For example

```go
import (
  openfga ""github.com/openfga/openfga/pkg/server""
  openfgamem ""github.com/openfga/openfga/pkg/storage/memory""
)

openfgaServer := openfga.New(
  &openfga.Dependencies{Datastore: openfgamem.New(...), ...},
  &openfga.Config{...},
)

result, err := openfgaServer.Check(...) // no network is used since we're using the memory storage adapter
```

So if you implement the storage interface for your KV store and it doesn't involve any network (e.g. all local in-memory KV store), then graph resolution will completely remain local to the KV node that is executing the Check request etc..."
871,siennathesane,2023-07-18 18:01:13,"Ahhhh that was the part I didn't know, thank you for helping me get there!

I will experiment with it and provide some feedback."
875,codecov[bot],2023-07-18 18:33:45,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`84.29`**% and project coverage change: **`+0.02`** :tada:
> Comparison is base [(`e9bd83d`)](https://app.codecov.io/gh/openfga/openfga/commit/e9bd83df3f61550d1704e14abbb47a2474cb8abf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`98db8a5`)](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.15%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #875      +/-   ##
==========================================
+ Coverage   82.13%   82.15%   +0.02%     
==========================================
  Files          64       64              
  Lines        7664     7677      +13     
==========================================
+ Hits         6294     6306      +12     
  Misses       1068     1068              
- Partials      302      303       +1     
```


| [Impacted Files](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.54% <83.34%> (-0.39%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.68% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.68% <100.00%> (+0.07%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/875/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/875?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
871,miparnisari,2023-07-18 20:55:12,"Note that in the next release, the syntax will be simplified to

```go
openfgaServer := openfga.NewServerWithOpts(
	openfga.WithDatastore(datastore),
)
```

[`datastore` is the only required parameter, everything else will be optional.](https://github.com/openfga/openfga/blob/main/pkg/server/server.go#L154)"
870,KlausVii,2023-07-19 18:21:05,"@rhamzeh - Lovely.

Here's the preliminary flag changes I think we'll need:
- datastore-use-aws-iam: boolean

And probably to decompose the db uri into these to make the setup a bit easier
- datastore-db-name: string
- datastore-db-port: string
- datastore-db-host: string

Are we happy to leave the AWS_ vars to be passed as is and not included the in flags? Or should there be an option to pass them explicitly?

Let me know what you think. I should be able to get started on this later this week."
877,KlausVii,2023-07-19 18:25:18,"Think this would fixed by initialising the httpClient here https://github.com/openfga/openfga/blob/main/internal/authn/oidc/oidc.go#L50 like this 
```
	client := retryablehttp.NewClient()
	client.Logger = nil
	oidc := &RemoteOidcAuthenticator{
		IssuerURL:  issuerURL,
		Audience:   audience,
		httpClient: client.StandardClient(),
	}
```"
870,rhamzeh,2023-07-19 19:04:22,cc @jon-whit : I think you have the most comments/thoughts on this
871,jon-whit,2023-07-19 22:28:47,"@mxplusb I'm going to close for now as it seems we have a path forward. If you find otherwise, please feel free to reach back out and we can re-open and setup a call etc.. 👍 "
870,jon-whit,2023-07-19 22:49:12,"@KlausVii could we open this up for a larger discussion in a more formal RFC (see https://github.com/openfga/rfcs)?

What I'd like to see, beyond just a rough cut of immediately supporting AWS IAM credentials for database credentials, is a rough plan of what this looks like as a developer (what's the setup and DX for this new credential management process) and what _may_ it look like for the other vendors out there (Azure, GCP, etc..). Some open questions:

* **Package structure** - We're introducing a new auth method for the storage layer, and this is potentially for more than one vendor. I'd like to see a recommendation/proposal for that.

* **Config structure** - We support config.yaml, env vars, and flags. Each of these need a proposed change associated with them, and the config structure will vary based on the auth provider I'm sure. We can focus on AWS, but we should at least have a rough story for one other vendor.

* **Interface composition** - At the end of the day the abstraction is a database/sql connection pool to the underlying SQL database through a driver (e.g. `pgx` for postgres or `go-sql-driver/mysql`), but how you obtain that is changing. I'd like to see an attempt for a proposal for an interface that is shared across the implementations that abstracts away the connection details and has implementations specific to the providers. The [Go Cloud CDK](https://gocloud.dev/howto/sql/) might be a good starting point for inspiration or maybe we just adopt that altogether as the defacto standard for our implementation?

    For example:
    * [AWS IAM authentication (v2) to Aurora](https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/UsingWithRDS.IAMDBAuth.Connecting.Go.html#UsingWithRDS.IAMDBAuth.Connecting.GoV2) you use the AWS credentials (which is a proprietary spec for storing and managing creds on the filesystem), obtain an access token, and then construct the connection uri. 

     * [GCP Cloud SQL](https://cloud.google.com/sql/docs/postgres/samples/cloud-sql-postgres-databasesql-connect-connector) the app uses the GCP app default credentials (similar to AWS credentials), obtain an authenticated connection via a cloudsql dialer, and then uses that along with the driver.
     
     * Azure ?? I'm sure it's similar to one of the two above..

Given that what we're proposing here is a commitment to a larger spec and has an impact on the publicly observable API contract of OpenFGA servers, then I believe it warrants a more broad discussion than an ad-hoc Github issue. Even if the RFC is merely an open conversation between just us, then at least the community can reflect back on the decision via a more formal document."
871,miparnisari,2023-07-20 18:41:45,"> Ahhhh that was the part I didn't know, thank you for helping me get there!

We should document in the readme or somewhere in the docs that this project can also be used as a library without the networking baggage"
863,jingchu000,2023-07-21 08:11:02,"Haha, you have already told me how to modify it, haven't you? i work it"
775,jingchu000,2023-07-21 08:12:31,"I may need an example about GRPCWriteTest, and then I will complete the remaining"
870,KlausVii,2023-07-21 15:51:17,"@jon-whit Sounds reasonable, I'll try and scrape something together."
868,jon-whit,2023-07-21 17:19:53,"> I don't have any ideas. Can you give me some hints

@jingchu000 are you interested in contributing, is that the intent behind your comment? If so, please take a look at our [Contributing Guidelines](https://github.com/openfga/openfga#contributing) and feel free open a PR and focus your commentary on questions for the team related to the work.

Thanks 👍 "
881,codecov[bot],2023-07-21 23:03:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/881?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`8e3263f`)](https://app.codecov.io/gh/openfga/openfga/commit/8e3263f7744742aaaa617ba30311eb4d4b48e0ea?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`a075562`)](https://app.codecov.io/gh/openfga/openfga/pull/881?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #881   +/-   ##
=======================================
  Coverage   82.13%   82.13%           
=======================================
  Files          64       64           
  Lines        7664     7664           
=======================================
  Hits         6294     6294           
  Misses       1068     1068           
  Partials      302      302           
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/881/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/881?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
882,linux-foundation-easycla[bot],2023-07-22 00:38:57,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: KlausVii / name: Klaus Viisainen  (ae26e5f3ff52b6ae22788104ea8aa913ab5129c5)</li></ul>"
868,Azanul,2023-07-24 12:48:13,I'd like to resolve this issue.
868,Azanul,2023-07-24 13:17:16,"To introduce a different storage backend (ElasticSearch) to Jaeger, we need to add a new service `elasticsearch` and point to it from `jaeger` service.

If that's what we are looking for, I'll submit a PR right away."
884,codecov[bot],2023-07-24 18:19:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/884?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04`** :tada:
> Comparison is base [(`454e4e9`)](https://app.codecov.io/gh/openfga/openfga/commit/454e4e9d3699a2bad4e2620490bb4f2fb188f07a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.09% compared to head [(`50c37df`)](https://app.codecov.io/gh/openfga/openfga/pull/884?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #884      +/-   ##
==========================================
+ Coverage   82.09%   82.13%   +0.04%     
==========================================
  Files          64       64              
  Lines        7664     7664              
==========================================
+ Hits         6291     6294       +3     
+ Misses       1070     1068       -2     
+ Partials      303      302       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/884/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/884?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Do you have feedback about the report comment? [Let us know in this issue](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
885,linux-foundation-easycla[bot],2023-07-25 12:02:10,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: matoous / name: Matouš Dzivjak  (86e19142a0e3d24b97d62bf9223442b16f321d3f, c7a3c3b286479a1da63d1f6407e2fbcb449bbe6f, 5cc2ec867efd58ebf4d0b1438b12d89e5a71cd16, d4f7cc02e5a2c5fd49c9c675f77b2dc438ebd20d, 8bb639bba035fc4f527bea193487fa6f248595d7, 5154b7e0f69ea6c9f17dd6df0e04c625c4b424aa, f38cd6ccc051351aa0c8a509f00f1bf6d46e01ea)</li><li>:white_check_mark: login: miparnisari / name: Maria Ines Parnisari  (0998ef08e02436f8e946d73d9713bbadcdf0f0be)</li></ul>"
885,jon-whit,2023-07-25 22:47:34,"@matoous why is this a breaking change? Could you elaborate? It appears you've just introduced a new flag that can be used to control the behavior, but its default behavior is to act as it did before. That shouldn't be breaking."
868,jon-whit,2023-07-25 23:03:21,"@Azanul introducing a storage backend service (e.g. ElasticSearch) seems like overkill for the use case here. Using a disk backed jaeger backend seems sufficient.

https://www.jaegertracing.io/docs/1.18/deployment/#badger---local-storage"
885,matoous,2023-07-25 23:15:41,@jon-whit it's a breaking change because now the `insecure` is the default. With these changes the OTLP export by default uses TLS and disabling it is explicit via this flag/param/OTLP env variable. Meaning whoever updates and relies on insecure connection for exporting the traces will have to configure the connection to be insecure. We could make it the other way around and make `insecure` the default but that seems less _secure_ and also doesn't follow the conventions for OTLP.
887,codecov[bot],2023-07-26 01:35:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and no project coverage change.
> Comparison is base [(`4856180`)](https://app.codecov.io/gh/openfga/openfga/commit/48561804c9538728d6fda2820cb8e3caeb6ad4c9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17% compared to head [(`d9feb11`)](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #887   +/-   ##
=======================================
  Coverage   82.17%   82.17%           
=======================================
  Files          64       64           
  Lines        7666     7666           
=======================================
  Hits         6299     6299           
  Misses       1066     1066           
  Partials      301      301           
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.61% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.53% <100.00%> (+0.49%)` | :arrow_up: |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.97% <100.00%> (-0.59%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.63% <100.00%> (-0.04%)` | :arrow_down: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/887?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
885,codecov[bot],2023-07-26 01:43:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.06%`** :tada:
> Comparison is base [(`d87fd75`)](https://app.codecov.io/gh/openfga/openfga/commit/d87fd758e1b7d5c208ec1e46f1660aa7e3d75065?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.55% compared to head [(`0998ef0`)](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.60%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #885      +/-   ##
==========================================
+ Coverage   82.55%   82.60%   +0.06%     
==========================================
  Files          67       67              
  Lines        7962     7985      +23     
==========================================
+ Hits         6572     6595      +23     
  Misses       1085     1085              
  Partials      305      305              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.51% <100.00%> (+0.44%)` | :arrow_up: |
| [pkg/telemetry/tracing.go](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | `93.34% <100.00%> (+1.03%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/885?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
885,miparnisari,2023-07-26 01:43:27,"> With these changes the OTLP export by default uses TLS and disabling it is explicit via this flag/param/OTLP env variable

That's not what i understood from reading this change - you set `Insecure: true` in `DefaultConfig()`.  With this PR:

```
$ ./openfga run --help
Run the OpenFGA server.

Usage:
  openfga run [flags]

Flags:
.....
--trace-otlp-insecure                            use insecure connection for trace collector (default true)
```

If you want to do it securely, you need to explicitly pass `--trace-otlp-insecure=false`. So it's not a breaking change.

---

if we decide to change it so that the default is `false`, we need to update our Docker-compose.yaml file because it doesn't launch as is:

```
Attaching to openfga
openfga  | 2023-07-26T01:52:11.156Z     INFO    🕵 tracing enabled: sampling ratio is 1 and sending traces to 'otel-collector:4317', insecure false
openfga  | panic: failed to establish a connection with the otlp exporter: context deadline exceeded
openfga  | 
openfga  | goroutine 1 [running]:
openfga  | github.com/openfga/openfga/pkg/telemetry.MustNewTracerProvider({0xc00061f6d0, 0x3, 0xc00061f820?})
openfga  |      /app/pkg/telemetry/tracing.go:87 +0x73d
openfga  | github.com/openfga/openfga/cmd/run.RunServer({
```"
888,linux-foundation-easycla[bot],2023-07-26 07:26:58,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: Azanul / name: Azanul Haque  (60455014fa8a0ff8254cbdb4826216d9a0e640bb)</li></ul>"
882,KlausVii,2023-07-26 11:15:46,"> LGTM, but needs a rebase on `main`. Please rebase and then I'll approve 👍

Done and thank you"
882,codecov[bot],2023-07-26 14:25:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/882?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.07%`** :tada:
> Comparison is base [(`5ede653`)](https://app.codecov.io/gh/openfga/openfga/commit/5ede653d5f678bb9bab99dffe99310da3a7439c8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`ae26e5f`)](https://app.codecov.io/gh/openfga/openfga/pull/882?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.09%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #882      +/-   ##
==========================================
+ Coverage   82.02%   82.09%   +0.07%     
==========================================
  Files          64       64              
  Lines        7664     7666       +2     
==========================================
+ Hits         6286     6293       +7     
+ Misses       1074     1070       -4     
+ Partials      304      303       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/882?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/authn/oidc/oidc.go](https://app.codecov.io/gh/openfga/openfga/pull/882?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vb2lkYy9vaWRjLmdv) | `51.79% <100.00%> (+0.88%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/882/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/882?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
882,adriantam,2023-07-26 15:44:04,Thank you @KlausVii for your PR!
888,codecov[bot],2023-07-26 15:50:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/888?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.05%`** :warning:
> Comparison is base [(`f566113`)](https://app.codecov.io/gh/openfga/openfga/commit/f5661139ee553bc1969ebcbb55543ab4876de684?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.16% compared to head [(`bb655cc`)](https://app.codecov.io/gh/openfga/openfga/pull/888?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11%.

> :exclamation: Current head bb655cc differs from pull request most recent head 6045501. Consider uploading reports for the commit 6045501 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #888      +/-   ##
==========================================
- Coverage   82.16%   82.11%   -0.05%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
- Hits         6298     6294       -4     
- Misses       1067     1070       +3     
- Partials      301      302       +1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/888/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/888?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
888,jon-whit,2023-07-26 16:44:47,@Azanul please rebase on main.
885,jon-whit,2023-07-26 16:52:32,My recommendation here would be to just follow suite with the rest of our flags and allow them to provide a `--trace-otlp-tls-enabled` flag which implies `insecure=false`. The default can be to have `--trace-otlp-tls-enabled=false` so `insecure=true` is the default (which is the current behavior and require no extra config elsewhere).
880,codecov[bot],2023-07-26 20:09:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`92.07%`** and project coverage change: **`+0.19%`** :tada:
> Comparison is base [(`77f4ab8`)](https://app.codecov.io/gh/openfga/openfga/commit/77f4ab850e75ded847468d9d6c8585d15aaaee34?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.15% compared to head [(`026ef66`)](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.33%.
> Report is 1 commits behind head on main.

> :exclamation: Current head 026ef66 differs from pull request most recent head 746fe2e. Consider uploading reports for the commit 746fe2e to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #880      +/-   ##
==========================================
+ Coverage   82.15%   82.33%   +0.19%     
==========================================
  Files          64       64              
  Lines        7666     7746      +80     
==========================================
+ Hits         6297     6377      +80     
- Misses       1068     1069       +1     
+ Partials      301      300       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `84.77% <ø> (ø)` | |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.67% <91.74%> (+1.34%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.88% <100.00%> (+0.27%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/880?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
890,wangdyqxx,2023-07-27 08:20:14,i found it
891,jon-whit,2023-07-27 23:16:09,"- [x] todo(@jon-whit ) - add tests
- [x] todo(@jon-whit) - wire up the ListObjects server RPC handler to use the CachedCheckResolver as well.
- [x] todo(@jon-whit) - wire up the server flags to configure the Check query cache TTL and Check cache size limit."
891,codecov[bot],2023-07-27 23:20:24,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`85.66%`** and project coverage change: **`+0.19%`** :tada:
> Comparison is base [(`4bc5053`)](https://app.codecov.io/gh/openfga/openfga/commit/4bc50537bbcb96baf70ab059d2566df433ea4ab9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`7df0472`)](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #891      +/-   ##
==========================================
+ Coverage   82.34%   82.52%   +0.19%     
==========================================
  Files          64       66       +2     
  Lines        7760     7969     +209     
==========================================
+ Hits         6389     6576     +187     
- Misses       1069     1088      +19     
- Partials      302      305       +3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/mock\_check\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvbW9ja19jaGVja19yZXNvbHZlci5nbw==) | `71.43% <71.43%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `76.46% <79.32%> (+0.19%)` | :arrow_up: |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.89% <80.96%> (+0.82%)` | :arrow_up: |
| [internal/graph/cached\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2FjaGVkX3Jlc29sdmVyLmdv) | `89.25% <89.25%> (ø)` | |
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `75.20% <100.00%> (+0.57%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.63% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/891/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/891?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
895,codecov[bot],2023-07-28 20:56:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/895?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.10%`** :warning:
> Comparison is base [(`6efcac9`)](https://app.codecov.io/gh/openfga/openfga/commit/6efcac9197c20dcbabc21863a160ff06ade97f9b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20% compared to head [(`609f447`)](https://app.codecov.io/gh/openfga/openfga/pull/895?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.09%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #895      +/-   ##
==========================================
- Coverage   82.20%   82.09%   -0.10%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
- Hits         6301     6293       -8     
- Misses       1065     1070       +5     
- Partials      300      303       +3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.04% <ø> (+0.33%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/895/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/895?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
861,aaguiarz,2023-07-30 00:18:48,"Hi @jerclark 

This is something we have in our roadmap but it's not scheduled yet https://github.com/openfga/roadmap/issues/33"
890,shubhamsaininnl,2023-07-31 13:44:00,"hey @wangdyqxx , 

Can you pls share where you have found MySQL table schemas
and do we have to create schemas manually if using our own MySQL server"
898,codecov[bot],2023-08-01 16:23:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`93.64%`** and project coverage change: **`+0.10%`** :tada:
> Comparison is base [(`9e69c9e`)](https://app.codecov.io/gh/openfga/openfga/commit/9e69c9ebacc7de16b4068cc096d6dafab55796e4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`6c61dbe`)](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #898      +/-   ##
==========================================
+ Coverage   82.13%   82.23%   +0.10%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
+ Hits         6296     6303       +7     
+ Misses       1068     1063       -5     
+ Partials      302      300       -2     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/authn/authn.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vYXV0aG4uZ28=) | `57.15% <ø> (ø)` | |
| [internal/authn/oidc/oidc.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vb2lkYy9vaWRjLmdv) | `51.79% <ø> (ø)` | |
| [pkg/storage/storage.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZS5nbw==) | `100.00% <ø> (ø)` | |
| [pkg/tuple/tuple\_errors.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlX2Vycm9ycy5nbw==) | `38.47% <ø> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.61% <54.55%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.53% <66.67%> (ø)` | |
| [pkg/storage/storagewrappers/context.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NvbnRleHQuZ28=) | `84.38% <66.67%> (ø)` | |
| [pkg/server/errors/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `60.28% <70.00%> (ø)` | |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.55% <81.40%> (+0.22%)` | :arrow_up: |
| [pkg/storage/iterators.go](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | `95.78% <85.72%> (+4.23%)` | :arrow_up: |
| ... and [30 more](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/898?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
902,codecov[bot],2023-08-01 18:43:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/902?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`5b26c32`)](https://app.codecov.io/gh/openfga/openfga/commit/5b26c32ef479da521818078f0c2562230e2b9b3f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`0ec5a1e`)](https://app.codecov.io/gh/openfga/openfga/pull/902?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #902   +/-   ##
=======================================
  Coverage   82.37%   82.37%           
=======================================
  Files          64       64           
  Lines        7746     7746           
=======================================
  Hits         6380     6380           
  Misses       1066     1066           
  Partials      300      300           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/902?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
907,codecov[bot],2023-08-01 18:57:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/907?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`6612d29`)](https://app.codecov.io/gh/openfga/openfga/commit/6612d29cf1476c21ed374bc0788c599e94ed75e1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`f23dcac`)](https://app.codecov.io/gh/openfga/openfga/pull/907?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #907   +/-   ##
=======================================
  Coverage   82.38%   82.38%           
=======================================
  Files          64       64           
  Lines        7746     7746           
=======================================
  Hits         6381     6381           
  Misses       1066     1066           
  Partials      299      299           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/907?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
906,codecov[bot],2023-08-01 18:57:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/906?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`31b63f3`)](https://app.codecov.io/gh/openfga/openfga/commit/31b63f3d185faf44a2048e2a67ca3ce79ecc0608?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`7251d8a`)](https://app.codecov.io/gh/openfga/openfga/pull/906?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #906   +/-   ##
=======================================
  Coverage   82.37%   82.37%           
=======================================
  Files          64       64           
  Lines        7746     7746           
=======================================
  Hits         6380     6380           
  Misses       1066     1066           
  Partials      300      300           
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/906/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/906?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
905,codecov[bot],2023-08-01 18:58:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/905?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.14%`** :tada:
> Comparison is base [(`ff41e31`)](https://app.codecov.io/gh/openfga/openfga/commit/ff41e318068dc0fadcb26186a91202bb729eab59?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`9c223c2`)](https://app.codecov.io/gh/openfga/openfga/pull/905?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #905      +/-   ##
==========================================
+ Coverage   82.13%   82.26%   +0.14%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
+ Hits         6296     6306      +10     
+ Misses       1068     1061       -7     
+ Partials      302      299       -3     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/905/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/905?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
908,codecov[bot],2023-08-01 18:58:49,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/908?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`6c9692f`)](https://app.codecov.io/gh/openfga/openfga/commit/6c9692f86d6ada8a83031e07048b807a50e5ef76?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`00d5c02`)](https://app.codecov.io/gh/openfga/openfga/pull/908?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.41%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #908      +/-   ##
==========================================
+ Coverage   82.37%   82.41%   +0.04%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6380     6383       +3     
+ Misses       1066     1064       -2     
+ Partials      300      299       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/908/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/908?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
909,codecov[bot],2023-08-01 18:58:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/909?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.21%`** :warning:
> Comparison is base [(`5f8ffc2`)](https://app.codecov.io/gh/openfga/openfga/commit/5f8ffc2cb8549ffbdf9d7c6a8063702d9075a91c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`91afcf8`)](https://app.codecov.io/gh/openfga/openfga/pull/909?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13%.
> Report is 1 commits behind head on main.

> :exclamation: Current head 91afcf8 differs from pull request most recent head ea3c5ad. Consider uploading reports for the commit ea3c5ad to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #909      +/-   ##
==========================================
- Coverage   82.34%   82.13%   -0.21%     
==========================================
  Files          64       64              
  Lines        7746     7666      -80     
==========================================
- Hits         6378     6296      -82     
  Misses       1068     1068              
- Partials      300      302       +2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/909/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/909?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
911,codecov[bot],2023-08-01 19:01:04,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/911?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.08%`** :tada:
> Comparison is base [(`5bd4899`)](https://app.codecov.io/gh/openfga/openfga/commit/5bd48997255be967696ec057bb623a96c375b905?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`27a2a3f`)](https://app.codecov.io/gh/openfga/openfga/pull/911?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #911      +/-   ##
==========================================
+ Coverage   82.34%   82.42%   +0.08%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6378     6384       +6     
+ Misses       1068     1063       -5     
+ Partials      300      299       -1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/911/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/911?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
912,codecov[bot],2023-08-01 20:07:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/912?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`ff41e31`)](https://app.codecov.io/gh/openfga/openfga/commit/ff41e318068dc0fadcb26186a91202bb729eab59?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`a5e0a12`)](https://app.codecov.io/gh/openfga/openfga/pull/912?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #912      +/-   ##
==========================================
+ Coverage   82.13%   82.17%   +0.04%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
+ Hits         6296     6299       +3     
+ Misses       1068     1066       -2     
+ Partials      302      301       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/912/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/912?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
912,jon-whit,2023-08-01 20:19:11,"> For things like
> 
> ```
> (#860)
> ```
> 
> Can we use the full path like
> 
> ```
> ([#860](https://github.com/openfga/openfga/pull/860))
> ```
> 
> This allows user to click and see the exact change

Github auto-links in the release notes."
640,kdubb,2023-08-01 21:58:16,@jon-whit @rhamzeh Any news on this?
899,jon-whit,2023-08-01 22:29:45,"Fixed with #898 and released the changes in [v1.3.0](https://github.com/openfga/openfga/releases/tag/v1.3.0).

See https://github.com/orgs/openfga/discussions/187 for any further discussion."
916,codecov[bot],2023-08-02 15:27:26,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and no project coverage change.
> Comparison is base [(`d88474a`)](https://app.codecov.io/gh/openfga/openfga/commit/d88474a3871cb50f40476dd8b70ec9f9ea6a870a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.15% compared to head [(`4bd99f3`)](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.15%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #916   +/-   ##
=======================================
  Coverage   82.15%   82.15%           
=======================================
  Files          64       64           
  Lines        7666     7666           
=======================================
  Hits         6297     6297           
  Misses       1068     1068           
  Partials      301      301           
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.61% <ø> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.69% <100.00%> (+0.49%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/916/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/916?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
911,jon-whit,2023-08-02 16:12:03,@dependabot rebase
917,codecov[bot],2023-08-02 20:55:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/917?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.06%`** :tada:
> Comparison is base [(`1d07f74`)](https://app.codecov.io/gh/openfga/openfga/commit/1d07f748d26fe633529a1de936f00bcebc22247f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.53% compared to head [(`e007696`)](https://app.codecov.io/gh/openfga/openfga/pull/917?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.58%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #917      +/-   ##
==========================================
+ Coverage   82.53%   82.58%   +0.06%     
==========================================
  Files          67       67              
  Lines        7962     7962              
==========================================
+ Hits         6571     6575       +4     
+ Misses       1086     1083       -3     
+ Partials      305      304       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/917/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/917?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
870,KlausVii,2023-08-02 20:56:57,"Sorry it took a while, but I've opened an RFC now, please let me know what thoughts you may have."
919,codecov[bot],2023-08-02 23:05:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/919?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03%`** :tada:
> Comparison is base [(`77f4ab8`)](https://app.codecov.io/gh/openfga/openfga/commit/77f4ab850e75ded847468d9d6c8585d15aaaee34?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.15% compared to head [(`a598965`)](https://app.codecov.io/gh/openfga/openfga/pull/919?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #919      +/-   ##
==========================================
+ Coverage   82.15%   82.17%   +0.03%     
==========================================
  Files          64       64              
  Lines        7666     7666              
==========================================
+ Hits         6297     6299       +2     
+ Misses       1068     1066       -2     
  Partials      301      301              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/919/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/919?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
920,adriantam,2023-08-03 13:00:06,@rouven-s : Thank you for reporting this!  We will investigate this issue.
920,adriantam,2023-08-03 13:27:11,"We are able to reproduce issue with a smaller set

Model:

```
model
  schema 1.1
type user
type test_type
  relations
    define relation1: [user]
    define relation2: [user]
   
type list_type
  relations
    define list_relation: [test_type#relation1,test_type#relation2]

```

Tuples:
```
[
	{
			""user"": ""user:test_user"",
			""relation"": ""relation1"",
			""object"": ""test_type:test_type1""
        },
	{
			""user"": ""user:test_user"",
			""relation"": ""relation2"",
			""object"": ""test_type:test_type1""
        },
	{
			""user"": ""test_type:test_type1#relation1"",
			""relation"": ""list_relation"",
			""object"": ""list_type:list_type1""
        }
]
```

Querying list object with the following
```
{
    ""user"": ""user:test_user"",
    ""relation"": ""list_relation"",
    ""type"": ""list_type""
}
```
will reproduce inconsistency.

Check 
```
{
  ""tuple_key"": {
    ""object"": ""list_type:list_type1"",
    ""relation"": ""list_relation"",
    ""user"": ""user:test_user""
  }
}
```
return true while list object query may reproduce empty list"
910,codecov[bot],2023-08-03 16:56:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/910?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.07%`** :tada:
> Comparison is base [(`5f8ffc2`)](https://app.codecov.io/gh/openfga/openfga/commit/5f8ffc2cb8549ffbdf9d7c6a8063702d9075a91c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`e2e21cf`)](https://app.codecov.io/gh/openfga/openfga/pull/910?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.41%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #910      +/-   ##
==========================================
+ Coverage   82.34%   82.41%   +0.07%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6378     6383       +5     
+ Misses       1068     1064       -4     
+ Partials      300      299       -1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/910/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/910?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
903,codecov[bot],2023-08-03 17:00:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/903?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`005978d`)](https://app.codecov.io/gh/openfga/openfga/commit/005978d3dfab00a6894949a6c2490849ffb84ba4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`5791cb0`)](https://app.codecov.io/gh/openfga/openfga/pull/903?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.41%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #903      +/-   ##
==========================================
+ Coverage   82.37%   82.41%   +0.04%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6380     6383       +3     
+ Misses       1066     1064       -2     
+ Partials      300      299       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/903/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/903?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
923,codecov[bot],2023-08-03 20:19:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/923?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.17%`** :tada:
> Comparison is base [(`24ab5f2`)](https://app.codecov.io/gh/openfga/openfga/commit/24ab5f2f8197412a24449b5993d7fc12375ac7be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`5d570ef`)](https://app.codecov.io/gh/openfga/openfga/pull/923?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #923      +/-   ##
==========================================
+ Coverage   82.29%   82.46%   +0.17%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6374     6387      +13     
+ Misses       1071     1061      -10     
+ Partials      301      298       -3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/923?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/923?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `75.91% <100.00%> (+1.04%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/923/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/923?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
892,miparnisari,2023-08-03 22:10:39,~~Could be related to https://github.com/openfga/openfga/issues/920~~
924,codecov[bot],2023-08-04 18:03:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/924?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.34%`** :tada:
> Comparison is base [(`968f851`)](https://app.codecov.io/gh/openfga/openfga/commit/968f851732b365d8a690b72736f5b61e7b1de3be?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.18% compared to head [(`4a117a2`)](https://app.codecov.io/gh/openfga/openfga/pull/924?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51%.

> :exclamation: Current head 4a117a2 differs from pull request most recent head 24b2dcb. Consider uploading reports for the commit 24b2dcb to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #924      +/-   ##
==========================================
+ Coverage   82.18%   82.51%   +0.34%     
==========================================
  Files          64       64              
  Lines        7754     7752       -2     
==========================================
+ Hits         6372     6396      +24     
+ Misses       1080     1057      -23     
+ Partials      302      299       -3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/924?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/924?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `76.28% <100.00%> (+0.37%)` | :arrow_up: |

... and [6 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/924/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/924?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
922,miparnisari,2023-08-04 21:00:19,"Hey @KlausVii, thanks for the report. We're thinking about removing those logs since, if using the defaults, the only issue will be that reads will be throttled because you can't have more than `Datastore.MaxOpenConns` queries executing at once against the database. 

We could also set `Datastore.MaxOpenConns` to also be `MaxUint32`. If (...and that's a big if) people inspect their database logs they should start seeing errors like `no connections available`, which should ideally prompt them to fine-tune this setting.

My personal goal with either option is for people to realize that to get the best performance they need to change the defaults according to their deployment (e.g. how many OpenFGA replicas running? how many connections can the database hold? are there other apps running queries against the database? how much traffic for Check or for ListObjects?)

What do you think?"
922,KlausVii,2023-08-04 23:40:36,"Thanks for the reply @miparnisari

I was mostly confused because that function returned an error for all the other cases within it that caused the application to fail to start and because it used fmt.Printf instead of the logger causing the warnings to not follow log format. 

We had our logger set to json, and so these logs showed up as unparsed by our log aggregator.

I'm not sure what the correct default configuration should be, though maybe just not setting `MaxOpenConns` could be reasonable (that's what the std library does and it should work for most people). I would expect an application's default configuration to run with decent performance and minimal warnings on a typical deployment. "
926,codecov[bot],2023-08-05 00:42:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/926?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`46.35%`** and project coverage change: **`-0.09%`** :warning:
> Comparison is base [(`e2d6ebe`)](https://app.codecov.io/gh/openfga/openfga/commit/e2d6ebe650bc61348b9c11a2646382e72f83d551?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`dbfebed`)](https://app.codecov.io/gh/openfga/openfga/pull/926?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #926      +/-   ##
==========================================
- Coverage   82.23%   82.14%   -0.09%     
==========================================
  Files          64       64              
  Lines        7754     7754              
==========================================
- Hits         6376     6369       -7     
- Misses       1075     1082       +7     
  Partials      303      303              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/926?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/926?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.36% <46.35%> (-0.65%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/926/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/926?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
910,jon-whit,2023-08-07 16:18:53,@dependabot rebase
909,jon-whit,2023-08-07 16:36:36,@dependabot rebase
908,jon-whit,2023-08-07 16:57:57,@dependabot rebase
905,dependabot[bot],2023-08-07 16:58:47,Superseded by #929.
929,codecov[bot],2023-08-07 17:08:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/929?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02%`** :warning:
> Comparison is base [(`26843b4`)](https://app.codecov.io/gh/openfga/openfga/commit/26843b42f90a7aa4df8d436f9043d432bbb1ff5d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`c8943b6`)](https://app.codecov.io/gh/openfga/openfga/pull/929?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #929      +/-   ##
==========================================
- Coverage   82.37%   82.34%   -0.02%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
- Hits         6380     6378       -2     
- Misses       1066     1068       +2     
  Partials      300      300              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/929/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/929?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
907,jon-whit,2023-08-07 17:16:09,@dependabot rebase
929,jon-whit,2023-08-07 17:39:40,@dependabot rebase
900,jon-whit,2023-08-07 17:51:05,@dependabot rebase
900,codecov[bot],2023-08-07 17:57:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/900?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01%`** :warning:
> Comparison is base [(`e96a9fc`)](https://app.codecov.io/gh/openfga/openfga/commit/e96a9fccf3803cb40d7b4e65e0e8ed0a4859cc12?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`815914d`)](https://app.codecov.io/gh/openfga/openfga/pull/900?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #900      +/-   ##
==========================================
- Coverage   82.38%   82.37%   -0.01%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
- Hits         6381     6380       -1     
  Misses       1066     1066              
- Partials      299      300       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/900/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/900?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
904,codecov[bot],2023-08-07 20:01:37,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/904?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.21%`** :tada:
> Comparison is base [(`02945de`)](https://app.codecov.io/gh/openfga/openfga/commit/02945de0b324e82bee488d67e3c564966b5fbd95?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31% compared to head [(`92cc5af`)](https://app.codecov.io/gh/openfga/openfga/pull/904?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #904      +/-   ##
==========================================
+ Coverage   82.31%   82.51%   +0.21%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
+ Hits         6375     6391      +16     
+ Misses       1070     1059      -11     
+ Partials      301      296       -5     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/904/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/904?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
901,codecov[bot],2023-08-07 20:02:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/901?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.09%`** :warning:
> Comparison is base [(`8145a5e`)](https://app.codecov.io/gh/openfga/openfga/commit/8145a5ebe2c9ed8bd6d8123a69b32d22f4e1f763?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43% compared to head [(`ad12cdb`)](https://app.codecov.io/gh/openfga/openfga/pull/901?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #901      +/-   ##
==========================================
- Coverage   82.43%   82.34%   -0.09%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
- Hits         6385     6378       -7     
- Misses       1063     1068       +5     
- Partials      298      300       +2     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/901/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/901?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
902,jon-whit,2023-08-07 22:36:07,@dependabot rebase
756,jon-whit,2023-08-07 22:36:40,Closing until we can get around to this at a later time.
901,jon-whit,2023-08-07 22:47:11,@dependabot rebase
929,jon-whit,2023-08-07 22:59:16,@dependabot rebase
920,alee792,2023-08-08 04:45:42,I'm seeing this on 1.2.0 as well.
927,codecov[bot],2023-08-08 13:11:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/927?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`-0.21%`** :warning:
> Comparison is base [(`88a86ec`)](https://app.codecov.io/gh/openfga/openfga/commit/88a86eccf5d46f25da2b98dd3feb710a69beba62?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.59% compared to head [(`1e9ec7f`)](https://app.codecov.io/gh/openfga/openfga/pull/927?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #927      +/-   ##
==========================================
- Coverage   82.59%   82.37%   -0.21%     
==========================================
  Files          64       64              
  Lines        7746     7746              
==========================================
- Hits         6397     6380      -17     
- Misses       1054     1066      +12     
- Partials      295      300       +5     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/927?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/927?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | `66.67% <100.00%> (ø)` | |

... and [5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/927/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/927?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
930,codecov[bot],2023-08-08 14:09:21,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/930?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`8dc2ed6`)](https://app.codecov.io/gh/openfga/openfga/commit/8dc2ed62413e7cccc7da57da057f1f1fc17dcb8a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.94% compared to head [(`724ef10`)](https://app.codecov.io/gh/openfga/openfga/pull/930?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.04%.
> Report is 140 commits behind head on main.

> :exclamation: Current head 724ef10 differs from pull request most recent head 49b7f19. Consider uploading reports for the commit 49b7f19 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #930      +/-   ##
==========================================
+ Coverage   81.94%   82.04%   +0.10%     
==========================================
  Files          69       69              
  Lines        8189     8266      +77     
==========================================
+ Hits         6710     6781      +71     
- Misses       1166     1172       +6     
  Partials      313      313              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/930?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
931,codecov[bot],2023-08-08 15:15:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/931?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`415787c`)](https://app.codecov.io/gh/openfga/openfga/commit/415787ca9ea2e80b9fa28b07a9e544c216bf3d95?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`dd1dd55`)](https://app.codecov.io/gh/openfga/openfga/pull/931?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #931   +/-   ##
=======================================
  Coverage   82.34%   82.34%           
=======================================
  Files          64       64           
  Lines        7746     7746           
=======================================
  Hits         6378     6378           
  Misses       1068     1068           
  Partials      300      300           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/931?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
852,jon-whit,2023-08-08 16:05:48,"Just to elaborate on my last comment for any future readers.. Imagine you have a model such as

```
type user

type employee

type group
  relations
    define member: [employee]

type document
  relations
    define viewer: [user, group#member]
```

If you call `Check(document:1#viewer@user:jon)`, then the evaluation path for `group#member` relationships with `document#viewer` is an unecessary path in the search because there is no path in that subgraph that leads from `document#viewer` through `group#member` to a `user` object. `group#member` is only directly related to `employee` object types, and so there would not exist any path leading to a `user` object type from that subgraph.

We refer to these paths of connectivity in the graph of relationships as ""relationship ingresses"" or entrypoints. The ingress' from some source to some target are the paths that are connected via directly related user types as you expand the graph."
932,codecov[bot],2023-08-08 20:05:52,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`89.66%`** and project coverage change: **`-0.12%`** :warning:
> Comparison is base [(`7d9b32b`)](https://app.codecov.io/gh/openfga/openfga/commit/7d9b32bc1bd45cc6bcf1a48a3fd1479f274d5fc4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`e48864f`)](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #932      +/-   ##
==========================================
- Coverage   82.37%   82.25%   -0.12%     
==========================================
  Files          64       64              
  Lines        7746     7754       +8     
==========================================
- Hits         6380     6377       -3     
- Misses       1066     1075       +9     
- Partials      300      302       +2     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.20% <72.73%> (-0.11%)` | :arrow_down: |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.63% <100.00%> (+0.50%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/932/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/932?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
932,miparnisari,2023-08-09 00:34:34,"In the PR description you say

> First step for https://github.com/openfga/openfga/issues/852

What does this mean? What is the next step?"
932,adriantam,2023-08-09 01:01:34,"> In the PR description you say
> 
> > First step for #852
> 
> What does this mean? What is the next step?

The ideal solution is to check with graph/ingress to see if there is a path and don't need to check userset if the types will not lead to any solution. However, this work, as seen in the TestCheckDatastoreQueryCount updates, already provide very good optimization."
393,Tomsons,2023-08-09 11:56:53,Just saw this but its not openfga dependent but rather the underlying library used for the migrations. Just achieved it see [here](https://github.com/jackc/pgx/issues/1013)
934,codecov[bot],2023-08-10 00:40:38,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/934?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`acc3253`)](https://app.codecov.io/gh/openfga/openfga/commit/acc32530cf686423954cbe5adec53b99495d3716?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`a81db1b`)](https://app.codecov.io/gh/openfga/openfga/pull/934?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #934   +/-   ##
=======================================
  Coverage   82.02%   82.02%           
=======================================
  Files          69       69           
  Lines        8222     8222           
=======================================
  Hits         6743     6743           
  Misses       1166     1166           
  Partials      313      313           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/934?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
935,miparnisari,2023-08-10 17:24:20,"It's actually two issues...

- The order of the interceptors https://github.com/openfga/openfga/blob/77f4ab850e75ded847468d9d6c8585d15aaaee34/cmd/run/run.go#L614-L644

I think the right order is:

```go
grpc_ctxtags.UnaryServerInterceptor(), // needed for logging 
requestid.NewUnaryInterceptor(), // add request_id to ctxtags
storeid.NewUnaryInterceptor(), // if available, add store_id to ctxtags
logging.NewLoggingInterceptor(logger), // logging
grpc_validator.UnaryServerInterceptor(),
grpc_prometheus.UnaryServerInterceptor(),
otelgrpc.UnaryServerInterceptor(),
grpc_auth.UnaryServerInterceptor(authnmw.AuthFunc(authenticator))
```

- The logging interceptor is ignoring the `err` parameter 😅 https://github.com/openfga/openfga/blob/bb1ed2e42efabf63da2fa37e12a05fb72e349c23/pkg/middleware/logging/logging.go#L75-L83"
918,miparnisari,2023-08-10 22:13:07,"Once this is fixed https://github.com/openfga/openfga/issues/935

Add another test please :)"
806,miparnisari,2023-08-11 00:24:08,Last run (before the merge): https://github.com/openfga/openfga/actions/runs/5827406496/job/15803400274
338,apexskier,2023-08-11 16:24:47,"I just hit a similar error running the OpenFGA playground under a custom hostname.
<img width=""695"" alt=""authz-openfga test3000playground - Google Chrome - 2023-08-11 at 10 24 27@2x"" src=""https://github.com/openfga/openfga/assets/329222/9ae331ed-3c13-409f-9e1b-2fdd52b16c9e"">
"
338,rhamzeh,2023-08-11 17:12:51,"> I just hit a similar error running the OpenFGA playground under a custom hostname. <img alt=""authz-openfga test3000playground - Google Chrome - 2023-08-11 at 10 24 27@2x"" width=""695"" src=""https://user-images.githubusercontent.com/329222/260062143-9ae331ed-3c13-409f-9e1b-2fdd52b16c9e.png"">

Hi @apexskier - the playground will only work with `localhost:3000`. It will not load on any custom hostname or alternate port. We enforce that through the CSP."
920,irees,2023-08-11 21:47:03,"This is the same issue I've been experiencing in my deployment. I've also been working on a reproducible test, but I'll keep an eye on this issue too. I've observed it in 1.2.0 and 1.3.0."
920,miparnisari,2023-08-11 22:40:05,"Hi @rouven-s, @alee792, @irees! Thanks for reporting. We are working on a fix."
940,codecov[bot],2023-08-14 21:05:31,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/940?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`a1b3c33`)](https://app.codecov.io/gh/openfga/openfga/commit/a1b3c330a225456957f82ba3d1c845c1fe6d804d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`168de73`)](https://app.codecov.io/gh/openfga/openfga/pull/940?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #940      +/-   ##
==========================================
+ Coverage   82.35%   82.39%   +0.04%     
==========================================
  Files          64       64              
  Lines        7760     7760              
==========================================
+ Hits         6390     6393       +3     
+ Misses       1069     1067       -2     
+ Partials      301      300       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/940/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/940?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
941,linux-foundation-easycla[bot],2023-08-15 03:03:14,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: tranngoclam / name: Lam Tran  (58c049476a3399135f21f96b5bd5aabc213ed977)</li><li>:white_check_mark: login: adriantam / name: Adrian Tam  (91c9e4108d05d865857e48617c2a94196d7cc038)</li></ul>"
941,adriantam,2023-08-15 13:13:10,@tranngoclam Thank you for contributing.  Can you sign the CLA as it is a requirement for CNCF project?  Thank you.
941,codecov[bot],2023-08-15 13:15:52,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/941?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01%`** :warning:
> Comparison is base [(`1f9c637`)](https://app.codecov.io/gh/openfga/openfga/commit/1f9c6370976a56dc0535309f02e3a12c4880a372?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51% compared to head [(`91c9e41`)](https://app.codecov.io/gh/openfga/openfga/pull/941?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #941      +/-   ##
==========================================
- Coverage   82.51%   82.50%   -0.01%     
==========================================
  Files          66       66              
  Lines        7981     7981              
==========================================
- Hits         6585     6584       -1     
  Misses       1091     1091              
- Partials      305      306       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/941/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/941?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
941,tranngoclam,2023-08-15 13:40:48,"> @tranngoclam Thank you for contributing. Can you sign the CLA as it is a requirement for CNCF project? Thank you.

@adriantam I have signed the CLA"
942,jon-whit,2023-08-15 15:22:38,"@KlausVii how many objects is the ListObjects call  for the `project#can_view` relation expected to return? If the number is high, then the higher latency is not too out of the ordinary. If an intersection `a and b` or an exclusion `a but not b` is involved in the relationship, we end up resolving the lookup with concurrent Checks. The more objects there are expected to be returned, then the worse the latency can become.

Also, for every Project that the user has the `can_view` relationship with, OpenFGA will have to resolve `project:<id>#revoked` relationship to determine the exclusion for `project#can_view`. If most of the projects being returned fall under the same tenant, then our upcoming work with Check caching (see #891) will help reduce those repetitive lookups. For example if you have tuples such as:

```
- tenant:acme#revoked:user:jon
- project:1#owner_tenant@tenant:acme
- project:2#owner_tenant@tenant:acme
- project:3#owner_tenant@tenant:acme
- ...
``` 

then when we go to resolve `Check(tenant:acme#revoked@user:jon)` in the `project#revoked` resolution path, then that lookup will be cached and re-used after the first resolution. This Check resolution cache will help a lot with your problem, and we expect to release that soon.

For us to better assist you though, could you share what your server settings are set to, what database are you using, what version of OpenFGA, etc..?"
943,codecov[bot],2023-08-15 16:08:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/943?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`91.67%`** and project coverage change: **`+0.06%`** :tada:
> Comparison is base [(`b7bcc84`)](https://app.codecov.io/gh/openfga/openfga/commit/b7bcc8453cd5b9201f477e3d394f7df23059d182?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`a063364`)](https://app.codecov.io/gh/openfga/openfga/pull/943?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #943      +/-   ##
==========================================
+ Coverage   82.42%   82.48%   +0.06%     
==========================================
  Files          66       66              
  Lines        7969     7981      +12     
==========================================
+ Hits         6568     6582      +14     
+ Misses       1094     1093       -1     
+ Partials      307      306       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/943?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/middleware/logging/logging.go](https://app.codecov.io/gh/openfga/openfga/pull/943?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `87.02% <91.67%> (+0.86%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/943/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/943?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
942,KlausVii,2023-08-15 16:35:34,"@jon-whit Thanks for the reply!

We expect on the order of 10-50 projects to be returned in most cases, from 1000s of projects in the tuples once we are fully up and running. Most users would probably not be revoked from anything usually.

I think the caching work will help substantially, since the main use case is that a user is revoked from a tenant and is therefore not allowed to access any of that tenant's projects. 

Does the fact `[user]` is included under `revoked` in the project mean that fga would still need to check `project:1#revoked@user:jon` for every project anyway? 

Is the current algo doing a separate revoked SQL query for each project in the list?

Another possible speed could be to internally list all projects a user `can_view` and then subtract all the `revoked` ones; these 2 queries are very fast individually without the `but not` in the model. Not sure how you would figure that out programatically though.

We are running:
- version 1.3 
- default options
- postgres db 
- inside an EKS cluster. "
942,jon-whit,2023-08-15 16:49:27,"> I think the caching work will help substantially, since the main use case is that a user is revoked from a tenant and is therefore not allowed to access any of that tenant's projects.

@KlausVii what is the expectation around ""timeliness"" of the revocation? For example, if you revoke a user from a project at the tenant or indiviual project level, how promptly should that revocation take effect for your application's use cases? Should it be as soon as it is revoked, or is there some buffer room for stale results? Do you have UI page renders that promptly and reactively display an unauthorized response if the users access changes? Do your UIs show lists of projects that the user can view and should those items be removed from the list promptly when a user has been revoked from the project? etc..

> Does the fact [user] is included under revoked in the project mean that fga would still need to check project:1#revoked@user:jon for every project anyway?

Yes, unless we are able to quickly find another resolution path that determines `user:jon` is `revoked` at the `project#owner_tenant` level. If, for the most part, all of the projects have the same tenant ownership, then with query caching that alternative resolution path would resolve really quick and wouldn't require additional eval.

> Another possible speed could be to internally list all projects a user can_view and then subtract all the revoked ones; these 2 queries are very fast individually without the but not in the model. Not sure how you would figure that out programatically though.

That is an option, and I don't want to discourage any creativity, but I wouldn't encourage you to do that 😄 . The reason for that is that the FGA model encodes the policy that should be enforced, and if you move the set logic outside of OpenFGA for that, then you effectively diminish the value of the policy as a the source of truth for the access that the system enforces. The goal should be to move policy logic outside of your apps into the model itself and let OpenFGA do the heavy lifting."
942,KlausVii,2023-08-15 17:17:18,"@jon-whit The revocation should be pretty quick, but having a lag of a minute or two shouldn't be too bad.

Our main demand for the revocation is to cascade down from the tenant, so I think we should be able to change the project revoked to just 
```
    define revoked: revoked from owner_tenant
```
if that will improve perfomance come caching.

My last point was that maybe OpenFga could somehow figure out that intersection instead of doing all the individual checks, we want to rely on it as the sole source of truth.

For now we have removed all the `but not`s from the model and are instead removing all the user relations. Hope to be able to reinstate once the caching comes in."
942,jon-whit,2023-08-15 17:39:01,"> The revocation should be pretty quick, but having a lag of a minute or two shouldn't be too bad.

In this case the caching approach in our upcoming release should suffice. You'll have staleness up to a configurable TTL, but it will significantly reduce the resolution of the tenant ownership lookups for all of the projects. If, in the future, your staleness requirements change to ""immediately consistent"" then we'll have to address that use case with future work. We've talked about introducing client-specified query consistency levels so that the client can choose what level of consistency the query should be served with.

> My last point was that maybe OpenFga could somehow figure out that intersection instead of doing all the individual checks, we want to rely on it as the sole source of truth.

The problem with intersection and exclusion is that you, by definition, have to resolve both sets and then take the set intersection or set difference between them. You cannot short circuit that like you can for `A union B`. To evaluate `A but not B` you have to evaluate all of the objects of set A and set B and then compute their set difference.

What we do in OpenFGA for ListObjects, as a recent optimization we added in [v1.2.0](https://github.com/openfga/openfga/releases/tag/v1.2.0), is that we prune the evaluation of `A and B` to simply `A` and for each of the objects in set A we call Check on them. This is an optimization that is based on the set fact that `size(A and B) <= min(size(A), size(B))`. If set A is smaller than set B then it's cheaper to compute lookups on set A than it is set B, but if set A is larger then the computation is _no worse than_ computing set A individually and calling Checks on the results to resolve the intersection with set B. Computing set A and set B and then explicitly taking their set intersection just adds more computation overhead and requires a memory footprint to keep those sets in memory before taking their intersection.
 "
946,rhamzeh,2023-08-16 13:32:58,"Hi @lorenlew - right now it doesn't however we are planning an overhaul of that API.

The new interface will be coming to the CLI first so that we can get all your feedback on it before adding support for it to the API itself.

You can see @aaguiarz talk about it in our latest community meeting: https://youtu.be/6oQOKgJ53V0?t=1602

It is expected to look something like this, where each test can have its own contextual tuples:
```yaml
tests:
  - name: folder-access
    description: """"
    tuples:
      - user: user:anne
        relation: owner
        object: folder:product
      - user: folder:product
        relation: parent
        object: folder:product-2021
      - user: user:beth
        relation: viewer
        object: folder:product-2021
    check:
      - user: user:anne
        object: folder:product-2021
        assertions:
          can_view: true
          can_write: true
          can_share: true
      - user: user:beth
        object: folder:product-2021
        assertions:
          can_view: true
          can_write: false
          can_share: false
    list-objects:
      - user: user:anne
        type: folder
        assertions:
          can_view:
            - folder:product
            - folder:product-2021
          can_write:
            - folder:product
            - folder:product-2021
          can_share:
            - folder:product
            - folder:product-2021
      - user: user:beth
        type: folder
        assertions:
          can_view:
            - folder:product-2021
          can_write: []
          can_share: []
```

Let us know what you think!"
871,miparnisari,2023-08-16 19:15:35,"Actually, right now, you shouldn't use the project as a library because you will lose the validation layer that is currently implemented as a server middleware 😬 

https://github.com/openfga/openfga/issues/965"
891,jon-whit,2023-08-16 23:25:02,"LGTM. Left one comment above about adding a test to `cached_resolver_test.go` for the `Close` behavior, but not necessarily a blocker."
948,codecov[bot],2023-08-17 18:35:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/948?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`aef0911`)](https://app.codecov.io/gh/openfga/openfga/commit/aef0911d91960b5c0a7ac3f2972c63a2ad727e2a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.83% compared to head [(`d57f622`)](https://app.codecov.io/gh/openfga/openfga/pull/948?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.84%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #948      +/-   ##
==========================================
+ Coverage   83.83%   83.84%   +0.01%     
==========================================
  Files          85       85              
  Lines        9850     9854       +4     
==========================================
+ Hits         8257     8261       +4     
  Misses       1239     1239              
  Partials      354      354              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/948?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
941,miparnisari,2023-08-17 19:31:41,"I tested two scenarios:

- Making a code change and build -> takes only a few seconds
- Making a dependecy upgrade and build -> takes only a few seconds 

:) Can you update the branch @tranngoclam ?"
930,miparnisari,2023-08-17 19:34:04,"Hi @gabrielbussolo, do you need help with this PR?"
921,codecov[bot],2023-08-18 07:09:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`97.44%`** and project coverage change: **`-0.07%`** :warning:
> Comparison is base [(`6b42040`)](https://app.codecov.io/gh/openfga/openfga/commit/6b42040d65f3d98071a651f021f720061546a41f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51% compared to head [(`5a3028f`)](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #921      +/-   ##
==========================================
- Coverage   82.51%   82.43%   -0.07%     
==========================================
  Files          66       66              
  Lines        7979     7910      -69     
==========================================
- Hits         6583     6520      -63     
+ Misses       1090     1085       -5     
+ Partials      306      305       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...ver/commands/connectedobjects/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRvYmplY3RzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `94.31% <97.02%> (+1.01%)` | :arrow_up: |
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `82.82% <100.00%> (-1.94%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.63% <100.00%> (+0.05%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/921?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
921,adriantam,2023-08-18 13:28:04,"> I had to comment out the infamous three_prong_relation_loop test (sorry @adriantam ). I strongly recommend that we send a follow-up PR for that. I think that we need to keep track of the ingresses we visited and exit when we’ve entered a cycle.

@miparnisari - please ensure we have an issue tracking that as it indicates there are cyclical dependency where list object algorithm does not handle correctly."
852,adriantam,2023-08-18 20:13:44,See https://github.com/openfga/openfga/issues/852
950,codecov[bot],2023-08-18 21:51:06,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.12%`** :tada:
> Comparison is base [(`37f48d1`)](https://app.codecov.io/gh/openfga/openfga/commit/37f48d1b54aa1a69d7a16aa1d0deb4549aef4280?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44% compared to head [(`93042d7`)](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.56%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #950      +/-   ##
==========================================
+ Coverage   82.44%   82.56%   +0.12%     
==========================================
  Files          66       67       +1     
  Lines        7910     7960      +50     
==========================================
+ Hits         6521     6571      +50     
  Misses       1085     1085              
  Partials      304      304              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/utils/resolution\_metadata.go](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdXRpbHMvcmVzb2x1dGlvbl9tZXRhZGF0YS5nbw==) | `100.00% <ø> (ø)` | |
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `75.77% <100.00%> (+0.89%)` | :arrow_up: |
| [internal/utils/bucket.go](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdXRpbHMvYnVja2V0Lmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `77.38% <100.00%> (+0.92%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/950?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
871,siennathesane,2023-08-20 22:20:14,Thank you for the head's up!!
952,codecov[bot],2023-08-21 15:47:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/952?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03%`** :tada:
> Comparison is base [(`6ce7207`)](https://app.codecov.io/gh/openfga/openfga/commit/6ce720743657d654320dc5c4c60294664ea3e0e9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.47% compared to head [(`cf0efb8`)](https://app.codecov.io/gh/openfga/openfga/pull/952?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #952      +/-   ##
==========================================
+ Coverage   82.47%   82.50%   +0.03%     
==========================================
  Files          66       66              
  Lines        7979     7979              
==========================================
+ Hits         6580     6582       +2     
+ Misses       1093     1091       -2     
  Partials      306      306              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/952/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/952?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
953,codecov[bot],2023-08-21 22:31:42,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/953?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`-0.02%`** :warning:
> Comparison is base [(`eb44459`)](https://app.codecov.io/gh/openfga/openfga/commit/eb44459b0732e85a93dba8d993a6220aff7647d7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.54% compared to head [(`4cc4fd1`)](https://app.codecov.io/gh/openfga/openfga/pull/953?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #953      +/-   ##
==========================================
- Coverage   82.54%   82.51%   -0.02%     
==========================================
  Files          66       66              
  Lines        7981     7979       -2     
==========================================
- Hits         6587     6583       -4     
- Misses       1089     1091       +2     
  Partials      305      305              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/953?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/953?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.59% <100.00%> (-0.04%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/953/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/953?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
885,matoous,2023-08-22 13:34:45,"@miparnisari @jon-whit sorry for delay, updated the PR based on feedback, would you please give it another look?"
951,aaguiarz,2023-08-22 15:52:38,"Hi @geoffroybraun 

ListObjects currently supports contextual tuples, and Expand should but it doesn't yet. 

A way you could address the scenario you mentioned above would be with a model like:

```
model
  schema 1.1
type user

type house 
  relations
    define owner: [user]
    define quarter: [quarter] 
    define owner_in_quarter: owner and user_in_context from quarter

type quarter
  relations 
    define user_in_context: [user]
 ```
 
You can call ListObjects for a specific user, the 'house' type, and a contextual tuple like:

```
user: ""user:anne""
relation: ""user_in_context""
object: ""quarter:quarter-id""
```

Would that work?

  "
950,jon-whit,2023-08-22 22:41:53,"@adriantam this doesn't relate to issue #949 right? That issue refers to the metric `datastore_bounded_read_delay_ms`, and this PR deals with adding a new metric for capturing a histgoram based on Checks involving a certain number of datastore queries. They are different issues in my book."
950,adriantam,2023-08-22 22:50:30,"> @adriantam this doesn't relate to issue #949 right? That issue refers to the metric `datastore_bounded_read_delay_ms`, and this PR deals with adding a new metric for capturing a histgoram based on Checks involving a certain number of datastore queries. They are different issues in my book.



No.  This is more as to allow operator to understand how check query latency is related to db query count.  "
920,irees,2023-08-22 23:11:46,I've tested the current PR in my staging environment and it appears to resolve the issue I was having. Thank you for addressing this; looking forward to the next release.
950,jon-whit,2023-08-22 23:18:35,"> > @adriantam this doesn't relate to issue #949 right? That issue refers to the metric `datastore_bounded_read_delay_ms`, and this PR deals with adding a new metric for capturing a histgoram based on Checks involving a certain number of datastore queries. They are different issues in my book.
> 
> No. This is more as to allow operator to understand how check query latency is related to db query count.

`datastore_bounded_read_delay_ms` is it's own metric though. I'm confused how that has anything to do with this work? Maybe that issue just needs to be fixed so that it mentions adding a new histogram metric or something with a `datastore_query_count` label. That way it is accurate with what this work is doing."
950,adriantam,2023-08-23 01:52:26,"> > > @adriantam this doesn't relate to issue #949 right? That issue refers to the metric `datastore_bounded_read_delay_ms`, and this PR deals with adding a new metric for capturing a histgoram based on Checks involving a certain number of datastore queries. They are different issues in my book.
> > 
> > 
> > No. This is more as to allow operator to understand how check query latency is related to db query count.
> 
> `datastore_bounded_read_delay_ms` is it's own metric though. I'm confused how that has anything to do with this work? Maybe that issue just needs to be fixed so that it mentions adding a new histogram metric or something with a `datastore_query_count` label. That way it is accurate with what this work is doing.

My bad.  This should fix https://github.com/openfga/openfga/issues/947 instead of https://github.com/openfga/openfga/issues/949"
958,codecov[bot],2023-08-23 02:12:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/958?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`d7f32b3`)](https://app.codecov.io/gh/openfga/openfga/commit/d7f32b35451cc88d1683231ac31997fa7b36969e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50% compared to head [(`d58a9cf`)](https://app.codecov.io/gh/openfga/openfga/pull/958?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.53%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #958      +/-   ##
==========================================
+ Coverage   82.50%   82.53%   +0.04%     
==========================================
  Files          66       66              
  Lines        7979     7979              
==========================================
+ Hits         6582     6585       +3     
+ Misses       1091     1089       -2     
+ Partials      306      305       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/958/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/958?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
951,geoffroybraun,2023-08-23 13:28:04,"Hi @aaguiarz,

I can't believe I miss the part in the authorization model where users can be retrieved directly from the quarter... I'm really sorry, here's the updated authorization model for my example:

```yaml
model
    schema 1.1
type user
type house
    relations
        define owner: [user]
        define resident: [user] or owner
type quarter
    relations
        define belong_to: [house]
        define resident: resident from belong_to
```

With that, we can retrieve:
* users in a specific house using the `resident` relation on the `house` type
* users in a specific quarter using the `resident` relation on the `quarter` type, which uses object-to-object relations through the `belong_to` relation.

Based on my use case _retrieve all houses user X owns in quarter Y_, I tried your solution on the `list-object` endpoint using the following JSON content:

```json
{
    ""authorization_model_id"": ""{{AuthorizationModelId}}"",
    ""type"": ""house"",
    ""relation"": ""owner"",
    ""user"": ""user:X"",
    ""contextual_tuples"": {
        ""tuple_keys"": [
            {
                ""object"": ""quarter:Y"",
                ""relation"": ""resident"",
                ""user"": ""user:X""
            }
        ]
    }
}
```

Unfortuantely, I received an error message stating `Invalid tuple 'object:""quarter:Y"" relation:""resident"" user:""user:X""'. Reason: type 'user' is not an allowed type restriction for 'quarter#user'`. I believe this is exactly why you suggested another approach with your authorization model, but it is something we don't want to do, for users can **not** directly be added to a quarter from a business point of view; users can only be retrieved from a quarter, not inserted, and your authorization model could allow an application to do so.

Please let me know if this makes sense for you. Thanks!"
955,MeenuyD,2023-08-23 13:35:40,Can you guide me on how I would like to work on this issue Can you how should i start?
961,rhamzeh,2023-08-23 13:40:22,"Thanks for raising the issue @le-yams!

We are working on this as part of our improved ABAC support https://github.com/openfga/roadmap/issues/32

That would allow you to add context to tuples and add conditions that would evaluate the context in order for a relationship to be valid.

Timestamps will be one of the possible values to context, and you can add a condition that would return true if the period since that timestamp is greater than some value."
961,le-yams,2023-08-23 13:51:42,"Great news! And sorry I missed that.
Thanks a lot  :)"
961,rhamzeh,2023-08-23 13:56:48,"You can find a very early demo of this work here: https://youtu.be/sFqk42fJy_E?t=665

Please let us know if you have any feedback!

We hold these [community meetings](https://github.com/openfga/community/blob/main/community-meetings.md) on the 2nd Thursday of every month, at 3PM UTC (8AM PST/11AM EST) and have the recordings available on our [YouTube Channel](https://www.youtube.com/playlist?list=PLUR5l-oTFZqUneyHz-h4WzaJssgxBXdxB) so feel free to join for more of our early demos :)
"
963,codecov[bot],2023-08-23 14:31:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`64.29%`** and project coverage change: **`-0.24%`** :warning:
> Comparison is base [(`294ac8a`)](https://app.codecov.io/gh/openfga/openfga/commit/294ac8a2633640f36513b90fe73b567794166b3d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.63% compared to head [(`b21577f`)](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #963      +/-   ##
==========================================
- Coverage   82.63%   82.38%   -0.24%     
==========================================
  Files          67       68       +1     
  Lines        8001     8098      +97     
==========================================
+ Hits         6611     6671      +60     
- Misses       1085     1122      +37     
  Partials      305      305              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `74.36% <56.25%> (-3.10%)` | :arrow_down: |
| [pkg/storage/storagewrappers/boundedconcurrency.go](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2JvdW5kZWRjb25jdXJyZW5jeS5nbw==) | `100.00% <100.00%> (ø)` | |
| [pkg/telemetry/context.go](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9jb250ZXh0Lmdv) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/963/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/963?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
921,jon-whit,2023-08-23 16:09:10,LGTM. Please rebase though.
948,jon-whit,2023-08-23 18:17:18,"The original `LocalChecker` was designed to be constructed once for the lifetime of the server, and on each request the contextual tuples were propagated through `context` to the storage layer and the combined tuple iterator was used under the covers. This design pattern allowed for the composition of a global CheckResolver that IMO made things more elegant and straightforward, but I recognize that it may not have been as apparent or easily understandable for other developers. 

As time has passed, we've moved completely away from a global LocalChecker to constructing a [LocalChecker _per request_](https://github.com/openfga/openfga/blob/main/pkg/server/server.go#L445). This has been the work of multiple PRs over time because of the distaste for passing things through context. I still believe this is the wrong approach, because it creates a lot of memory allocs and GC activity in a completely unnecessary manner, but if we're going to do this, then I ask that we rework the `LocalChecker` in general to match its intended usage/semantics with the current state of things.

You shouldn't have to modify `checkDirect` and `checkTupleToUserset` signatures in this PR, becuase the `LocalChecker` should encode the per request state that it needs to operate. For example, since we've effectively moved to the LocalChecker being constructed per request anyways, then I'd suggest that we change the semantics of LocalChecker to something like:

```go
type LocalChecker struct {
    contextualDatastore storage.RelationshipTupleReader
}

NewLocalChecker(WithCheckRequest(req), ...) // or, more specifically
NewLocalChecker(WithContextualTuples(contextualTuples), ...)
```
e.g. you construct the `contextualDatastore` when you construct the LocalChecker, and you create the LocalChecker from the incoming request and/or request context that is needed.

Then in the code we can do
```go
func (l *LocalChecker) checkDirect(parentctx context.Context, req *ResolveCheckRequest) CheckHandlerFunc {
    ...
    // use l.contextualDatastore instead of passing it through as a new parameter in the signature
}
```

Since we've evolved things beyond their original design intent, then I'd prefer we repurpose and refactor a bit as part of the scope of this work, because they are relevant to one another in this case."
959,adriantam,2023-08-23 18:37:57,Will incorporate https://github.com/openfga/openfga/issues/938 in this PR as well
920,irees,2023-08-23 20:00:33,I went ahead and deployed `main` branch in my system after you merged - it's working perfectly. Thank you so much @miparnisari  !!
959,codecov[bot],2023-08-23 20:09:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`98.60%`** and project coverage change: **`+0.17%`** :tada:
> Comparison is base [(`dd9745b`)](https://app.codecov.io/gh/openfga/openfga/commit/dd9745bfc679ef990e7a9ae8c08d73d4b9e820b4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.03% compared to head [(`20471d0`)](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #959      +/-   ##
==========================================
+ Coverage   82.03%   82.19%   +0.17%     
==========================================
  Files          68       68              
  Lines        8145     8192      +47     
==========================================
+ Hits         6681     6733      +52     
+ Misses       1154     1150       -4     
+ Partials      310      309       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.95% <95.46%> (+0.17%)` | :arrow_up: |
| [...ver/commands/connectedobjects/connected\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9jb25uZWN0ZWRvYmplY3RzL2Nvbm5lY3RlZF9vYmplY3RzLmdv) | `94.41% <100.00%> (+0.11%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `71.34% <100.00%> (+1.59%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/959/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/959?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
948,miparnisari,2023-08-23 23:48:23,"> ```go
> NewLocalChecker(WithContextualTuples(contextualTuples), ...)
> ```

But then we're right where we are now, no?  You'd have to pass the contextual tuples twice

```go
c := NewLocalChecker(WithContextualTuples(req.ContextualTuples.GetTupleKeys()), ...)
c.ResolveCheck(ctx, &graph.ResolveCheckRequest{
		...
		ContextualTuples:     req.ContextualTuples.GetTupleKeys(),
})
```
"
962,miparnisari,2023-08-24 01:27:47,"Before merging this PR, please update this https://github.com/openfga/openfga/blob/4bc50537bbcb96baf70ab059d2566df433ea4ab9/.github/workflows/pull_request.yaml#L1-L6

so that the checks still run even if the target branch is not `main`"
962,codecov[bot],2023-08-24 02:46:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `111 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`a123b6e`)](https://app.codecov.io/gh/openfga/openfga/commit/a123b6e2d863172557caf64847dd0caae9e50bbb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10% compared to head [(`7e67b2e`)](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.23%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac     #962      +/-   ##
=============================================
- Coverage      82.10%   81.23%   -0.87%     
=============================================
  Files             69       76       +7     
  Lines           8266     8633     +367     
=============================================
+ Hits            6786     7012     +226     
- Misses          1168     1293     +125     
- Partials         312      328      +16     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/parameters.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9wYXJhbWV0ZXJzLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/server/commands/read.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkLmdv) | `83.34% <100.00%> (ø)` | |
| [pkg/server/commands/write\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | `63.34% <100.00%> (ø)` | |
| [pkg/server/commands/write\_authzmodel.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `90.33% <100.00%> (+0.33%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `66.10% <100.00%> (-3.15%)` | :arrow_down: |
| [pkg/tuple/tuple.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.21% <100.00%> (+0.44%)` | :arrow_up: |
| [pkg/condition/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9lcnJvcnMuZ28=) | `50.00% <50.00%> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `74.88% <84.22%> (-1.12%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `76.30% <84.22%> (+0.02%)` | :arrow_up: |
| ... and [5 more](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/962/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/962?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
948,jon-whit,2023-08-24 16:35:14,"> > ```go
> > NewLocalChecker(WithContextualTuples(contextualTuples), ...)
> > ```
> 
> But then we're right where we are now, no? You'd have to pass the contextual tuples twice
> 
> ```go
> c := NewLocalChecker(WithContextualTuples(req.ContextualTuples.GetTupleKeys()), ...)
> c.ResolveCheck(ctx, &graph.ResolveCheckRequest{
> 		...
> 		ContextualTuples:     req.ContextualTuples.GetTupleKeys(),
> })
> ```

If you construct the derivative datastore from the contextual tuples up front, then propagating the contextual tuples down the call chain is redundant. You could omit this altogether. I don't see anything inherently wrong with passing the pointer around and propagating the request body, but yeah it's not necessary to pass the contextual tuples because the datastore constructed up front will already have a reference to the contextual tuples. I think for readability and understandability it makes sense to forward the request body in its entirety though."
966,codecov[bot],2023-08-25 05:42:50,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/966?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.01%`** :tada:
> Comparison is base [(`74dc4cc`)](https://app.codecov.io/gh/openfga/openfga/commit/74dc4ccadfd8722228659f9086dd8b2f683902b3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.54% compared to head [(`c170d3e`)](https://app.codecov.io/gh/openfga/openfga/pull/966?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.55%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #966      +/-   ##
==========================================
+ Coverage   82.54%   82.55%   +0.01%     
==========================================
  Files          67       67              
  Lines        7960     7962       +2     
==========================================
+ Hits         6570     6572       +2     
  Misses       1085     1085              
  Partials      305      305              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/966?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/errors/encoded\_errors.go](https://app.codecov.io/gh/openfga/openfga/pull/966?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZW5jb2RlZF9lcnJvcnMuZ28=) | `95.44% <100.00%> (+0.05%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/966?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
955,adriantam,2023-08-25 14:11:08,"> Can you guide me on how I would like to work on this issue Can you how should i start?

Thank you for your interest in contributing to OpenFGA, @MeenuyD !

I'm going to complete the work in this particular task. I am currently working on a similar code path for `listObjects`, which should log the number of database reads in trace information (related to issue https://github.com/openfga/openfga/issues/956). As a result of working on the same codebase for my other PR, I have a good understanding of what needs to be done here. 

However, please don't hesitate to tackle any other issues listed in the [issues section](https://github.com/openfga/openfga/issues)! We would greatly appreciate your contributions elsewhere.

Thanks again!"
955,MeenuyD,2023-08-25 14:23:49,ok thank you
885,miparnisari,2023-08-25 20:25:11,Can you update the PR description? This isn't a breaking change anymore
885,matoous,2023-08-25 20:28:04,"@miparnisari done, thanks!"
968,codecov[bot],2023-08-26 01:01:49,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`99.20%`** and project coverage change: **`+0.05%`** :tada:
> Comparison is base [(`c6d73f8`)](https://app.codecov.io/gh/openfga/openfga/commit/c6d73f81ca2b9213ead6aafa5d86ec78134f652a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10% compared to head [(`d0c1c24`)](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #968      +/-   ##
==========================================
+ Coverage   82.10%   82.14%   +0.05%     
==========================================
  Files          68       68              
  Lines        8192     8184       -8     
==========================================
- Hits         6725     6722       -3     
+ Misses       1156     1152       -4     
+ Partials      311      310       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `94.27% <97.88%> (ø)` | |
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `82.82% <100.00%> (ø)` | |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.95% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/968/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/968?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   

:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)."
969,codecov[bot],2023-08-26 03:52:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.07%`** :tada:
> Comparison is base [(`b418e4d`)](https://app.codecov.io/gh/openfga/openfga/commit/b418e4d565b8108ec12771f136deab0667287258?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52% compared to head [(`d86d195`)](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.58%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #969      +/-   ##
==========================================
+ Coverage   82.52%   82.58%   +0.07%     
==========================================
  Files          67       67              
  Lines        7962     7962              
==========================================
+ Hits         6570     6575       +5     
+ Misses       1087     1083       -4     
+ Partials      305      304       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `77.38% <ø> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.20% <ø> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/969/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/969?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
969,adriantam,2023-08-27 02:13:31,@tranngoclam  thank you for your contribution!
970,codecov[bot],2023-08-27 03:45:45,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/970?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.11%`** :warning:
> Comparison is base [(`7d552b2`)](https://app.codecov.io/gh/openfga/openfga/commit/7d552b238bd72c7e1af870848da4b3bb6abb375a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.65% compared to head [(`a6c6840`)](https://app.codecov.io/gh/openfga/openfga/pull/970?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.53%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #970      +/-   ##
==========================================
- Coverage   82.65%   82.53%   -0.11%     
==========================================
  Files          67       67              
  Lines        7962     7962              
==========================================
- Hits         6580     6571       -9     
- Misses       1080     1086       +6     
- Partials      302      305       +3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/970?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/authn/oidc/oidc.go](https://app.codecov.io/gh/openfga/openfga/pull/970?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vb2lkYy9vaWRjLmdv) | `51.79% <ø> (ø)` | |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/970/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/970?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
133,ldigiuseppe,2023-08-28 06:29:54,Any chance playground will be integrated with OIDC any time soon?
133,aaguiarz,2023-08-28 13:46:06,"Hi @ldigiuseppe 

We are not planning building that soon. As an alternative, you can use the CLI's support for [writing tests](https://github.com/openfga/cli#run-tests-on-an-authorization-model) combined with the [OpenFGA VS Code Extension](https://marketplace.visualstudio.com/items?itemName=openfga.openfga-vscode).

Let me know if that helps!

"
967,codecov[bot],2023-08-28 17:09:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.08%`** :tada:
> Comparison is base [(`993c66a`)](https://app.codecov.io/gh/openfga/openfga/commit/993c66ae5a81d66e51886e0d103c9cb1fc05d090?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.60% compared to head [(`6a09e2e`)](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.67%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #967      +/-   ##
==========================================
+ Coverage   82.60%   82.67%   +0.08%     
==========================================
  Files          67       67              
  Lines        7985     8001      +16     
==========================================
+ Hits         6595     6614      +19     
+ Misses       1085     1083       -2     
+ Partials      305      304       -1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `94.78% <100.00%> (+0.16%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `77.47% <100.00%> (+0.10%)` | :arrow_up: |
| [pkg/storage/storagewrappers/boundedconcurrency.go](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2JvdW5kZWRjb25jdXJyZW5jeS5nbw==) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/967/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/967?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
971,codecov[bot],2023-08-28 21:21:00,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/971?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`50.00%`** and project coverage change: **`+0.14%`** :tada:
> Comparison is base [(`55f177a`)](https://app.codecov.io/gh/openfga/openfga/commit/55f177adfeddc27323f2af5b0c55f4bb5b7d3191?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.63% compared to head [(`f2a4b97`)](https://app.codecov.io/gh/openfga/openfga/pull/971?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.77%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #971      +/-   ##
==========================================
+ Coverage   82.63%   82.77%   +0.14%     
==========================================
  Files          67       67              
  Lines        8001     8005       +4     
==========================================
+ Hits         6611     6625      +14     
+ Misses       1085     1078       -7     
+ Partials      305      302       -3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/971?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/memory/memory.go](https://app.codecov.io/gh/openfga/openfga/pull/971?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.31% <50.00%> (-0.37%)` | :arrow_down: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/971/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/971?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
972,jon-whit,2023-08-28 22:05:05,"We also leverage some community middlewares that produce metrics though, and for those we will need to somehow modify the produced Namespace of those metrics."
973,codecov[bot],2023-08-29 01:24:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/973?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`55f177a`)](https://app.codecov.io/gh/openfga/openfga/commit/55f177adfeddc27323f2af5b0c55f4bb5b7d3191?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.63% compared to head [(`53b8704`)](https://app.codecov.io/gh/openfga/openfga/pull/973?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.67%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #973      +/-   ##
==========================================
+ Coverage   82.63%   82.67%   +0.04%     
==========================================
  Files          67       67              
  Lines        8001     8001              
==========================================
+ Hits         6611     6614       +3     
+ Misses       1085     1083       -2     
+ Partials      305      304       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/973/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/973?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
948,miparnisari,2023-08-29 02:37:20,"> I think for readability and understandability it makes sense to forward the request body in its entirety though.

I agree, but today we have to pass each field explicitly, so i argue that today it's not readable

https://github.com/openfga/openfga/blob/55f177adfeddc27323f2af5b0c55f4bb5b7d3191/pkg/server/server.go#L478-L493"
975,codecov[bot],2023-08-30 15:57:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`18.37%`** and project coverage change: **`-0.32%`** :warning:
> Comparison is base [(`d34c87a`)](https://app.codecov.io/gh/openfga/openfga/commit/d34c87acce21763e4ba78af7045eda24f19ba739?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`0a84f51`)](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #975      +/-   ##
==========================================
- Coverage   82.38%   82.06%   -0.32%     
==========================================
  Files          68       68              
  Lines        8098     8145      +47     
==========================================
+ Hits         6671     6683      +12     
- Misses       1122     1152      +30     
- Partials      305      310       +5     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.44% <ø> (+0.24%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.75% <18.37%> (-4.61%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/975/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/975?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
959,jon-whit,2023-08-30 20:39:25,"Something worth pointing out with this work, and the work we did in Check, is that from a developer standpoint it's a bit confusing to see this:
<img width=""824"" alt=""Screenshot 2023-08-30 at 2 31 04 PM"" src=""https://github.com/openfga/openfga/assets/2899204/e703ad76-b1d0-4ec2-8e4a-b7f5683a0c24"">

The `datastore_query_count` is 1 but I see 2 overall database queries. `postgres.FindLatestAuthorizationModelID` and `postgres.ReadStartingWithUser`.

Instead of incrementnig a query counter in each Check and ListObjects resolution code path, maybe instead it makes more sense to increment the counter as a value in the storage context and the storage layer increments the counter on every read query. Just a thought..?

e.g.
```go

// in 'pkg/telemetry'
type QueryResolutionMetadata struct {
    DatastoreQueryCount *uint32
}

// in 'pkg/server/server.go'
func (s *Server) Check(ctx context.Context, req openfgav1.CheckRequest) (...) {
    
    resolutionMetadata := &telemetry.QueryResolutionMetadata{DatastoreQueryCount: 0}

    ctx = telemetry.ContextWithDatastoreQueryCount(ctx, resolutionMetadata.DatastoreQueryCount)

   ...
}
```
then in `pkg/storage/storagewrappers` we'd have a wrapped storage implementation that does, for example,

```go
func (d *WrappedOpenFGADatastore) ReadUserTuple(ctx context.Context, ...) ... {
    datastoreQueryCount := telemetry.DatastoreQueryCountFromContext(ctx)
    atomic.AddUint32(datastoreQueryCount, 1)
}
```

In any case, something we may just consider improving a bit.."
775,miparnisari,2023-08-30 22:44:34,"Hi @jingchu000! There are few tests already written that you can use as a guide: e.g. https://github.com/openfga/openfga/blob/ff41e318068dc0fadcb26186a91202bb729eab59/cmd/openfga/main_test.go#L1270-L1387

As a first pass you could write two tests per endpoint: one that is a ""happy path"" (ie. return code `codes.OK`) and a validation failure (`codes.InvalidArgument`)"
959,miparnisari,2023-08-31 04:32:05,"^ I'm not opposed to that suggestion but if we do that, we might as well introduce that for Check as well, which right now has the same pattern as this PR. Let's do that as a separate PR that cleans the code for both..

(Also i'm not sure that suggestion will work for Check, I remember there was a tricky case of overcounting in the case of TTUs, see https://github.com/openfga/openfga/blob/main/internal/graph/check.go#L733-L749)

> The datastore_query_count is 1 but I see 2 overall database queries. postgres.FindLatestAuthorizationModelID and postgres.ReadStartingWithUser.

We're not counting the model read in Check either. We can fix that in a different PR :) And in any case, i think most queries should read the model from the cache anyway"
976,linux-foundation-easycla[bot],2023-08-31 13:33:38," <a href=""https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/976/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-not-signed.svg"" alt=""CLA Not Signed"" align=""left"" height=""28"" width=""328""></a><br/><br /><ul><li><a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/976/#/?version=2' target='_blank'>:x:</a> - login: @juozasg / name: Juozas Gaigalas . The commit (bb1b97aaeb150afd36b8dc05f08f427aab1bcecd) is not authorized under a signed CLA. <a href='https://api.easycla.lfx.linuxfoundation.org/v2/repository-provider/github/sign/31129900/501372599/976/#/?version=2' target='_blank'>Please click here to be authorized</a>. For further assistance with EasyCLA, <a href='https://jira.linuxfoundation.org/servicedesk/customer/portal/4' target='_blank'>please submit a support request ticket</a>.</li></ul>"
959,adriantam,2023-08-31 14:23:19,"> datastore_query_count

Agree that we may need to tweak a bit - however, we can do it as separate activity since we may need to consider how we want to handle the cache case."
977,codecov[bot],2023-09-01 18:15:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/977?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06%`** :warning:
> Comparison is base [(`f8d36b9`)](https://app.codecov.io/gh/openfga/openfga/commit/f8d36b92a2fd7d744eb48dfa0c4c8b244244a648?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06% compared to head [(`bfed774`)](https://app.codecov.io/gh/openfga/openfga/pull/977?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #977      +/-   ##
==========================================
- Coverage   82.06%   81.99%   -0.06%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
- Hits         6683     6678       -5     
- Misses       1152     1156       +4     
- Partials      310      311       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/977/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/977?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
978,codecov[bot],2023-09-01 18:52:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/978?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`f8d36b9`)](https://app.codecov.io/gh/openfga/openfga/commit/f8d36b92a2fd7d744eb48dfa0c4c8b244244a648?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06% compared to head [(`2bfda86`)](https://app.codecov.io/gh/openfga/openfga/pull/978?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #978   +/-   ##
=======================================
  Coverage   82.06%   82.06%           
=======================================
  Files          68       68           
  Lines        8145     8145           
=======================================
  Hits         6683     6683           
  Misses       1152     1152           
  Partials      310      310           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/978?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
979,codecov[bot],2023-09-01 18:53:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/979?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`927ff0e`)](https://app.codecov.io/gh/openfga/openfga/commit/927ff0ef22d1dd62553a2da484d9afec97d08572?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`6eb1c52`)](https://app.codecov.io/gh/openfga/openfga/pull/979?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #979   +/-   ##
=======================================
  Coverage   82.02%   82.02%           
=======================================
  Files          68       68           
  Lines        8145     8145           
=======================================
  Hits         6680     6680           
  Misses       1154     1154           
  Partials      311      311           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/979?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
980,codecov[bot],2023-09-01 18:53:21,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/980?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02%`** :warning:
> Comparison is base [(`927ff0e`)](https://app.codecov.io/gh/openfga/openfga/commit/927ff0ef22d1dd62553a2da484d9afec97d08572?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`1cb8c05`)](https://app.codecov.io/gh/openfga/openfga/pull/980?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #980      +/-   ##
==========================================
- Coverage   82.02%   81.99%   -0.02%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
- Hits         6680     6678       -2     
- Misses       1154     1156       +2     
  Partials      311      311              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/980/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/980?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
981,codecov[bot],2023-09-01 18:53:25,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/981?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.02%`** :tada:
> Comparison is base [(`927ff0e`)](https://app.codecov.io/gh/openfga/openfga/commit/927ff0ef22d1dd62553a2da484d9afec97d08572?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`5073920`)](https://app.codecov.io/gh/openfga/openfga/pull/981?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.03%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #981      +/-   ##
==========================================
+ Coverage   82.02%   82.03%   +0.02%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
+ Hits         6680     6681       +1     
  Misses       1154     1154              
+ Partials      311      310       -1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/981/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/981?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
982,codecov[bot],2023-09-01 18:54:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/982?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.03%`** :warning:
> Comparison is base [(`f8d36b9`)](https://app.codecov.io/gh/openfga/openfga/commit/f8d36b92a2fd7d744eb48dfa0c4c8b244244a648?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06% compared to head [(`8bc8c17`)](https://app.codecov.io/gh/openfga/openfga/pull/982?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #982      +/-   ##
==========================================
- Coverage   82.06%   82.02%   -0.03%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
- Hits         6683     6680       -3     
- Misses       1152     1154       +2     
- Partials      310      311       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/982/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/982?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
894,ilaleksin,2023-09-04 15:47:21,"Hey,

I would be happy to contribute!
May I work on this issue?
"
984,codecov[bot],2023-09-05 03:37:57,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/984?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02%`** :warning:
> Comparison is base [(`f8d36b9`)](https://app.codecov.io/gh/openfga/openfga/commit/f8d36b92a2fd7d744eb48dfa0c4c8b244244a648?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06% compared to head [(`3c48c6a`)](https://app.codecov.io/gh/openfga/openfga/pull/984?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.03%.
> Report is 1 commits behind head on main.

> :exclamation: Current head 3c48c6a differs from pull request most recent head 570468b. Consider uploading reports for the commit 570468b to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #984      +/-   ##
==========================================
- Coverage   82.06%   82.03%   -0.02%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
- Hits         6683     6681       -2     
- Misses       1152     1154       +2     
  Partials      310      310              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/984/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/984?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
894,jon-whit,2023-09-05 15:26:25,@ilaleksin feel free! Thanks for offering. Please cross-reference this issue to any PRs you submit to address it 👍 
981,jon-whit,2023-09-05 15:30:35,@dependabot rebase
977,dependabot[bot],2023-09-05 15:30:59,Superseded by #985.
978,dependabot[bot],2023-09-05 15:31:16,Superseded by #986.
985,codecov[bot],2023-09-05 15:44:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/985?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.03%`** :tada:
> Comparison is base [(`ce80350`)](https://app.codecov.io/gh/openfga/openfga/commit/ce80350be2a48c419f8da6e3534b88ad02502448?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99% compared to head [(`18c5046`)](https://app.codecov.io/gh/openfga/openfga/pull/985?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #985      +/-   ##
==========================================
+ Coverage   81.99%   82.02%   +0.03%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
+ Hits         6678     6680       +2     
+ Misses       1156     1154       -2     
  Partials      311      311              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/985/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/985?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
986,codecov[bot],2023-09-05 15:44:52,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/986?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.01%`** :warning:
> Comparison is base [(`927ff0e`)](https://app.codecov.io/gh/openfga/openfga/commit/927ff0ef22d1dd62553a2da484d9afec97d08572?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`9bea029`)](https://app.codecov.io/gh/openfga/openfga/pull/986?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.01%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #986      +/-   ##
==========================================
- Coverage   82.02%   82.01%   -0.01%     
==========================================
  Files          68       68              
  Lines        8145     8145              
==========================================
- Hits         6680     6679       -1     
- Misses       1154     1155       +1     
  Partials      311      311              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/986/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/986?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
987,codecov[bot],2023-09-05 15:51:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/987?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`ce80350`)](https://app.codecov.io/gh/openfga/openfga/commit/ce80350be2a48c419f8da6e3534b88ad02502448?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99% compared to head [(`4205e99`)](https://app.codecov.io/gh/openfga/openfga/pull/987?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #987   +/-   ##
=======================================
  Coverage   81.99%   81.99%           
=======================================
  Files          68       68           
  Lines        8145     8145           
=======================================
  Hits         6678     6678           
  Misses       1156     1156           
  Partials      311      311           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/987?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
981,dependabot[bot],2023-09-05 17:05:07,"Looks like benchmark-action/github-action-benchmark is up-to-date now, so this is no longer needed."
980,dependabot[bot],2023-09-05 17:05:22,"Looks like docker/setup-buildx-action is up-to-date now, so this is no longer needed."
986,dependabot[bot],2023-09-05 17:05:45,"Looks like actions/checkout is up-to-date now, so this is no longer needed."
979,dependabot[bot],2023-09-05 17:16:03,"Looks like github/codeql-action is up-to-date now, so this is no longer needed."
985,dependabot[bot],2023-09-05 19:26:25,"Looks like chainguard/static is up-to-date now, so this is no longer needed."
968,jon-whit,2023-09-06 15:56:16,@miparnisari could you please rebase on `main` when you get a chance?
992,codecov[bot],2023-09-06 19:21:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/992?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06%`** :warning:
> Comparison is base [(`76f4a5c`)](https://app.codecov.io/gh/openfga/openfga/commit/76f4a5cd04036a75358bee8e7811ab585fde8ee3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.16% compared to head [(`f032b6b`)](https://app.codecov.io/gh/openfga/openfga/pull/992?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #992      +/-   ##
==========================================
- Coverage   82.16%   82.10%   -0.06%     
==========================================
  Files          68       68              
  Lines        8192     8192              
==========================================
- Hits         6730     6725       -5     
- Misses       1152     1156       +4     
- Partials      310      311       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/992/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/992?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   

:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)."
993,codecov[bot],2023-09-06 19:23:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/993?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`9d3b8b1`)](https://app.codecov.io/gh/openfga/openfga/commit/9d3b8b1b761ea69924d9fe42cbb990e298c1a6b9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13% compared to head [(`95d9865`)](https://app.codecov.io/gh/openfga/openfga/pull/993?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.13%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main     #993   +/-   ##
=======================================
  Coverage   82.13%   82.13%           
=======================================
  Files          68       68           
  Lines        8192     8192           
=======================================
  Hits         6728     6728           
  Misses       1154     1154           
  Partials      310      310           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/993?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
983,dv29,2023-09-06 21:07:53,I was able to get it work with `platform: linux/amd64`
983,rhamzeh,2023-09-06 21:18:31,"Thanks for the update @dv29! In case you encounter any more issues, we would love a contribution. Right now we are using https://goreleaser.com/ to build multi target images, so if we can easily add support for linux/arm/v7, we can consider it"
989,rhamzeh,2023-09-06 21:33:49,"OpenFGA uses the Store ID for uniqueness, it does not care about the Store Name, that’s just for display purposes.

While we don’t allow it yet, we want to let users update the store name, and we don’t want them to worry about whether that name is “taken” or not
We have [additional authorization options](https://github.com/openfga/roadmap/issues/30) in our roadmap, which means some store owners may be able to access only some of the stores. Having CreateStore fail because of some vague uniqueness logic they have no control over would not be a good experience for them

TLDR: Name is metadata for display purposes only, if you are looking for a stable unique identifier, use the Store ID"
989,gmartin-flexe,2023-09-06 23:19:22,"I appreciate the reply, and in the grand scheme of things I don't feel like this needs to change.

That said, ""just for display purposes"" feels like a good argument _for_ unique names; some users in my organization will not have any context on the store ids, and will only see and interact with store names. Asking them to understand which of N stores with the same exact name they should work with feels unrealistic. The current playground UI agrees with me; it will prevent a duplicated store name if you try to make one there.

I also don't see how the additional authorization options conflicts with name uniqueness; I would actually think it's easier to make sure the right people have the right access to stores when stores are easily told apart by having unique names.

For some context, I am setting up OpenFGA to run across numerous environments, and infrastructure to apply schema changes to stores. If I hadn't checked the API behavior, I would have potentially allowed the creation of many many stores with the same name across a large number of environments programmatically. Ideally I can say ""get or create a store named X and then do things with it"" and not worry about accidentally introducing many confusing duplicated records.

Again, this isn't a big deal. But if there's no compelling use case that requires duplicated store names, and all users of OpenFGA can avoid some potential confusion/pain by disallowing duplicated store names, changing it feels like a small win for usability."
995,codecov[bot],2023-09-07 02:13:09,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/995?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.06%`** :warning:
> Comparison is base [(`400ae6d`)](https://app.codecov.io/gh/openfga/openfga/commit/400ae6d8d9159340b77287026ddfe44ff6cce35d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.16% compared to head [(`0609fa3`)](https://app.codecov.io/gh/openfga/openfga/pull/995?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #995      +/-   ##
==========================================
- Coverage   82.16%   82.10%   -0.06%     
==========================================
  Files          68       68              
  Lines        8192     8192              
==========================================
- Hits         6730     6725       -5     
- Misses       1152     1156       +4     
- Partials      310      311       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/995/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/995?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
992,matthewpereira,2023-09-07 17:32:53,"Is it worth adding a heading or a note to prompt them for **Steps to Reproduce**? In my experience this also helps people differentiate between real bugs and questions/ideas, but I'm open to feedback from other people's experiences with bug reporting workflows."
997,codecov[bot],2023-09-08 01:07:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `12 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`e50a479`)](https://app.codecov.io/gh/openfga/openfga/commit/e50a47919d42838e7ff743f04e35e2fd2eb4f814?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`4905549`)](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31%.
> Report is 1 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | 87.10% | [9 Missing and 3 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #997      +/-   ##
==========================================
- Coverage   82.46%   82.31%   -0.14%     
==========================================
  Files          70       70              
  Lines        8399     8342      -57     
==========================================
- Hits         6925     6866      -59     
- Misses       1167     1170       +3     
+ Partials      307      306       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/997?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
998,codecov[bot],2023-09-08 16:05:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`37.37%`** and project coverage change: **`-0.16%`** :warning:
> Comparison is base [(`84c25cf`)](https://app.codecov.io/gh/openfga/openfga/commit/84c25cf6015f8a604aa87982c7c79d8ea634ca00?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`f4767d2`)](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main     #998      +/-   ##
==========================================
- Coverage   82.14%   81.98%   -0.16%     
==========================================
  Files          68       69       +1     
  Lines        8184     8227      +43     
==========================================
+ Hits         6722     6744      +22     
- Misses       1152     1169      +17     
- Partials      310      314       +4     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.26% <10.94%> (-2.08%)` | :arrow_down: |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.51% <100.00%> (+0.08%)` | :arrow_up: |
| [internal/middleware/validator/validator.go](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS92YWxpZGF0b3IvdmFsaWRhdG9yLmdv) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/998/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/998?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
999,codecov[bot],2023-09-09 00:07:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `46 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`4d4d383`)](https://app.codecov.io/gh/openfga/openfga/commit/4d4d3839a548897d7ea75e8b276202591e64bf7d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.04% compared to head [(`5829769`)](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.91%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac     #999      +/-   ##
=============================================
- Coverage      82.04%   81.91%   -0.12%     
=============================================
  Files             78       79       +1     
  Lines           8602     8839     +237     
=============================================
+ Hits            7057     7240     +183     
- Misses          1224     1265      +41     
- Partials         321      334      +13     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9jb25kaXRpb24uZ28=) | `80.81% <100.00%> (+8.35%)` | :arrow_up: |
| [pkg/storage/record.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcmVjb3JkLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/tuple/tuple.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.83% <100.00%> (+0.04%)` | :arrow_up: |
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `85.44% <75.00%> (-1.02%)` | :arrow_down: |
| [pkg/tuple/tuple\_errors.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlX2Vycm9ycy5nbw==) | `38.71% <40.00%> (+0.25%)` | :arrow_up: |
| [pkg/storage/memory/memory.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | `94.45% <95.46%> (-0.23%)` | :arrow_down: |
| [pkg/storage/sqlcommon/encoding.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL2VuY29kaW5nLmdv) | `50.00% <50.00%> (ø)` | |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `78.32% <53.85%> (-0.84%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `77.34% <53.85%> (-0.85%)` | :arrow_down: |
| ... and [2 more](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/999/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/999?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1000,codecov[bot],2023-09-11 19:28:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1000?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`48754de`)](https://app.codecov.io/gh/openfga/openfga/commit/48754dee3548164dac4dc94fd0b31e2434aecedc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`6b6af22`)](https://app.codecov.io/gh/openfga/openfga/pull/1000?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1000   +/-   ##
=======================================
  Coverage   81.98%   81.98%           
=======================================
  Files          69       69           
  Lines        8227     8227           
=======================================
  Hits         6744     6744           
  Misses       1169     1169           
  Partials      314      314           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1000?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1000,jon-whit,2023-09-12 22:27:04,@dependabot rebase
1000,dependabot[bot],2023-09-12 22:27:07,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`.
"
1003,jon-whit,2023-09-12 22:37:00,@dependabot rebase
1005,codecov[bot],2023-09-13 17:50:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`-0.07%`** :warning:
> Comparison is base [(`3c07167`)](https://app.codecov.io/gh/openfga/openfga/commit/3c07167f397039dbb1edaa7ad4a0318ad8fc1caf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.05% compared to head [(`7442460`)](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1005      +/-   ##
==========================================
- Coverage   82.05%   81.98%   -0.07%     
==========================================
  Files          69       69              
  Lines        8227     8227              
==========================================
- Hits         6750     6744       -6     
- Misses       1165     1169       +4     
- Partials      312      314       +2     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.51% <ø> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.26% <ø> (ø)` | |
| [pkg/middleware/validator/validator.go](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvdmFsaWRhdG9yL3ZhbGlkYXRvci5nbw==) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1005/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1005?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1006,codecov[bot],2023-09-13 21:36:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1006?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`85.72%`** and project coverage change: **`+0.01%`** :tada:
> Comparison is base [(`8e9cedb`)](https://app.codecov.io/gh/openfga/openfga/commit/8e9cedb064b6fee3cb8f3c164f0e1d2076ad38fc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02% compared to head [(`921e129`)](https://app.codecov.io/gh/openfga/openfga/pull/1006?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1006      +/-   ##
==========================================
+ Coverage   82.02%   82.02%   +0.01%     
==========================================
  Files          69       69              
  Lines        8227     8222       -5     
==========================================
- Hits         6747     6743       -4     
+ Misses       1167     1166       -1     
  Partials      313      313              
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/1006?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/storagewrappers/context.go](https://app.codecov.io/gh/openfga/openfga/pull/1006?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NvbnRleHQuZ28=) | `85.19% <85.72%> (+0.82%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1006?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1002,miparnisari,2023-09-13 22:44:47,"Hi @claraisrael, do you mind editing the code snippet to include the `imports` you have?"
1001,miparnisari,2023-09-13 23:04:44,"Hi @gmartin-flexe, [the playground uses the `--http-addr` flag to figure out where to send the requests](https://github.com/openfga/openfga/blob/8e9cedb064b6fee3cb8f3c164f0e1d2076ad38fc/cmd/run/run.go#L930).

So you can do this: `docker run -p 8082:SOME-PORT -p 8081:8081 -p 3000:3000 openfga/openfga run --http-addr 0.0.0.0:SOME-PORT`

So for example: `docker run -p 8082:8082 -p 8081:8081 -p 3000:3000 openfga/openfga run --http-addr 0.0.0.0:8082`


"
1002,claraisrael,2023-09-14 08:31:50,"> Hi @claraisrael, do you mind editing the code snippet to include the `imports` you have?

Added :) "
1003,jon-whit,2023-09-14 15:27:28,@dependabot rebase
1003,codecov[bot],2023-09-14 16:13:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1003?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`20719af`)](https://app.codecov.io/gh/openfga/openfga/commit/20719afd2bb4ca5a3be8516ccc3414fb0d92569e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`8b33cb2`)](https://app.codecov.io/gh/openfga/openfga/pull/1003?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1003   +/-   ##
=======================================
  Coverage   81.98%   81.98%           
=======================================
  Files          69       69           
  Lines        8222     8222           
=======================================
  Hits         6740     6740           
  Misses       1168     1168           
  Partials      314      314           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1003?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1003,jon-whit,2023-09-14 17:02:56,Fixes https://github.com/openfga/openfga/issues/1002
1002,miparnisari,2023-09-14 17:06:20,"Thanks. I think the issue is that your `go.mod` was pointing to a new version of the `goose` pkg, which OpenFGA wasn't compatible with. 

We've upgraded the `goose` library. You'll need to wait to the next release, or you can point OpenFGA to the latest commit: `go get -u github.com/openfga/openfga@main`"
962,jon-whit,2023-09-14 20:20:56,"@jpadilla we'll want to provide a mechanism to re-use previously compiled conditions so that we don't recompile the same condition again and again. Otherwise when we evaluate a tuple with a condition the performance will suffer.

But we can do this as a follow up to this work 👍 "
1008,codecov[bot],2023-09-15 19:37:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1008?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.09%`** :tada:
> Comparison is base [(`639d053`)](https://app.codecov.io/gh/openfga/openfga/commit/639d05346d12e421704dc6d34dd5bbd158d3e34c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`e657242`)](https://app.codecov.io/gh/openfga/openfga/pull/1008?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.07%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1008      +/-   ##
==========================================
+ Coverage   81.98%   82.07%   +0.09%     
==========================================
  Files          69       69              
  Lines        8222     8178      -44     
==========================================
- Hits         6740     6711      -29     
+ Misses       1168     1158      -10     
+ Partials      314      309       -5     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/1008?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/1008?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `83.03% <ø> (+0.84%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1008?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1001,UncleFirefox,2023-09-18 14:13:43,"Have the exact same issue... From docker-compose I'm trying to do `command: ['run', '--http-addr', '0.0.0.0:8082']` but it does not seem to work, am I doing something wrong?"
1001,rhamzeh,2023-09-18 16:53:30,"@UncleFirefox what's the error you are getting?

Make sure in the Playground to create a store before saving the model."
1009,codecov[bot],2023-09-18 18:46:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1009?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch and project coverage have no change.
> Comparison is base [(`eec8cb0`)](https://app.codecov.io/gh/openfga/openfga/commit/eec8cb052bee780e6b457905fafa2759969045c9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.07% compared to head [(`f71e392`)](https://app.codecov.io/gh/openfga/openfga/pull/1009?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.07%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1009   +/-   ##
=======================================
  Coverage   82.07%   82.07%           
=======================================
  Files          69       69           
  Lines        8178     8178           
=======================================
  Hits         6711     6711           
  Misses       1158     1158           
  Partials      309      309           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1009?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1010,codecov[bot],2023-09-18 19:11:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1010?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`+0.04%`** :tada:
> Comparison is base [(`eec8cb0`)](https://app.codecov.io/gh/openfga/openfga/commit/eec8cb052bee780e6b457905fafa2759969045c9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.07% compared to head [(`b5e719c`)](https://app.codecov.io/gh/openfga/openfga/pull/1010?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1010      +/-   ##
==========================================
+ Coverage   82.07%   82.10%   +0.04%     
==========================================
  Files          69       69              
  Lines        8178     8178              
==========================================
+ Hits         6711     6714       +3     
+ Misses       1158     1156       -2     
+ Partials      309      308       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1010/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1010?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
962,jon-whit,2023-09-18 21:53:59,Just need the database wired up and then let's 🚢 it! 🥳 
1009,jon-whit,2023-09-19 00:23:49,@dependabot rebase
1011,codecov[bot],2023-09-19 05:24:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1011?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`+0.05%`** :tada:
> Comparison is base [(`ade6617`)](https://app.codecov.io/gh/openfga/openfga/commit/ade66178ec6bfa128a5d8816e2b423af5547af4a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.07% compared to head [(`be825a2`)](https://app.codecov.io/gh/openfga/openfga/pull/1011?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.12%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1011      +/-   ##
==========================================
+ Coverage   82.07%   82.12%   +0.05%     
==========================================
  Files          69       69              
  Lines        8178     8178              
==========================================
+ Hits         6711     6715       +4     
+ Misses       1158     1157       -1     
+ Partials      309      306       -3     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/1011?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/1011?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `86.60% <100.00%> (+3.10%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1011/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1011?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
727,RichardAkman,2023-09-19 09:50:55,"We are also dealing with the same type of issue. We also use the Postgres storage adapter in the environment we see this issue. We consistently encounter the `occasional deadline exceeded` error whenever the `check` for `config-set` we perform should return a `false` response. Any `true` answer takes a few seconds. We didn't encounter any such issue during local development even though we performed stress testing with above 100k tuples.

Here is our model:
```
model
  schema 1.1
type user
type token
type role
  relations
    define assignee: [user,token]
type org
  relations
    define manage_member: [role#assignee]
    define manage_role: [role#assignee]
    define manage_token: [role#assignee]
    define manage_webhook: [role#assignee]
    define edit_settings: [role#assignee]
    define transfer_ownership: [role#assignee]
    define delete_org: [role#assignee]
type config-set
  relations
    define child: [config-set]
    define parent: [config-set]
    define read: [role#assignee] or write or read from child or read_all
    define read_all: [role#assignee] or read_all from parent or write_all
    define write: [role#assignee] or write from parent or write_all
    define write_all: [role#assignee] or write_all from parent
```

In our environment, there are a few hundred organizations, and each org starts with 17 tuples. Which means that there are between 10k to 20k tuples.

Is there some way to analyze why the `occasional deadline exceeded` error occurs?"
1001,UncleFirefox,2023-09-20 10:04:29,"@rhamzeh the playground UI still goes to port 8080 I can't change the UI to point somewhere else, couldn't we have an environment variable to tell the playground ui where openFga is?"
1013,rhamzeh,2023-09-21 12:31:03,"Thanks for the report @sanketrai1! Feel free to submit a PR if you'd like, and if not we'll fix in a bit."
1013,sanketrai1,2023-09-21 12:39:26,"Sure @rhamzeh, I will submit a PR with the solution suggested in #1014."
1015,linux-foundation-easycla[bot],2023-09-21 13:27:07,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: sanketrai1 / name: Sanket Rai  (da5b588ecc7bc8ac12d89240c5d41484ef2dd625)</li><li>:white_check_mark: login: adriantam / name: Adrian Tam  (192f737d62fdb48ba23df559b9c7ad1632321663)</li><li>:white_check_mark: login: miparnisari / name: Maria Ines Parnisari  (058dd7768f03f886a81482912da737987d0fe96c, c8d6ad9baa5378d7facf96f81b504171b27782a3, 64f2fc644cfcbc42c020c03921a6e09ffea99261)</li></ul>"
1015,sanketrai1,2023-09-21 13:33:04,"Hi @miparnisari, could you please check if these changes could help in overcoming the issue mentioned in the corresponding issue? Over time more local development-specific changes can be added to the compose override file."
1015,codecov[bot],2023-09-21 14:10:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1015?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c461c42`)](https://app.codecov.io/gh/openfga/openfga/commit/c461c42a3993af58fa2b4c60242ef97cb7765d09?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48% compared to head [(`64f2fc6`)](https://app.codecov.io/gh/openfga/openfga/pull/1015?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1015   +/-   ##
=======================================
  Coverage   82.48%   82.48%           
=======================================
  Files          70       70           
  Lines        8206     8206           
=======================================
  Hits         6768     6768           
  Misses       1135     1135           
  Partials      303      303           
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1015/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1015?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1016,sanketrai1,2023-09-22 12:14:56,@rhamzeh could you please review these changes? Thank you!
1016,sanketrai1,2023-09-22 12:18:32,Here's a successful run of the `markdown-link-check-push-main` job https://github.com/sanketrai1/openfga/actions/runs/6273914652/job/17038307065. Not sure why `markdown-link-check-pull-request` job is not running.
1017,codecov[bot],2023-09-22 18:45:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`a123b6e`)](https://app.codecov.io/gh/openfga/openfga/commit/a123b6e2d863172557caf64847dd0caae9e50bbb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.10% compared to head [(`9e6e108`)](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.94%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1017      +/-   ##
==========================================
- Coverage   82.10%   81.94%   -0.15%     
==========================================
  Files          69       69              
  Lines        8266     8189      -77     
==========================================
- Hits         6786     6710      -76     
+ Misses       1168     1166       -2     
- Partials      312      313       +1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.63% <ø> (+0.12%)` | :arrow_up: |
| [cmd/validatemodels/validate\_models.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3ZhbGlkYXRlbW9kZWxzL3ZhbGlkYXRlX21vZGVscy5nbw==) | `77.15% <ø> (-0.21%)` | :arrow_down: |
| [internal/graph/cached\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2FjaGVkX3Jlc29sdmVyLmdv) | `89.02% <ø> (-0.23%)` | :arrow_down: |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.73% <100.00%> (-0.67%)` | :arrow_down: |
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `82.75% <100.00%> (-0.07%)` | :arrow_down: |
| [internal/validation/validation.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.40% <ø> (-0.46%)` | :arrow_down: |
| [pkg/middleware/http/handler.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvaHR0cC9oYW5kbGVyLmdv) | `50.75% <ø> (+0.75%)` | :arrow_up: |
| [pkg/middleware/logging/logging.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | `86.49% <ø> (-0.52%)` | :arrow_down: |
| [pkg/middleware/storeid/storeid.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvc3RvcmVpZC9zdG9yZWlkLmdv) | `90.00% <ø> (-0.47%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.83% <ø> (-0.09%)` | :arrow_down: |
| ... and [13 more](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1017?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1019,codecov[bot],2023-09-24 07:24:54,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1019?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage: **`100.00%`** and project coverage change: **`-0.06%`** :warning:
> Comparison is base [(`69729ee`)](https://app.codecov.io/gh/openfga/openfga/commit/69729ee6f710378e6d4089dd81038bad3dc48373?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`baba2a7`)](https://app.codecov.io/gh/openfga/openfga/pull/1019?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.08%.
> Report is 1 commits behind head on main.

> :exclamation: Current head baba2a7 differs from pull request most recent head 461cbb1. Consider uploading reports for the commit 461cbb1 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1019      +/-   ##
==========================================
- Coverage   82.14%   82.08%   -0.06%     
==========================================
  Files          69       69              
  Lines        8178     8177       -1     
==========================================
- Hits         6717     6711       -6     
- Misses       1155     1159       +4     
- Partials      306      307       +1     
```


| [Files Changed](https://app.codecov.io/gh/openfga/openfga/pull/1019?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/middleware/validator/validator.go](https://app.codecov.io/gh/openfga/openfga/pull/1019?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvdmFsaWRhdG9yL3ZhbGlkYXRvci5nbw==) | `100.00% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1019/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1019?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1016,rhamzeh,2023-09-25 12:38:49,"This is exactly what we had in mind, thanks @sanketrai1!"
1016,codecov[bot],2023-09-25 12:43:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1016?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Patch coverage has no change and project coverage change: **`-0.02%`** :warning:
> Comparison is base [(`69729ee`)](https://app.codecov.io/gh/openfga/openfga/commit/69729ee6f710378e6d4089dd81038bad3dc48373?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`741a182`)](https://app.codecov.io/gh/openfga/openfga/pull/1016?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.12%.

> :exclamation: Current head 741a182 differs from pull request most recent head 0418f3f. Consider uploading reports for the commit 0418f3f to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1016      +/-   ##
==========================================
- Coverage   82.14%   82.12%   -0.02%     
==========================================
  Files          69       69              
  Lines        8178     8178              
==========================================
- Hits         6717     6715       -2     
- Misses       1155     1157       +2     
  Partials      306      306              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1016/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1016?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1016,rhamzeh,2023-09-25 14:17:05,Thanks @sanketrai1 !
1015,jon-whit,2023-09-25 15:39:17,"> @sanketrai1 May I ask if you can add a third option to the ""Build from Source"" documentation in the README (we can call it: build using docker-compose) which documents how to build it for people other than us who may want to follow?
> 
> e.g. `docker compose up -f ... -f ...`

From my understanding, and it appears to work this way now as well, Docker looks for `docker-compose.yml` and `docker-compose.override.yml` by default. So nothing changes with the existing documentation around `docker compose up`."
1015,sanketrai1,2023-09-25 16:28:30,"@rhamzeh, @jon-whit is correct. If `docker-compose.override.yml` is present, then `docker-compose.yml` and `docker-compose.override.yml` are merged automatically when running `docker compose up`. If a compose override file with any other name than `docker-compose.override.yml` or `compose.override.yml` needs to be merged with the default compose file, only then multiple `-f` arguments syntax is needed."
277,jon-whit,2023-09-25 17:41:36,Closing since we have been working on https://github.com/jon-whit/openfga-graphviz-gen
1020,codecov[bot],2023-09-25 18:55:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1020?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`69729ee`)](https://app.codecov.io/gh/openfga/openfga/commit/69729ee6f710378e6d4089dd81038bad3dc48373?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`c190022`)](https://app.codecov.io/gh/openfga/openfga/pull/1020?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11%.
> Report is 3 commits behind head on main.

> :exclamation: Current head c190022 differs from pull request most recent head c59bc73. Consider uploading reports for the commit c59bc73 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1020      +/-   ##
==========================================
- Coverage   82.14%   82.11%   -0.02%     
==========================================
  Files          69       69              
  Lines        8178     8177       -1     
==========================================
- Hits         6717     6714       -3     
- Misses       1155     1157       +2     
  Partials      306      306              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1020?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/middleware/validator/validator.go](https://app.codecov.io/gh/openfga/openfga/pull/1020?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvdmFsaWRhdG9yL3ZhbGlkYXRvci5nbw==) | `100.00% <100.00%> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1020/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1020?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1021,codecov[bot],2023-09-25 18:59:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1021?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`main@23f098d`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1021   +/-   ##
=======================================
  Coverage        ?   82.14%           
=======================================
  Files           ?       69           
  Lines           ?     8177           
  Branches        ?        0           
=======================================
  Hits            ?     6716           
  Misses          ?     1155           
  Partials        ?      306           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1021?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1023,codecov[bot],2023-09-26 07:44:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `25 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`714697a`)](https://app.codecov.io/gh/openfga/openfga/commit/714697a4d96542a01b7d4eaf06bc7900dde6b23b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`6fcc075`)](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1023      +/-   ##
==========================================
- Coverage   82.39%   82.25%   -0.13%     
==========================================
  Files          70       70              
  Lines        8162     8184      +22     
==========================================
+ Hits         6724     6731       +7     
- Misses       1134     1146      +12     
- Partials      304      307       +3     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [internal/server/config/config.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvc2VydmVyL2NvbmZpZy9jb25maWcuZ28=) | `94.96% <ø> (ø)` | |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `78.16% <0.00%> (-1.08%)` | :arrow_down: |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.72% <54.55%> (-0.19%)` | :arrow_down: |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `79.17% <0.00%> (-0.60%)` | :arrow_down: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.19% <0.00%> (-0.60%)` | :arrow_down: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1023?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1024,codecov[bot],2023-09-26 11:41:24,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1024?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: Patch coverage is `76.00000%` with `6 lines` in your changes are missing coverage. Please review.
> Project coverage is 86.03%. Comparing base [(`1e0b064`)](https://app.codecov.io/gh/openfga/openfga/commit/1e0b06457909b523ce00cd3051b40ec87128065f?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) to head [(`8b3b080`)](https://app.codecov.io/gh/openfga/openfga/pull/1024?dropdown=coverage&src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1024?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/telemetry/middleware.go](https://app.codecov.io/gh/openfga/openfga/pull/1024?src=pr&el=tree&filepath=pkg%2Ftelemetry%2Fmiddleware.go&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9taWRkbGV3YXJlLmdv) | 66.67% | [6 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1024?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1024      +/-   ##
==========================================
- Coverage   86.07%   86.03%   -0.03%     
==========================================
  Files          85       86       +1     
  Lines        8057     8081      +24     
==========================================
+ Hits         6934     6952      +18     
- Misses        792      798       +6     
  Partials      331      331              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1024?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1020,jpadilla,2023-09-26 13:26:21,@dependabot rebase
1023,jon-whit,2023-09-26 19:45:37,"@matoous we should put this behind a `--datastore-metrics-enabled` flag.

env: `OPENFGA_DATASTORE_METRICS_ENABLED`
flag: `datastore-metrics-enabled`
config: `datastore.metrics.enabled`"
1015,jon-whit,2023-09-27 00:04:04,@sanketrai1 could you please rebase on `main`?
1002,jpadilla,2023-09-27 14:11:33,We just released v1.3.2 which should fix this. Feel free to get back to us if you're still running into issues.
1015,jpadilla,2023-09-27 14:22:41,I think the biggest difference when using an override file is that there's no way to skip the overriding. Why not just modify the current docker-compose.yaml file to not use the latest image? Is the intent of the docker-compose setup to get started quick with the latest stable version or with the current version in the filesystem?
1027,codecov[bot],2023-09-27 15:33:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1027?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`7252960`)](https://app.codecov.io/gh/openfga/openfga/commit/725296025fd81227c89525808652c6acd4a605f6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.06% compared to head [(`0133052`)](https://app.codecov.io/gh/openfga/openfga/pull/1027?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1027      +/-   ##
==========================================
+ Coverage   82.06%   82.11%   +0.06%     
==========================================
  Files          69       69              
  Lines        8268     8266       -2     
==========================================
+ Hits         6784     6787       +3     
+ Misses       1172     1168       -4     
+ Partials      312      311       -1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1027?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1027?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.91% <ø> (+0.82%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1027?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1028,codecov[bot],2023-09-27 15:58:46,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `28 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`a75d6a2`)](https://app.codecov.io/gh/openfga/openfga/commit/a75d6a2b589541c1b1151851ba6e478e61eb41cb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`a69a5b8`)](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1028      +/-   ##
==========================================
+ Coverage   81.98%   82.17%   +0.20%     
==========================================
  Files          69       69              
  Lines        8189     8132      -57     
==========================================
- Hits         6713     6682      -31     
+ Misses       1164     1147      -17     
+ Partials      312      303       -9     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `78.50% <100.00%> (+2.53%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `77.50% <100.00%> (+1.27%)` | :arrow_up: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `78.65% <61.65%> (-5.96%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1028/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1028?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1015,rhamzeh,2023-09-27 16:46:33,"> I think the biggest difference when using an override file is that there's no way to skip the overriding. Why not just modify the current docker-compose.yaml file to not use the latest image? Is the intent of the docker-compose setup to get started quick with the latest stable version or with the current version in the filesystem?

I think ideally the main `docker-compose.yaml` file would be as close to get set up and started with minimal effort.

It's what we can point users to to copy and get started w/ OpenFGA and also probably replace the docker-compose snippet in [docs](https://openfga.dev/docs/getting-started/setup-openfga/docker#postgres) so that we do not need to maintain two separate places.

In our documentation we can then say ""copy the following snippet to get started quickly"":
```bash
curl https://raw.githubusercontent.com/openfga/openfga/main/docker-compose.yaml -O docker-compose.yaml && docker compose up
```

With a few redirects, this can be simplified to:
```bash
curl https://openfga.dev/static/docker-compose.yaml -O docker-compose.yaml && docker compose up
```"
930,gabrielbussolo,2023-09-28 08:50:54,"@miparnisari sorry, I started to do other things and I forgot this issue. I'm backing to it."
1029,codecov[bot],2023-09-28 13:41:27,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1029?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`8dc2ed6`)](https://app.codecov.io/gh/openfga/openfga/commit/8dc2ed62413e7cccc7da57da057f1f1fc17dcb8a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.94% compared to head [(`b48bfb1`)](https://app.codecov.io/gh/openfga/openfga/pull/1029?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99%.

> :exclamation: Current head b48bfb1 differs from pull request most recent head 8cc0ad6. Consider uploading reports for the commit 8cc0ad6 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1029      +/-   ##
==========================================
+ Coverage   81.94%   81.99%   +0.05%     
==========================================
  Files          69       69              
  Lines        8189     8189              
==========================================
+ Hits         6710     6714       +4     
+ Misses       1166     1164       -2     
+ Partials      313      311       -2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1029?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/cached\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/1029?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2FjaGVkX3Jlc29sdmVyLmdv) | `92.31% <70.00%> (+3.30%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1029/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1029?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1014,gabrielbussolo,2023-09-28 15:35:53,seems like it was closed by https://github.com/openfga/openfga/pull/1016
1001,gabrielbussolo,2023-09-28 20:28:30,"> couldn't we have an environment variable to tell the playground ui where openFga is?

@UncleFirefox mostly of the flags carry a ENV associated with it on the case of the server port for the flag `--http-addr` you can use the env variable `OPENFGA_HTTP_ADDR`

example: you can use the [compose](https://openfga.dev/docs/getting-started/setup-openfga/docker#configuring-data-storage) provided by the docs, and edit the port as @miparnisari suggested but using the env variable.


```diff
version: '3.8'

networks:
  openfga:

services:
  postgres:
    image: postgres:14
    container_name: postgres
    networks:
      - openfga
    ports:
      - ""5432:5432""
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    healthcheck:
      test: [ ""CMD-SHELL"", ""pg_isready -U postgres"" ]
      interval: 5s
      timeout: 5s
      retries: 5

  migrate:
    depends_on:
      postgres:
        condition: service_healthy
    image: openfga/openfga:latest
    container_name: migrate
    command: migrate
    environment:
      - OPENFGA_DATASTORE_ENGINE=postgres
      - OPENFGA_DATASTORE_URI=postgres://postgres:password@postgres:5432/postgres?sslmode=disable
    networks:
      - openfga

  openfga:
    depends_on:
      migrate:
        condition: service_completed_successfully
    image: openfga/openfga:latest
    container_name: openfga
    environment:
      - OPENFGA_DATASTORE_ENGINE=postgres
      - OPENFGA_DATASTORE_URI=postgres://postgres:password@postgres:5432/postgres?sslmode=disable
      - OPENFGA_LOG_FORMAT=json
+     - OPENFGA_HTTP_ADDR=0.0.0.0:8090
    command: run
    networks:
      - openfga
    ports:
      # Needed for the http server
-      - ""8080:8080""
+      - ""8090:8090""
      # Needed for the grpc server (if used)
      - ""8081:8081""
      # Needed for the playground (Do not enable in prod!)
      - ""3000:3000""
```"
1026,velmohan,2023-09-29 15:57:47,"@JRudransh  you are correct.  The type bound public access cannot be used in ""Object"" field.

I am not sure what your use-case is but you can do this if you can reverse the relationship like shown below.

```
model
  schema 1.1
type user
type admin
  relations
    define member: [user]
    define subjects: [user:*]
```

Now, you can add the following where I have used ""subjects"" relation to say who the admin can manage. Would that work for you?

```
Object: admin:identity_admin
Relation: subjects
User: user:*
```"
1026,JRudransh,2023-09-29 16:33:45,"Thanks @velmohan for your response. Our current flow does not support the reverse implementation. My use case is very simple, a particular type of admin should be admin of all users. That is my requirement "
1017,miparnisari,2023-09-29 16:45:22,@jpadilla can we close this? https://github.com/openfga/openfga/issues/598
1018,codecov[bot],2023-09-29 18:15:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `92 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`faccd6e`)](https://app.codecov.io/gh/openfga/openfga/commit/faccd6e8282f68bce065be48713f21ce15e545f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`da4900e`)](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.88%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1018      +/-   ##
=============================================
- Coverage      82.46%   81.88%   -0.57%     
=============================================
  Files             79       82       +3     
  Lines           8800     9021     +221     
=============================================
+ Hits            7256     7386     +130     
- Misses          1220     1288      +68     
- Partials         324      347      +23     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/validation/validation.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `87.72% <100.00%> (-1.71%)` | :arrow_down: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `95.59% <100.00%> (+0.04%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.51% <100.00%> (+0.10%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.87% <100.00%> (+0.04%)` | :arrow_up: |
| [pkg/testutils/testutils.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `83.34% <77.78%> (-2.38%)` | :arrow_down: |
| [internal/keys/keys.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwva2V5cy9rZXlzLmdv) | `78.58% <78.58%> (ø)` | |
| [pkg/condition/eval/eval.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9ldmFsL2V2YWwuZ28=) | `81.25% <81.25%> (ø)` | |
| [pkg/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9jb25kaXRpb24uZ28=) | `83.20% <86.49%> (+2.40%)` | :arrow_up: |
| [internal/graph/cached\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2FjaGVkX3Jlc29sdmVyLmdv) | `86.74% <69.57%> (-5.57%)` | :arrow_down: |
| ... and [3 more](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1018/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1018?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1030,codecov[bot],2023-09-29 18:31:57,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1030?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`ad4b31f`)](https://app.codecov.io/gh/openfga/openfga/commit/ad4b31f1127a6028e442cc17ad83d8d3bf890199?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`96eaf00`)](https://app.codecov.io/gh/openfga/openfga/pull/1030?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1030      +/-   ##
==========================================
+ Coverage   82.35%   82.42%   +0.08%     
==========================================
  Files          70       70              
  Lines        8212     8206       -6     
==========================================
+ Hits         6762     6763       +1     
+ Misses       1144     1139       -5     
+ Partials      306      304       -2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1030?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1030?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `79.80% <100.00%> (+1.64%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1030/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1030?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1034,codecov[bot],2023-10-02 18:21:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1034?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`8afb41f`)](https://app.codecov.io/gh/openfga/openfga/commit/8afb41fd39624518e13fa7dff2fcc9beadf93d86?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`dc0daae`)](https://app.codecov.io/gh/openfga/openfga/pull/1034?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1034   +/-   ##
=======================================
  Coverage   82.38%   82.38%           
=======================================
  Files          70       70           
  Lines        8151     8151           
=======================================
  Hits         6714     6714           
  Misses       1133     1133           
  Partials      304      304           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1034?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1035,codecov[bot],2023-10-02 18:49:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1035?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`3b4f654`)](https://app.codecov.io/gh/openfga/openfga/commit/3b4f6544a8bff5019b618a41a3176a7ac82f4427?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.18% compared to head [(`9180530`)](https://app.codecov.io/gh/openfga/openfga/pull/1035?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.18%.
> Report is 6 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1035   +/-   ##
=======================================
  Coverage   82.18%   82.18%           
=======================================
  Files          69       69           
  Lines        8153     8153           
=======================================
  Hits         6700     6700           
  Misses       1149     1149           
  Partials      304      304           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1035?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1036,codecov[bot],2023-10-02 18:57:04,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `7 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`3b4f654`)](https://app.codecov.io/gh/openfga/openfga/commit/3b4f6544a8bff5019b618a41a3176a7ac82f4427?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.18% compared to head [(`e9c97a3`)](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1036      +/-   ##
==========================================
+ Coverage   82.18%   82.20%   +0.02%     
==========================================
  Files          69       70       +1     
  Lines        8153     8155       +2     
==========================================
+ Hits         6700     6703       +3     
  Misses       1149     1149              
+ Partials      304      303       -1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `91.24% <100.00%> (+0.52%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.83% <100.00%> (ø)` | |
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `94.27% <100.00%> (ø)` | |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.46% <100.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.55% <85.72%> (-4.21%)` | :arrow_down: |
| [internal/server/config/config.go](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvc2VydmVyL2NvbmZpZy9jb25maWcuZ28=) | `94.96% <94.96%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1036?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1037,codecov[bot],2023-10-02 19:12:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1037?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`ff582d0`)](https://app.codecov.io/gh/openfga/openfga/commit/ff582d0fdef4122682456ceec12843bcf53020cf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`bfcca33`)](https://app.codecov.io/gh/openfga/openfga/pull/1037?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1037      +/-   ##
==========================================
- Coverage   82.14%   82.11%   -0.02%     
==========================================
  Files          69       69              
  Lines        8132     8132              
==========================================
- Hits         6679     6677       -2     
- Misses       1149     1151       +2     
  Partials      304      304              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1037/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1037?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1038,codecov[bot],2023-10-03 13:39:09,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `217 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`fa07377`)](https://app.codecov.io/gh/openfga/openfga/commit/fa07377929654a7ff161cec4be65d0a90a611438?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`bad2564`)](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11%.
> Report is 3 commits behind head on main.

> :exclamation: Current head bad2564 differs from pull request most recent head 1dee207. Consider uploading reports for the commit 1dee207 to get more accurate results

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL2NvbmRpdGlvbi5nbw==) | 81.09% | [27 Missing and 8 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/keys/hasher.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwva2V5cy9oYXNoZXIuZ28=) | 52.46% | [22 Missing and 7 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/condition/types/ipaddress.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL3R5cGVzL2lwYWRkcmVzcy5nbw==) | 58.21% | [27 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/condition/types/converters.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL3R5cGVzL2NvbnZlcnRlcnMuZ28=) | 71.61% | [17 Missing and 6 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/condition/types/types.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL3R5cGVzL3R5cGVzLmdv) | 73.78% | [13 Missing and 3 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/condition/types/encoding.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL3R5cGVzL2VuY29kaW5nLmdv) | 47.62% | [9 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | 87.50% | [8 Missing and 3 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/validation/validation.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | 83.61% | [7 Missing and 3 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | 79.07% | [7 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | 79.07% | [7 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| ... and [10 more](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1038      +/-   ##
==========================================
- Coverage   82.30%   82.11%   -0.19%     
==========================================
  Files          73       83      +10     
  Lines        8463     9504    +1041     
==========================================
+ Hits         6965     7803     +838     
- Misses       1185     1346     +161     
- Partials      313      355      +42     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1038?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1032,codecov[bot],2023-10-03 15:13:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`40845db`)](https://app.codecov.io/gh/openfga/openfga/commit/40845db9743982e2864a4623105011f038e9f9a7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.14% compared to head [(`c7b4ce9`)](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.18%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1032      +/-   ##
==========================================
+ Coverage   82.14%   82.18%   +0.05%     
==========================================
  Files          69       69              
  Lines        8132     8153      +21     
==========================================
+ Hits         6679     6700      +21     
  Misses       1149     1149              
  Partials      304      304              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/flags.go](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9mbGFncy5nbw==) | `100.00% <100.00%> (ø)` | |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `76.77% <100.00%> (+0.15%)` | :arrow_up: |
| [pkg/server/commands/write\_authzmodel.go](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hdXRoem1vZGVsLmdv) | `92.31% <100.00%> (+2.31%)` | :arrow_up: |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.46% <100.00%> (+0.24%)` | :arrow_up: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1032?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1035,jon-whit,2023-10-03 23:23:53,@dependabot rebase
1034,jon-whit,2023-10-03 23:24:05,@dependabot rebase
1023,jon-whit,2023-10-03 23:24:39,@matoous any updates on this? Anything we can help with?
922,miparnisari,2023-10-04 05:19:54,The warning was removed in https://github.com/openfga/openfga/pull/1036
1023,matoous,2023-10-04 16:37:21,"@jon-whit sorry, no time previous week and now I am on vacation. As of now - this doesn't work. When I tried this locally the `/metrics` endpoint didn't return the database metrics, reason unknown so far. Will investigate further when I am back to work."
1041,adriantam,2023-10-04 18:29:15,"> Add a test that ensures that concurrent tuple writes do not impact ReadChanges API.

Maybe we can clarify what is meant by ""do not impact""?"
1041,codecov[bot],2023-10-04 18:30:51,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1041?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`d00ba7e`)](https://app.codecov.io/gh/openfga/openfga/commit/d00ba7ed1bda0f245043985e1b9e7a8efcbdb968?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19% compared to head [(`1c1bbf0`)](https://app.codecov.io/gh/openfga/openfga/pull/1041?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.16%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1041      +/-   ##
==========================================
- Coverage   82.19%   82.16%   -0.02%     
==========================================
  Files          70       70              
  Lines        8155     8155              
==========================================
- Hits         6702     6700       -2     
- Misses       1149     1151       +2     
  Partials      304      304              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1041/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1041?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1042,codecov[bot],2023-10-04 19:20:06,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1042?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`311f641`)](https://app.codecov.io/gh/openfga/openfga/commit/311f641c4b5651cb1123ce9542a528223a6e1cda?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19% compared to head [(`e865be1`)](https://app.codecov.io/gh/openfga/openfga/pull/1042?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.22%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1042      +/-   ##
==========================================
+ Coverage   82.19%   82.22%   +0.04%     
==========================================
  Files          70       70              
  Lines        8155     8155              
==========================================
+ Hits         6702     6705       +3     
+ Misses       1149     1147       -2     
+ Partials      304      303       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1042/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1042?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1043,codecov[bot],2023-10-04 20:08:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1043?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`311f641`)](https://app.codecov.io/gh/openfga/openfga/commit/311f641c4b5651cb1123ce9542a528223a6e1cda?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19% compared to head [(`ba58f56`)](https://app.codecov.io/gh/openfga/openfga/pull/1043?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1043   +/-   ##
=======================================
  Coverage   82.19%   82.19%           
=======================================
  Files          70       70           
  Lines        8155     8155           
=======================================
  Hits         6702     6702           
  Misses       1149     1149           
  Partials      304      304           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1043?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1043,jpadilla,2023-10-05 00:28:15,"> Can we confirm whether we need to update any of the helm chart before we release?

@adriantam nothing that needs to be updated before, but I will update the version there after we release."
757,jcbertolucci,2023-10-05 01:23:58,"Hi @miparnisari  and @jon-whit.

We've been experimenting with OpenFGA at Cochlear and we'd like to appreciate the amazing work you've been doing. It's awesome to see this how this project's evolving.

On a more codebase related question: How are you ensuring you return all data when `OPENFGA_LIST_OBJECTS_MAX_RESULTS` is set to `0`?

I couldn't find any test case that validates that flow.

Also, that setting doesn't seem to work for me. I'm happy to help and contribute with a fix if that's the case.

Thank you!
"
757,miparnisari,2023-10-05 18:15:33,"@jcbertolucci Thanks for the kind words! In regards to your bug report, you're right, I just tested it locally and I get 0 results. :( Opened https://github.com/openfga/openfga/issues/1044"
1044,miparnisari,2023-10-05 19:02:37,"Seems like it broke in this commit https://github.com/openfga/openfga/commit/5c7c5c88dd07c85666275621503f867428a59693 because the previous commit respects the 0 value.

I suspect this code https://github.com/openfga/openfga/blob/311f641c4b5651cb1123ce9542a528223a6e1cda/pkg/server/commands/list_objects.go#L211

which was previously https://github.com/openfga/openfga/blob/685b2b6a8dd80785ea795a989de0a7251d257041/pkg/server/commands/connected_objects.go#L230-L233

Also, as @jcbertolucci rightly reported, I can't find a test for this scenario in https://github.com/openfga/openfga/blob/8dc2ed62413e7cccc7da57da057f1f1fc17dcb8a/pkg/server/test/list_objects.go#L51

We should add one!"
757,jcbertolucci,2023-10-05 21:34:56,"Thanks heaps @miparnisari.

"
1046,codecov[bot],2023-10-05 21:57:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1046?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`9f60a57`)](https://app.codecov.io/gh/openfga/openfga/commit/9f60a57262bec4a5f45c1d24a3f0807872e29e28?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`063908d`)](https://app.codecov.io/gh/openfga/openfga/pull/1046?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.40%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1046      +/-   ##
==========================================
- Coverage   82.42%   82.40%   -0.02%     
==========================================
  Files          70       70              
  Lines        8162     8162              
==========================================
- Hits         6727     6725       -2     
- Misses       1132     1134       +2     
  Partials      303      303              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1046/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1046?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1015,miparnisari,2023-10-06 05:53:19,"@rhamzeh our current instructions in the README regarding `docker-compose.yaml` don't really work... see https://github.com/openfga/openfga/issues/1047. Based on the fact that we've had that instruction for a long time now, and we've only noticed now, I think it's fair to assume that nobody is actually using this for setup? 🤷‍♀️ "
1023,miparnisari,2023-10-06 06:29:56,"> As of now - this doesn't work. When I tried this locally the /metrics endpoint didn't return the database metrics

I tried this two days ago and took a screenshot, it worked for me 🤔 
<img width=""713"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/8b0c98b6-d8d7-4cc2-892d-266c9656508c"">
"
1049,codecov[bot],2023-10-06 22:36:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`5256560`)](https://app.codecov.io/gh/openfga/openfga/commit/525656072a9467c8e51a4c63d8804df48dab386a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.16% compared to head [(`338ec1a`)](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1049      +/-   ##
==========================================
+ Coverage   82.16%   82.38%   +0.22%     
==========================================
  Files          70       70              
  Lines        8155     8151       -4     
==========================================
+ Hits         6700     6714      +14     
+ Misses       1151     1133      -18     
  Partials      304      304              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `79.78% <100.00%> (+1.29%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.80% <100.00%> (+1.30%)` | :arrow_up: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `79.24% <100.00%> (+0.60%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1049/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1049?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1050,codecov[bot],2023-10-06 23:49:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1050?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`7a2008a`)](https://app.codecov.io/gh/openfga/openfga/commit/7a2008a9d383b6fb7d1ac7845a0784c982bd3b6f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`64278cc`)](https://app.codecov.io/gh/openfga/openfga/pull/1050?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1050      +/-   ##
==========================================
+ Coverage   82.35%   82.38%   +0.03%     
==========================================
  Files          70       70              
  Lines        8151     8151              
==========================================
+ Hits         6712     6714       +2     
+ Misses       1135     1133       -2     
  Partials      304      304              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1050/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1050?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1046,jpadilla,2023-10-07 00:10:00,@jon-whit let's double check that this token is correct https://github.com/openfga/openfga/pull/766
1023,matoous,2023-10-07 08:58:09,@miparnisari thank you! Maybe I used wrong image by accident. Will take a look 👀
1052,linux-foundation-easycla[bot],2023-10-08 21:31:42,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: ilaleksin / name: Ilia Aleksin  (46c2f8e2d26e6dca3469f2a5963a1c9c2132b187, 8a9dad244e2585e172466e1d9b4419aa917ca5d5, be564783bec87200a17e3c08ec772b3fe7484a7e)</li><li>:white_check_mark: login: adriantam / name: Adrian Tam  (ec77bd9a86de61357c17749740dbc0459a94a1dc)</li></ul>"
1035,jon-whit,2023-10-09 15:19:13,@dependabot rebase
1035,dependabot[bot],2023-10-09 15:20:17,"Looks like these dependencies are updatable in another way, so this is no longer needed."
1034,jon-whit,2023-10-09 15:24:58,@dependabot rebase
1034,dependabot[bot],2023-10-09 15:25:02,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`.
"
1030,jon-whit,2023-10-09 16:15:35,@jpadilla - We will want to be very clear that there is an upgrade path that should strictly be followed to avoid problems. If developer teams don’t update to `v1.3.3` first and they jump from `v1.3.2` to `v1.3.4` then this will break them. `v1.3.4` should strictly come after the upgrade to `v1.3.3`.
1054,codecov[bot],2023-10-09 18:22:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1054?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`f9b736b`)](https://app.codecov.io/gh/openfga/openfga/commit/f9b736b19cdac56fbca03e220024fe8740d8f77a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36% compared to head [(`a3761e0`)](https://app.codecov.io/gh/openfga/openfga/pull/1054?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1054      +/-   ##
==========================================
- Coverage   82.36%   82.35%   -0.01%     
==========================================
  Files          70       70              
  Lines        8151     8151              
==========================================
- Hits         6713     6712       -1     
- Misses       1134     1135       +1     
  Partials      304      304              
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1054/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1054?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1055,codecov[bot],2023-10-09 18:49:50,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `4 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`9ae125b`)](https://app.codecov.io/gh/openfga/openfga/commit/9ae125be1f391c0c599d115da890dbde34c7392d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.32% compared to head [(`63ee7cf`)](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/storage/iterators.go](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvaXRlcmF0b3JzLmdv) | 73.34% | [4 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1055      +/-   ##
==========================================
+ Coverage   82.32%   82.36%   +0.05%     
==========================================
  Files          71       71              
  Lines        8389     8422      +33     
==========================================
+ Hits         6905     6936      +31     
- Misses       1176     1177       +1     
- Partials      308      309       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1055?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1031,codecov[bot],2023-10-09 19:22:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `9 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`8d37eee`)](https://app.codecov.io/gh/openfga/openfga/commit/8d37eee786eeeb289e02e795eea0c7de413c3557?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.68% compared to head [(`bd413b2`)](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.78%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1031      +/-   ##
=============================================
+ Coverage      81.68%   81.78%   +0.11%     
=============================================
  Files             77       78       +1     
  Lines           8497     8545      +48     
=============================================
+ Hits            6940     6988      +48     
+ Misses          1238     1236       -2     
- Partials         319      321       +2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/types/generic.go](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy9nZW5lcmljLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/condition/types/ipaddress.go](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy9pcGFkZHJlc3MuZ28=) | `42.56% <ø> (+2.56%)` | :arrow_up: |
| [pkg/condition/types/types.go](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy90eXBlcy5nbw==) | `68.86% <40.00%> (+5.81%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1031/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1031?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1023,matoous,2023-10-09 21:32:06,@jon-whit / @miparnisari fixed based on feedback and added configuration.
1056,codecov[bot],2023-10-10 02:50:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`7e6a9bf`)](https://app.codecov.io/gh/openfga/openfga/commit/7e6a9bf9fb2318fca37424e7022ea53e76bcf227?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`2aa5b2e`)](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1056      +/-   ##
==========================================
+ Coverage   82.35%   82.39%   +0.04%     
==========================================
  Files          70       70              
  Lines        8151     8151              
==========================================
+ Hits         6712     6715       +3     
+ Misses       1135     1133       -2     
+ Partials      304      303       -1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `72.55% <100.00%> (ø)` | |
| [internal/authn/oidc/oidc.go](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vb2lkYy9vaWRjLmdv) | `51.79% <ø> (ø)` | |
| [internal/authn/presharedkey/presharedkey.go](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvYXV0aG4vcHJlc2hhcmVka2V5L3ByZXNoYXJlZGtleS5nbw==) | `100.00% <100.00%> (ø)` | |
| [internal/middleware/authn/authn.go](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvbWlkZGxld2FyZS9hdXRobi9hdXRobi5nbw==) | `100.00% <100.00%> (ø)` | |
| [pkg/server/health/health.go](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9oZWFsdGgvaGVhbHRoLmdv) | `43.75% <ø> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1056/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1056?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1048,jon-whit,2023-10-10 18:19:12,@mjarosie want to contribute it? We'd love your help with the contribution.
1055,adriantam,2023-10-10 19:12:58,"Running with list object sees the following panic
```
""peer.address"": ""127.0.0.1:54629"", ""store_id"": ""01HCD6RYT1MFS46VAAPMPBXSZW"", ""authorization_model_id"": ""01HCD6SCCN1D58YJBDET52Y1PP"", ""datastore_query_count"": 3, ""grpc_code"": 0}
panic: send on closed channel

goroutine 134 [running]:
github.com/openfga/openfga/pkg/server/commands.(*ListObjectsQuery).evaluate.func1.1()
	/Users/adrian.tam/src/github.com/openfga/openfga/pkg/server/commands/list_objects.go:232 +0x2bc
created by github.com/openfga/openfga/pkg/server/commands.(*ListObjectsQuery).evaluate.func1 in goroutine 133
	/Users/adrian.tam/src/github.com/openfga/openfga/pkg/server/commands/list_objects.go:218 +0x4ec
make: *** [run-postgres] Error 2
```"
1052,ilaleksin,2023-10-10 19:19:55,"Hey @jon-whit,

I prepared PR to fix https://github.com/openfga/openfga/issues/894

I see unit tests and linter jobs run only after a maintainer approval. Can you help me to run them?"
1055,jon-whit,2023-10-10 19:26:03,"> Running with list object sees the following panic
> 
> ```
> ""peer.address"": ""127.0.0.1:54629"", ""store_id"": ""01HCD6RYT1MFS46VAAPMPBXSZW"", ""authorization_model_id"": ""01HCD6SCCN1D58YJBDET52Y1PP"", ""datastore_query_count"": 3, ""grpc_code"": 0}
> panic: send on closed channel
> 
> goroutine 134 [running]:
> github.com/openfga/openfga/pkg/server/commands.(*ListObjectsQuery).evaluate.func1.1()
> 	/Users/adrian.tam/src/github.com/openfga/openfga/pkg/server/commands/list_objects.go:232 +0x2bc
> created by github.com/openfga/openfga/pkg/server/commands.(*ListObjectsQuery).evaluate.func1 in goroutine 133
> 	/Users/adrian.tam/src/github.com/openfga/openfga/pkg/server/commands/list_objects.go:218 +0x4ec
> make: *** [run-postgres] Error 2
> ```

@adriantam are you able to reproduce this on every run? I cannot produce it on my end yet."
1048,mjarosie,2023-10-10 19:40:56,"Sure, I will give it a try this weekend."
1057,codecov[bot],2023-10-10 19:44:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1057?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`8584971`)](https://app.codecov.io/gh/openfga/openfga/commit/858497185a5a5d4a5faaf59ab98de09e70f75226?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`51cbcb8`)](https://app.codecov.io/gh/openfga/openfga/pull/1057?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1057   +/-   ##
=======================================
  Coverage   82.38%   82.38%           
=======================================
  Files          70       70           
  Lines        8151     8151           
=======================================
  Hits         6714     6714           
  Misses       1133     1133           
  Partials      304      304           
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1057?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/1057?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.31% <100.00%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1057?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1055,miparnisari,2023-10-10 22:52:18,"`refactor` commits will not be mentioned in the changelog since they are assumed to not contain changes that customers will care for.

> This work will help us to reduce additional goroutine creation and will help increase efficiency in doing so.

Can you rename this PR to `perf: add context to iterator interface to cancel iteration if context is cancelled or timed out`?
"
1058,miparnisari,2023-10-11 01:56:56,"Ah... we forgot to pass `contextualTuples` here https://github.com/openfga/openfga/blob/311f641c4b5651cb1123ce9542a528223a6e1cda/internal/graph/check.go#L601-L612 and in two more places within this file :( 

I think https://github.com/openfga/openfga/pull/948 fixes this. But it's part of a larger refactor, so it may not get merged quickly."
1007,miparnisari,2023-10-11 02:06:58,Don't remove before fixing this: https://github.com/openfga/openfga/issues/1058
1052,codecov[bot],2023-10-11 03:53:07,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1052?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`49f8326`)](https://app.codecov.io/gh/openfga/openfga/commit/49f83265274f2e6a994d6e208bfab080f52aae32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`ec77bd9`)](https://app.codecov.io/gh/openfga/openfga/pull/1052?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1052      +/-   ##
==========================================
- Coverage   82.29%   82.25%   -0.03%     
==========================================
  Files          70       70              
  Lines        8184     8185       +1     
==========================================
- Hits         6734     6732       -2     
- Misses       1144     1146       +2     
- Partials      306      307       +1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1052?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1052?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.57% <100.00%> (+0.03%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1052/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1052?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1059,codecov[bot],2023-10-11 15:49:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1059?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`afe0b3d`)](https://app.codecov.io/gh/openfga/openfga/commit/afe0b3d4f9edb83c97bd83b19c41b69b703dc4d3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`de0cae1`)](https://app.codecov.io/gh/openfga/openfga/pull/1059?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.
> Report is 1 commits behind head on main.

> :exclamation: Current head de0cae1 differs from pull request most recent head 53f00fe. Consider uploading reports for the commit 53f00fe to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1059      +/-   ##
==========================================
- Coverage   82.38%   82.36%   -0.01%     
==========================================
  Files          70       70              
  Lines        8151     8154       +3     
==========================================
+ Hits         6714     6715       +1     
- Misses       1133     1135       +2     
  Partials      304      304              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1059?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1059?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | `90.77% <100.00%> (+0.05%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1059/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1059?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1052,jon-whit,2023-10-11 18:25:04,"> Hey @jon-whit,
> 
> I prepared PR to fix #894
> 
> I see unit tests and linter jobs run only after a maintainer approval. Can you help me to run them?

Yeah, no problem. Do you mind rebasing first please? Then I will approve them to run."
1055,jon-whit,2023-10-11 22:46:27,"> Instead of changing the `iterator` interfaces, why don't we update
> 
> https://github.com/openfga/openfga/blob/afe0b3d4f9edb83c97bd83b19c41b69b703dc4d3/pkg/storage/storagewrappers/context.go#L38-L62
> 
> so that they all do
> ```go
> if errors.Is(ctx.Err(), context.Canceled) {
>     return nil, ctx.Err()
> }
> queryCtx := queryContext(ctx)
> ```
> 
> ?

Because that's merely a point-in-time check before querying the database. Once the database has been queried the iterator returned from it can still yield results since it is not cancelled, and this can lead to more work being dispatched after the context has been cancelled. If we want to add a point-in-time check on context cancellation before the databse query we can consider doing so, but that would be _in addition to_ this work. Cancelling the ongoing iterator is critical to avoid potentially dispatching more work and continuing to consume results on an iterator created prior to cancellation."
1002,claraisrael,2023-10-12 14:20:49,"sorry for the late reply, it worked! Thanks for the support :)"
1060,adriantam,2023-10-12 15:09:41,Do we need to update https://github.com/openfga/openfga/blob/main/tools/go.mod ?
1060,codecov[bot],2023-10-12 15:20:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1060?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`afe0b3d`)](https://app.codecov.io/gh/openfga/openfga/commit/afe0b3d4f9edb83c97bd83b19c41b69b703dc4d3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`59253b4`)](https://app.codecov.io/gh/openfga/openfga/pull/1060?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1060      +/-   ##
==========================================
- Coverage   82.38%   82.35%   -0.02%     
==========================================
  Files          70       70              
  Lines        8151     8151              
==========================================
- Hits         6714     6712       -2     
- Misses       1133     1135       +2     
  Partials      304      304              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1060/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1060?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1052,ilaleksin,2023-10-12 19:30:39,"> Yeah, no problem. Do you mind rebasing first please? Then I will approve them to run.

Hey @jon-whit, I have rebased the branch.
Please take a look again "
1055,miparnisari,2023-10-12 20:07:57,Reminder: https://github.com/openfga/openfga/pull/1055#issuecomment-1756394082
922,miparnisari,2023-10-12 20:37:31,"Closing, this was released in 1.3.3"
1061,codecov[bot],2023-10-13 18:54:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `1 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`05a95df`)](https://app.codecov.io/gh/openfga/openfga/commit/05a95df8b04c854b1382e6aef6229e322d34df56?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`2e73f1c`)](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1061      +/-   ##
==========================================
- Coverage   82.46%   82.39%   -0.06%     
==========================================
  Files          70       70              
  Lines        8154     8162       +8     
==========================================
+ Hits         6723     6724       +1     
- Misses       1129     1134       +5     
- Partials      302      304       +2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `94.34% <100.00%> (+0.08%)` | :arrow_up: |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.54% <88.89%> (-0.28%)` | :arrow_down: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1061/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1061?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1062,codecov[bot],2023-10-14 02:45:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1062?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`3c52a99`)](https://app.codecov.io/gh/openfga/openfga/commit/3c52a9909cd51a3201db6055283a0900f795f140?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`cef24c6`)](https://app.codecov.io/gh/openfga/openfga/pull/1062?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1062      +/-   ##
==========================================
+ Coverage   82.39%   82.42%   +0.04%     
==========================================
  Files          70       70              
  Lines        8162     8162              
==========================================
+ Hits         6724     6727       +3     
+ Misses       1134     1132       -2     
+ Partials      304      303       -1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1062?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/server/config/config.go](https://app.codecov.io/gh/openfga/openfga/pull/1062?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvc2VydmVyL2NvbmZpZy9jb25maWcuZ28=) | `94.96% <ø> (ø)` | |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1062/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1062?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1063,codecov[bot],2023-10-16 19:00:12,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1063?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`0958e1d`)](https://app.codecov.io/gh/openfga/openfga/commit/0958e1dbef674d8cae96f3b66ee423c4c2d46af1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`560044d`)](https://app.codecov.io/gh/openfga/openfga/pull/1063?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1063   +/-   ##
=======================================
  Coverage   82.42%   82.42%           
=======================================
  Files          70       70           
  Lines        8162     8162           
=======================================
  Hits         6727     6727           
  Misses       1132     1132           
  Partials      303      303           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1063?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1064,codecov[bot],2023-10-17 06:20:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`631eae3`)](https://app.codecov.io/gh/openfga/openfga/commit/631eae329df163dbebe4ce3f86185f128e6ed1d1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.27% compared to head [(`4db22dd`)](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1064      +/-   ##
==========================================
+ Coverage   82.27%   82.37%   +0.11%     
==========================================
  Files          70       70              
  Lines        8185     8212      +27     
==========================================
+ Hits         6733     6764      +31     
+ Misses       1146     1142       -4     
  Partials      306      306              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `95.56% <100.00%> (+2.00%)` | :arrow_up: |
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `93.81% <92.69%> (-0.53%)` | :arrow_down: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1064/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1064?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1065,codecov[bot],2023-10-17 22:29:42,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1065?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified lines are covered by tests :white_check_mark:
> Comparison is base [(`8ce2da0`)](https://app.codecov.io/gh/openfga/openfga/commit/8ce2da0906ab7376f9b08eb9003e3675c595612b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`e70ef5b`)](https://app.codecov.io/gh/openfga/openfga/pull/1065?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1065   +/-   ##
=======================================
  Coverage   82.39%   82.39%           
=======================================
  Files          70       70           
  Lines        8162     8162           
=======================================
  Hits         6724     6724           
  Misses       1134     1134           
  Partials      304      304           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1065?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1058,miparnisari,2023-10-17 23:49:55,The fix was included in [v1.3.4](https://github.com/openfga/openfga/releases/tag/v1.3.4). Thanks for the report @padhikari-godaddy!
727,miparnisari,2023-10-18 00:02:10,"Hi @RichardAkman, sorry for not responding earlier, I just saw your comment. If you are still seeing `deadline exceeded` errors, can you please open a new issue? "
1066,codecov[bot],2023-10-18 05:16:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1066?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Project coverage is 86.07%. Comparing base [(`2713709`)](https://app.codecov.io/gh/openfga/openfga/commit/2713709fb0d90f4c4fd05d8e654a21a6c22847ce?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) to head [(`3c7111c`)](https://app.codecov.io/gh/openfga/openfga/pull/1066?dropdown=coverage&src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1066      +/-   ##
==========================================
+ Coverage   86.02%   86.07%   +0.05%     
==========================================
  Files          85       85              
  Lines        8046     8058      +12     
==========================================
+ Hits         6921     6935      +14     
+ Misses        793      791       -2     
  Partials      332      332              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1066?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1067,codecov[bot],2023-10-18 23:39:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1067?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`49f8326`)](https://app.codecov.io/gh/openfga/openfga/commit/49f83265274f2e6a994d6e208bfab080f52aae32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`580b568`)](https://app.codecov.io/gh/openfga/openfga/pull/1067?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1067      +/-   ##
==========================================
+ Coverage   82.29%   82.29%   +0.01%     
==========================================
  Files          70       70              
  Lines        8184     8185       +1     
==========================================
+ Hits         6734     6735       +1     
  Misses       1144     1144              
  Partials      306      306              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1067?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1067?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.57% <100.00%> (+0.03%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1067/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1067?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
803,robyte-ctrl,2023-10-19 13:44:48,"`+1`

my use case is a bit simpler: permission to create things (since there's no ID for things that weren't yet created)

here's the model
```
model
  schema 1.1

type user

type thing
  relations
    define admin: [user]
    define viewer: [user]

    define can_create: admin
```

here is what the tuple would look like
```
{ ""user"": ""user:john"", ""relation"": ""admin"", ""object"": ""thing:*"" }
```

here's some pseudocode for the check
```
check(
  user = ""user:john"", // check if the user `user:john`
  relation = ""can_create"", // has a `can_create` relation
  object = ""thing:*"", // with any object of type `thing` (or ""with the `thing` type"" also works as an explanation for me)
  authorization_id = ""some-authorization-model-id""
);

Reply: true
```

or have I perhaps missed an already existing solution for my use case?

---

btw, any plans to fully support one-line comments in the fga language?
the playground linter complains if I add comments anywhere outside of empty lines or if I use certain symbols in the comments, like `(`, `)` or backticks (same with the vscode extension, although it doesn't complain about `(` and `)` for some reason)"
803,aaguiarz,2023-10-19 13:51:24,"Hi @robyte-ctrl 

For that use case, in general you'd have another type that's higher in the hierarchy, e.g.

```
model
  schema 1.1

type user

type system
   relations
      define admin : [user]
      define can_create_thing : admin

type thing
  relations
    define system : [system]
    define viewer: [user]

    define can_create: admin from system
```

In B2B multi-tenant scenarios the `system` would be the `tenant` and you'll define tenant-level permissions there. In a single tenant scenario `system` would be the app itself.

Does this help?

About comments, the VS Code tool supports comments if they start at the beginning of the line. We'll improve that so they can start anywhere. We'll be soon using the same language engine for VS code and the Playground so they'll be more consistent.


"
803,robyte-ctrl,2023-10-19 14:35:19,"hi @aaguiarz,

yep, thanks, your example with the `system` works and with fewer tuples than other methods I've tried

although I would have to simplify it to the following (also added a few permissions so everything makes sense)
```
model
  schema 1.1

type user

type system
  relations
    define admin : [user]

    define can_create_thing : admin

type thing
  relations
    define admin: [user]
    define viewer: [user]
    
    define can_read: viewer or admin
    define can_update: admin
```
because I wouldn't be able to check if `user:john` has the `can_create` relation with a `thing` object before creating it since I would have to create that object to get an id for it (db generated ids ftw :smile:), so the only check that I can do is
```
check(
  user = ""user:john"",
  relation = ""can_create_thing"",
  object = ""system:some-hardcoded-system-id"",
  authorization_id = ""some-authorization-model-id""
);
```
"
803,aaguiarz,2023-10-19 15:32:59,"Yeah sorry, I made a mistake, `can_create` can only live in the `system` type.

The `admin` relationship might also need to be in the `system`, unless you plan to add an `admin` relationship for every `thing`. If you do that, you'd need to establish the system/thing relationship too.

"
1046,jon-whit,2023-10-19 16:17:49,"The GitHub token that goreleaser was using was missing repository pull request permissions on openfga/homebrew-tap. I have updated the permissions for that token to include pull-request permissions. 🤞 the next release goes smooth.

Related:
https://goreleaser.com/customization/homebrew/#versioned-formulas
https://goreleaser.com/errors/resource-not-accessible-by-integration/
<img width=""1288"" alt=""Screenshot 2023-10-19 at 10 18 39 AM"" src=""https://github.com/openfga/openfga/assets/2899204/52a5c4a1-7470-4b0d-acff-c121668e29b1"">
"
997,jon-whit,2023-10-19 16:21:12,Closing this for now until we want to revive.
709,jon-whit,2023-10-19 16:21:54,Closing this for now as it has become quite stale. When/if we want to revive we can revisit this closed body of work.
1067,miparnisari,2023-10-19 17:13:44,"```go
BenchmarkOpenFGAServer/BenchmarkPostgresDatastore/BenchmarkListObjects/oneResult         	panic: send on closed channel

goroutine 2000 [running]:
github.com/openfga/openfga/pkg/server/commands/reverseexpand.(*ReverseExpandQuery).trySendCandidate(0xc0008[56](https://github.com/openfga/openfga/actions/runs/6590111527/job/17906042453?pr=1067#step:4:57)000, {0x11c28b8, 0xc000916f00}, 0xc0001[58](https://github.com/openfga/openfga/actions/runs/6590111527/job/17906042453?pr=1067#step:4:59)160, {0xc0008f5200, 0xc}, 0xc000852120)
	/home/runner/work/openfga/openfga/pkg/server/commands/reverseexpand/reverse_expand.go:509 +0x697
github.com/openfga/openfga/pkg/server/commands/reverseexpand.(*ReverseExpandQuery).execute(0xc000856000, {0x11c28f0, 0xc00085a690}, 0xc000907620, 0xc000852120, 0xc000158160, 0xc000820018)
	/home/runner/work/openfga/openfga/pkg/server/commands/reverseexpand/reverse_expand.go:246 +0xde8
github.com/openfga/openfga/pkg/server/commands/reverseexpand.(*ReverseExpandQuery).reverseExpandDirect.func1()
	/home/runner/work/openfga/openfga/pkg/server/commands/reverseexpand/reverse_expand.go:482 +0x1b2
golang.org/x/sync/errgroup.(*Group).Go.func1()
	/home/runner/go/pkg/mod/golang.org/x/sync@v0.4.0/errgroup/errgroup.go:75 +0x56
created by golang.org/x/sync/errgroup.(*Group).Go in goroutine 1011
	/home/runner/go/pkg/mod/golang.org/x/sync@v0.4.0/errgroup/errgroup.go:72 +0x96
exit status 2
FAIL	github.com/openfga/openfga/pkg/server	22.726s
```

It's a regression on list objects that should be fixed by https://github.com/openfga/openfga/pull/1064"
997,miparnisari,2023-10-19 17:41:34,This PR is still relevant. If there's anything that you'd like me to postpone to a follow-up PR please let me know
1068,codecov[bot],2023-10-19 21:32:06,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1068?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`72ed8a4`)](https://app.codecov.io/gh/openfga/openfga/commit/72ed8a40224aec4b2c1e1d7f3d7811919cdc4091?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`1a453ed`)](https://app.codecov.io/gh/openfga/openfga/pull/1068?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1068   +/-   ##
=======================================
  Coverage   82.39%   82.39%           
=======================================
  Files          70       70           
  Lines        8162     8162           
=======================================
  Hits         6724     6724           
  Misses       1134     1134           
  Partials      304      304           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1068?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1069,codecov[bot],2023-10-20 00:20:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1069?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`72ed8a4`)](https://app.codecov.io/gh/openfga/openfga/commit/72ed8a40224aec4b2c1e1d7f3d7811919cdc4091?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`ece86ba`)](https://app.codecov.io/gh/openfga/openfga/pull/1069?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1069      +/-   ##
==========================================
+ Coverage   82.39%   82.42%   +0.04%     
==========================================
  Files          70       70              
  Lines        8162     8162              
==========================================
+ Hits         6724     6727       +3     
+ Misses       1134     1132       -2     
+ Partials      304      303       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1069/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1069?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1070,codecov[bot],2023-10-20 16:04:31,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1070?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`bc09c33`)](https://app.codecov.io/gh/openfga/openfga/commit/bc09c3367406dbadef646df11604edcabbc36408?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`9cde775`)](https://app.codecov.io/gh/openfga/openfga/pull/1070?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1070      +/-   ##
==========================================
+ Coverage   82.39%   82.42%   +0.04%     
==========================================
  Files          70       70              
  Lines        8162     8162              
==========================================
+ Hits         6724     6727       +3     
+ Misses       1134     1132       -2     
+ Partials      304      303       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1070/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1070?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1030,miparnisari,2023-10-20 17:45:13,"@jpadilla @jon-whit 

> @jpadilla - We will want to be very clear that there is an upgrade path that should strictly be followed to avoid problems. If developer teams don’t update to `v1.3.3` first and they jump from `v1.3.2` to `v1.3.4` then this will break them. `v1.3.4` should strictly come after the upgrade to `v1.3.3`.

I made a change in this PR https://github.com/openfga/openfga/pull/702/files#diff-d4415e74b94ab18e955f1b14cfd07a462889a57f9dcc3770a4ef549ee48e10e0 to avoid this. Basically the server doesn't boot unless you run the latest migration available. Maybe we should merge that (or a separate PR that only has that change) so that the migration is smooth :) "
1072,codecov[bot],2023-10-23 15:59:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1072?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2f7b9d2`)](https://app.codecov.io/gh/openfga/openfga/commit/2f7b9d222456e195627c02a87847acc4de08432b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.03% compared to head [(`c4ebb44`)](https://app.codecov.io/gh/openfga/openfga/pull/1072?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.40%.

> :exclamation: Current head c4ebb44 differs from pull request most recent head cca400d. Consider uploading reports for the commit cca400d to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1072      +/-   ##
==========================================
- Coverage   83.03%   82.40%   -0.63%     
==========================================
  Files          70       70              
  Lines        8190     8162      -28     
==========================================
- Hits         6800     6725      -75     
- Misses       1093     1134      +41     
- Partials      297      303       +6     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1072?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1071,codecov[bot],2023-10-23 17:20:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1071?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`657d767`)](https://app.codecov.io/gh/openfga/openfga/commit/657d76703f104a7eeb21b9d4e8522db5d9d7da36?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`e5dfc83`)](https://app.codecov.io/gh/openfga/openfga/pull/1071?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1071      +/-   ##
==========================================
- Coverage   82.46%   82.44%   -0.01%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
- Hits         6766     6765       -1     
  Misses       1137     1137              
- Partials      303      304       +1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1071?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1071?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | `69.46% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1071/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1071?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1073,codecov[bot],2023-10-23 17:47:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1073?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`49f8326`)](https://app.codecov.io/gh/openfga/openfga/commit/49f83265274f2e6a994d6e208bfab080f52aae32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`832f8cd`)](https://app.codecov.io/gh/openfga/openfga/pull/1073?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.27%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1073      +/-   ##
==========================================
- Coverage   82.29%   82.27%   -0.02%     
==========================================
  Files          70       70              
  Lines        8184     8185       +1     
==========================================
- Hits         6734     6733       -1     
- Misses       1144     1146       +2     
  Partials      306      306              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1073?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1073?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | `93.57% <100.00%> (+0.03%)` | :arrow_up: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1073/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1073?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1074,jon-whit,2023-10-23 19:05:12,@dependabot rebase
1075,jon-whit,2023-10-23 19:08:10,@dependabot rebase
1074,codecov[bot],2023-10-23 19:14:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1074?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`49f8326`)](https://app.codecov.io/gh/openfga/openfga/commit/49f83265274f2e6a994d6e208bfab080f52aae32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`a79c577`)](https://app.codecov.io/gh/openfga/openfga/pull/1074?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1074   +/-   ##
=======================================
  Coverage   82.29%   82.29%           
=======================================
  Files          70       70           
  Lines        8184     8184           
=======================================
  Hits         6734     6734           
  Misses       1144     1144           
  Partials      306      306           
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1074/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1074?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1075,codecov[bot],2023-10-23 19:23:59,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1075?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`56ea59e`)](https://app.codecov.io/gh/openfga/openfga/commit/56ea59e9abc568f2cc5c6a6cfd8451fb87daca9c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`688b154`)](https://app.codecov.io/gh/openfga/openfga/pull/1075?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1075   +/-   ##
=======================================
  Coverage   82.29%   82.29%           
=======================================
  Files          70       70           
  Lines        8185     8185           
=======================================
  Hits         6735     6735           
  Misses       1144     1144           
  Partials      306      306           
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1075/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1075?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1074,rhamzeh,2023-10-23 19:38:36,@dependabot rebase
1074,dependabot[bot],2023-10-23 19:40:57,"Looks like these dependencies are updatable in another way, so this is no longer needed."
1077,codecov[bot],2023-10-23 20:02:20,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1077?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`bde6a1a`)](https://app.codecov.io/gh/openfga/openfga/commit/bde6a1adc6a053ea0a1a7881f9f5854211fadbf5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`4eee907`)](https://app.codecov.io/gh/openfga/openfga/pull/1077?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1077      +/-   ##
==========================================
+ Coverage   82.23%   82.25%   +0.03%     
==========================================
  Files          70       70              
  Lines        8185     8185              
==========================================
+ Hits         6730     6732       +2     
+ Misses       1148     1146       -2     
  Partials      307      307              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1077/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1077?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
942,jon-whit,2023-10-23 20:18:33,"@KlausVii did the check query cache that we released in `v1.3.1` help? If so, can we close? If not, I'd like to understand the behavior better so we can best assist. Are you still seeing the issue with `v1.3.1` and the check query cache enabled?"
727,jon-whit,2023-10-23 20:24:01,"> For the record, I am also experiencing ""context deadline exceeded"" in false checks with a similar model, but with far fewer tuples. 9 tuples, to be precise.

@mpereira-ae can you still produce on the latest release of OpenFGA (`v1.3.3`)? If so, do you mind providing a reproducible example for us to test?

* What version of OpenFGA?
* What settings were provided to OpenFGA?
    * Database connection settings?
    * Max concurrent reads for Check?
    * Resolve node breadth limit?
* Model, tuples, and Check queries being called?"
1075,jon-whit,2023-10-23 20:58:09,@dependabot rebase
894,adriantam,2023-10-24 17:50:18,Close via https://github.com/openfga/openfga/pull/1052
1075,jon-whit,2023-10-24 17:53:10,@dependabot rebase
1075,dependabot[bot],2023-10-24 17:53:13,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`.
"
1075,jon-whit,2023-10-24 17:54:38,@dependabot recreate
1077,jon-whit,2023-10-24 17:55:26,@dependabot rebase
1078,miparnisari,2023-10-24 19:33:51,"Hi @collisj1996, thanks for the report. I was able to reproduce locally. What's interesting is that we have tests for a similar scenario [here](https://github.com/openfga/openfga/blob/56ea59e9abc568f2cc5c6a6cfd8451fb87daca9c/pkg/server/test/read_changes.go#L72) but these are passing. We need to dig deeper to find if there are any differences between the test and the data you provided. Maybe the test is incorrect 🤔 

From the little investigation I did, when fetching from the `changelog` table:

`SELECT * FROM changelog WHERE store = '01HDH8NMN0TCRRQR0VMDRD4VV2' order by inserted_at`

returns 

```
01HDH8NMN0TCRRQR0VMDRD4VV2,file,file_one,owner,user:user_one,0,01HDH8VBB0FXS351VSNSW7XH2X,2023-10-24 16:38:54.049097+00
01HDH8NMN0TCRRQR0VMDRD4VV2,file,file_two,owner,user:user_one,0,01HDH8VBB0FXS351VSNT0VZDHM,2023-10-24 16:38:54.049097+00
... (3 more tuples)
```

but `SELECT * FROM changelog WHERE store = '01HDH8NMN0TCRRQR0VMDRD4VV2' order by inserted_at limit 2`

returns

```
01HDH8NMN0TCRRQR0VMDRD4VV2,file,file_two,owner,user:user_one,0,01HDH8VBB0FXS351VSNT0VZDHM,2023-10-24 16:38:54.049097+00
01HDH8NMN0TCRRQR0VMDRD4VV2,file,file_one,owner,user:user_one,0,01HDH8VBB0FXS351VSNSW7XH2X,2023-10-24 16:38:54.049097+00
```

notice how in the second query, the order of the tuples was inverted."
999,jon-whit,2023-10-24 20:08:18,"I'm wondering if we should normalize `context: null` and `context: {}`. WDYT? For example,
```
Write({
    ""writes"": {
        ""tuple_keys"": [
            {
                ""object"": ""document:1"",
                ""relation"": ""viewer"",
                ""user"": ""user:jon"",
                ""condition"": {
                    ""name"":""condition1""
                }
            },
            {
                ""object"": ""document:2"",
                ""relation"": ""viewer"", 
                ""user"": ""user:jon"",
                ""condition"": {
                    ""name"": ""condition1"",
                    ""context"": {}
                }
            }
         ]
     }
})
```

`Read(objectType=""document"")` currently returns
```
{
    ""tuples"": [
        {
            ""key"": {
                ""user"": ""user:jon"",
                ""relation"": ""viewer"",
                ""object"": ""document:2"",
                ""condition"": {
                    ""name"": ""condition1"",
                    ""context"": {}
                }
            },
            ""timestamp"": ""2023-10-24T20:01:55.752449Z""
        },
        {
            ""key"": {
                ""user"": ""user:jon"",
                ""relation"": ""viewer"",
                ""object"": ""document:1"",
                ""condition"": {
                    ""name"": ""condition1"",
                    ""context"": null
                }
            },
            ""timestamp"": ""2023-10-24T20:02:14.285924Z""
        }
    ],
    ""continuation_token"": """"
}
```
but I wonder if we should normalize `null` and return
```
{
    ""tuples"": [
        {
            ""key"": {
                ""user"": ""user:jon"",
                ""relation"": ""viewer"",
                ""object"": ""document:2"",
                ""condition"": {
                    ""name"": ""condition1"",
                    ""context"": {}
                }
            },
            ""timestamp"": ""2023-10-24T20:01:55.752449Z""
        },
        {
            ""key"": {
                ""user"": ""user:jon"",
                ""relation"": ""viewer"",
                ""object"": ""document:1"",
                ""condition"": {
                    ""name"": ""condition1"",
                    ""context"": {}
                }
            },
            ""timestamp"": ""2023-10-24T20:02:14.285924Z""
        }
    ],
    ""continuation_token"": """"
}
```
So `null` context and empty context `{}` are treated identically. If you're evaluating a condition and the context is null, then you have to treat it as an empty context anyways, so I feel the normalization is warranted."
1075,jon-whit,2023-10-24 20:08:58,@dependabot rebase
999,jpadilla,2023-10-24 20:22:55,"> I'm wondering if we should normalize `context: null` and `context: {}`. WDYT? For example,
> 
> ```
> Write({
>     ""writes"": {
>         ""tuple_keys"": [
>             {
>                 ""object"": ""document:1"",
>                 ""relation"": ""viewer"",
>                 ""user"": ""user:jon"",
>                 ""condition"": {
>                     ""name"":""condition1""
>                 }
>             },
>             {
>                 ""object"": ""document:2"",
>                 ""relation"": ""viewer"", 
>                 ""user"": ""user:jon"",
>                 ""condition"": {
>                     ""name"": ""condition1"",
>                     ""context"": {}
>                 }
>             }
>          ]
>      }
> })
> ```
> 
> `Read(objectType=""document"")` currently returns
> 
> ```
> {
>     ""tuples"": [
>         {
>             ""key"": {
>                 ""user"": ""user:jon"",
>                 ""relation"": ""viewer"",
>                 ""object"": ""document:2"",
>                 ""condition"": {
>                     ""name"": ""condition1"",
>                     ""context"": {}
>                 }
>             },
>             ""timestamp"": ""2023-10-24T20:01:55.752449Z""
>         },
>         {
>             ""key"": {
>                 ""user"": ""user:jon"",
>                 ""relation"": ""viewer"",
>                 ""object"": ""document:1"",
>                 ""condition"": {
>                     ""name"": ""condition1"",
>                     ""context"": null
>                 }
>             },
>             ""timestamp"": ""2023-10-24T20:02:14.285924Z""
>         }
>     ],
>     ""continuation_token"": """"
> }
> ```
> 
> but I wonder if we should normalize `null` and return
> 
> ```
> {
>     ""tuples"": [
>         {
>             ""key"": {
>                 ""user"": ""user:jon"",
>                 ""relation"": ""viewer"",
>                 ""object"": ""document:2"",
>                 ""condition"": {
>                     ""name"": ""condition1"",
>                     ""context"": {}
>                 }
>             },
>             ""timestamp"": ""2023-10-24T20:01:55.752449Z""
>         },
>         {
>             ""key"": {
>                 ""user"": ""user:jon"",
>                 ""relation"": ""viewer"",
>                 ""object"": ""document:1"",
>                 ""condition"": {
>                     ""name"": ""condition1"",
>                     ""context"": {}
>                 }
>             },
>             ""timestamp"": ""2023-10-24T20:02:14.285924Z""
>         }
>     ],
>     ""continuation_token"": """"
> }
> ```
> 
> So `null` context and empty context `{}` are treated identically. If you're evaluating a condition and the context is null, then you have to treat it as an empty context anyways, so I feel the normalization is warranted.

@jon-whit Yep I think that's fair. Should our storage layer normalize `{}` to `NULL` though?"
999,jon-whit,2023-10-24 20:31:02,"> > ...
> Yep I think that's fair. Should our storage layer normalize `{}` to `NULL` though?

@jpadilla NULL is more efficient to store than `{}`, so if we care more about efficiency then I would say yes. If we care more about simplicity then I would say that we just write the context through directly as provided (if provided and it is empty). If context is omitted (e.g. nil) then we can choose to write `NULL` to save on efficiency. I feel comfortable with either one, but it may be safer to avoid working will NULL types on the off chance that we mishandle them. Working with empty context is safer than a potentially nillable value.
"
948,jon-whit,2023-10-24 20:37:10,Closing for now as this has become quite stale. We can revisit it at a later time.
1039,ilaleksin,2023-10-24 21:34:14,"Hey @jpadilla, I would be happy to contribute to this enhancement.

May I work on it?"
1078,collisj1996,2023-10-24 21:37:42,"I'm not sure how your internal pagination works, I'm not overly familiar with this codebase, however, I did notice in this example you're only ordering by `inserted_at`, but because they were added transactionally they have the same timestamp;

to have predictable ordering should we not order by timestamp first and then the tuple itself `(file:file_one,owner,user:user_one)`

EDIT: I also wonder if this could be a Postgres collation issue"
1078,miparnisari,2023-10-25 00:05:45,"> I did notice in this example you're only ordering by inserted_at, but because they were added transactionally they have the same timestamp;

I forget why we did it like this (or if we even discussed it). Like you said, `inserted_at` is not guaranteed to be unique. This seems to be similar to https://stackoverflow.com/questions/19304579/postgresql-limit-order-returning-inconsistent-results

I think we should we shorting the changes by `ulid`.

>  I also wonder if this could be a Postgres collation issue

We aren't specifying the collation anywhere, so it must be using the defaults."
1079,codecov[bot],2023-10-25 00:16:25,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2283740`)](https://app.codecov.io/gh/openfga/openfga/commit/2283740aae4984cc9223e9474ada69a04f2f6a8b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44% compared to head [(`5822d13`)](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.55%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1079      +/-   ##
==========================================
+ Coverage   82.44%   82.55%   +0.11%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6765     6774       +9     
+ Misses       1137     1131       -6     
+ Partials      304      301       -3     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `79.74% <100.00%> (+0.57%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.19% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1079/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1079?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
942,KlausVii,2023-10-25 12:49:42,@jon-whit I have not had a chance to return to this for a while. I'll try and find some time in the near future.
338,naveengovindarajan,2023-10-25 19:36:01,"> Hi @apexskier - the playground will only work with `localhost:3000`. It will not load on any custom hostname or alternate port. We enforce that through the CSP.

Is there any way to overcome this? I also expose OpenFGA playground via a custom hostname. I do not have access to the localhost as it is deployed in Azure App service."
338,aaguiarz,2023-10-25 20:51:40,"Hi @naveengovindarajan 

There's no way to overcome it currently. However, we found that using the FGA CLI + the VS Code Editor can give a pretty a good experience that's comparable to the Playground:

- https://github.com/openfga/cli#run-tests-on-an-authorization-model
- https://marketplace.visualstudio.com/items?itemName=openfga.openfga-vscode

You can edit the model in VS Code, create a .fga.yaml file with tuples + assertions if needed, and run them with the CLI.



"
1079,jon-whit,2023-10-25 22:38:06,"I'm going to try and see if I can come up with a test(s).

In theory we should be able to produce as a test case that demonstrates this by writing a bunch of changelog records under the same `created_at` timestamp and show the ordering is inconsistent and that this PR fixes it."
1079,jon-whit,2023-10-25 23:23:02,"@miparnisari please add a test like the following:
https://gist.github.com/jon-whit/bed86b6e46a2ea16128505c17ff56d2d

This produces the problem without the change and demonstrates the fix with the change.
"
1081,codecov[bot],2023-10-25 23:27:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1081?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`1a846a4`)](https://app.codecov.io/gh/openfga/openfga/commit/1a846a4710fea8d87bb10a1dbee17b7194d3f23b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.59% compared to head [(`e55e8bd`)](https://app.codecov.io/gh/openfga/openfga/pull/1081?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.88%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1081      +/-   ##
==========================================
+ Coverage   82.59%   82.88%   +0.29%     
==========================================
  Files          70       70              
  Lines        8177     8175       -2     
==========================================
+ Hits         6753     6775      +22     
+ Misses       1120     1102      -18     
+ Partials      304      298       -6     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1081?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/server/commands/read\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/1081?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkX2Fzc2VydGlvbnMuZ28=) | `100.00% <ø> (+31.25%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1081/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1081?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1083,codecov[bot],2023-10-26 20:28:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1083?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`16c526a`)](https://app.codecov.io/gh/openfga/openfga/commit/16c526ac5af15d7bb38a4efe5af2b401c1118921?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44% compared to head [(`0147f3e`)](https://app.codecov.io/gh/openfga/openfga/pull/1083?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.49%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1083      +/-   ##
==========================================
+ Coverage   82.44%   82.49%   +0.05%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6765     6769       +4     
+ Misses       1137     1135       -2     
+ Partials      304      302       -2     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1083/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1083?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1084,codecov[bot],2023-10-26 20:48:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1084?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c785182`)](https://app.codecov.io/gh/openfga/openfga/commit/c7851825e9824dfd380ebe9c51c9976651d62d1f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48% compared to head [(`5da9f1d`)](https://app.codecov.io/gh/openfga/openfga/pull/1084?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1084      +/-   ##
==========================================
- Coverage   82.48%   82.44%   -0.03%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
- Hits         6768     6765       -3     
- Misses       1135     1138       +3     
  Partials      303      303              
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1084/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1084?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
954,miparnisari,2023-10-26 21:36:45,This was done in https://github.com/openfga/openfga/pull/1064
930,miparnisari,2023-10-26 21:54:55,@gabrielbussolo would you be OK if I take over this PR? We need it for an upcoming feature :) 
1044,miparnisari,2023-10-26 21:58:25,@jcbertolucci this was released as part of 1.3.5. Thanks for the report! 
1078,miparnisari,2023-10-26 21:59:17,Fixed in 1.3.5. Thanks @collisj1996 for the report!
954,miparnisari,2023-10-26 21:59:38,Fixed in 1.3.5
1018,aaguiarz,2023-10-26 22:40:30,"When using dictionaries as parameters, if we reference an non existing key, we return an internal server error:

```
model: |
  model
    schema 1.1

  type user

  type document
    relations
      define can_access: [user with condition1] 

  condition condition1(document_attributes: map<string>){
    document_attributes[""status""] == ""draft"" 
  }

tuples:
  - user: ""user:bob""
    relation: ""can_access""
    object: ""document:1""

tests:
  - check:
    - user: ""user:bob""
      object: ""document:1""
      context: 
        document_attributes :
          status1: ""draft""
      assertions:
        can_access: true

```

It would be great if we can return an error saying that the ""status"" key is not present."
1044,jcbertolucci,2023-10-26 23:03:58,"@miparnisari all good! You guys are the rockstars here.

Thank you for the quick turnaround ♥️ "
1086,codecov[bot],2023-10-27 00:23:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1086?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`fed28ea`)](https://app.codecov.io/gh/openfga/openfga/commit/fed28ea52eb0277f8bafb072a5aa46198e6345a0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.40% compared to head [(`0b4013b`)](https://app.codecov.io/gh/openfga/openfga/pull/1086?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.44%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1086      +/-   ##
==========================================
+ Coverage   82.40%   82.44%   +0.05%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6761     6765       +4     
+ Misses       1140     1137       -3     
+ Partials      305      304       -1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1086/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1086?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1087,codecov[bot],2023-10-27 00:33:10,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1087?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f061db0`)](https://app.codecov.io/gh/openfga/openfga/commit/f061db0c8cb8e03c0f8c634f9af7b31f4d74a3c1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.40% compared to head [(`76b9a4f`)](https://app.codecov.io/gh/openfga/openfga/pull/1087?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1087      +/-   ##
==========================================
+ Coverage   82.40%   82.43%   +0.04%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6761     6764       +3     
+ Misses       1140     1138       -2     
+ Partials      305      304       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1087/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1087?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1071,Siddhant-K-code,2023-10-27 04:46:43,"> Remove this line too please
> 
> https://github.com/openfga/openfga/blob/3b3e86d7887d53bb2db128c4d2bf2733563d108d/pkg/server/server.go#L48

@miparnisari, I've removed this in 82e370f6fd7d0a7ad56a337f4208dd4bb78f2e6b

---

I've left things like this (for possible reuse in future experimental feature flags): 

https://github.com/openfga/openfga/blob/a34f909153d67f88725b587c01baec9f5f96cffa/pkg/server/server.go#L93

https://github.com/openfga/openfga/blob/a34f909153d67f88725b587c01baec9f5f96cffa/pkg/server/server.go#L198

https://github.com/openfga/openfga/blob/a34f909153d67f88725b587c01baec9f5f96cffa/pkg/server/server.go#L261
"
1015,rhamzeh,2023-10-27 13:10:29,"> `docker-compose up --build` to trigger a fresh build every time (otherwise, first `docker-compose up` triggers a build but subsequent ones do not

This is how docker compose works unfortunately, there is nothing we can do about that. By default it uses the cached build unless you trigger a rebuild."
1089,codecov[bot],2023-10-27 14:47:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1089?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`9230ef3`)](https://app.codecov.io/gh/openfga/openfga/commit/9230ef374dd33d702e8a19e398e5368372907e32?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.33% compared to head [(`e67b00b`)](https://app.codecov.io/gh/openfga/openfga/pull/1089?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1089      +/-   ##
==========================================
+ Coverage   82.33%   82.48%   +0.15%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6756     6768      +12     
+ Misses       1144     1135       -9     
+ Partials      306      303       -3     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1089/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1089?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1088,codecov[bot],2023-10-27 16:29:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`c7458dc`)](https://app.codecov.io/gh/openfga/openfga/commit/c7458dce9162db9d52e13a32ef5df62535def1a7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.82% compared to head [(`25720e6`)](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.16%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1088      +/-   ##
==========================================
+ Coverage   82.82%   83.16%   +0.34%     
==========================================
  Files          70       70              
  Lines        8166     8179      +13     
==========================================
+ Hits         6763     6801      +38     
+ Misses       1104     1085      -19     
+ Partials      299      293       -6     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `73.30% <66.67%> (+0.59%)` | :arrow_up: |
| [pkg/storage/mysql/mysql.go](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbXlzcWwuZ28=) | `79.59% <85.72%> (+0.43%)` | :arrow_up: |
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `79.20% <85.72%> (+1.02%)` | :arrow_up: |

... and [5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1088/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1088?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1088,miparnisari,2023-10-27 17:57:53,"> What is the problem in https://github.com/openfga/openfga/issues/1076?

It works but we don't have proper tests for it 
<img width=""1172"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/8b18eb21-9d82-4989-8056-cb1fe7112af1"">

I wouldn't want to introduce a regression in the publishing of metrics because it'd lead to a gap of valuable data.

> It's not clear what the objective is with this PR? 

Increase code coverage, guards against regressions

> The reason I ask is that I strongly discourage us from explicitly passing around collectors unless we have a very strong reason to not use default collector registration.

We use the default collector registration. But for the tests I needed to properly de-register once done using them because otherwise i would get ""attempt to register duplicate collector"""
1091,codecov[bot],2023-10-27 18:48:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1091?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`315d0d5`)](https://app.codecov.io/gh/openfga/openfga/commit/315d0d53a701f39817e99f1eb1778879577f671b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.49% compared to head [(`52418b3`)](https://app.codecov.io/gh/openfga/openfga/pull/1091?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1091      +/-   ##
==========================================
- Coverage   82.49%   82.48%   -0.01%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
- Hits         6769     6768       -1     
  Misses       1135     1135              
- Partials      302      303       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1091/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1091?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1085,codecov[bot],2023-10-27 19:10:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f211089`)](https://app.codecov.io/gh/openfga/openfga/commit/f211089a2e40c90ad7342b4e11f6f27bc36a22cc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`5d64904`)](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.86%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1085      +/-   ##
=============================================
- Coverage      81.98%   81.86%   -0.12%     
=============================================
  Files             82       82              
  Lines           9021     9016       -5     
=============================================
- Hits            7395     7380      -15     
- Misses          1281     1289       +8     
- Partials         345      347       +2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/graph/graph.go](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvZ3JhcGguZ28=) | `82.75% <100.00%> (ø)` | |
| [pkg/testutils/testutils.go](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3Rlc3R1dGlscy90ZXN0dXRpbHMuZ28=) | `88.00% <ø> (+4.67%)` | :arrow_up: |

... and [7 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1085/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1085?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1024,miparnisari,2023-10-27 19:10:48,"> I tried to write tests but it proved to be more complicated than I expected so this PR is without tests.

~~I am hesitant to merge without unit tests or integration tests because it will be hard for me to notice if this feature breaks~~

Changed my mind... If it works as expected when tested manually, then I think i'm good"
1092,codecov[bot],2023-10-27 20:44:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1092?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f911df2`)](https://app.codecov.io/gh/openfga/openfga/commit/f911df2cdddd05d3284ebde8821a72dd1e257db8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.40% compared to head [(`232302b`)](https://app.codecov.io/gh/openfga/openfga/pull/1092?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1092      +/-   ##
==========================================
+ Coverage   82.40%   82.46%   +0.07%     
==========================================
  Files          70       70              
  Lines        8206     8206              
==========================================
+ Hits         6761     6766       +5     
+ Misses       1140     1137       -3     
+ Partials      305      303       -2     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1092/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1092?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1093,codecov[bot],2023-10-27 22:40:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`a3e1e12`)](https://app.codecov.io/gh/openfga/openfga/commit/a3e1e12864a2f5c7834bacb01c152f27f7d639e6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.41% compared to head [(`544149a`)](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.70%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1093      +/-   ##
==========================================
+ Coverage   82.41%   82.70%   +0.30%     
==========================================
  Files          70       70              
  Lines        8206     8177      -29     
==========================================
  Hits         6762     6762              
+ Misses       1140     1113      -27     
+ Partials      304      302       -2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [internal/validation/validation.go](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmdv) | `90.40% <ø> (ø)` | |
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | `97.57% <ø> (+11.11%)` | :arrow_up: |
| [pkg/server/errors/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `67.19% <ø> (+7.47%)` | :arrow_up: |
| [pkg/tuple/tuple\_errors.go](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlX2Vycm9ycy5nbw==) | `52.64% <ø> (+14.18%)` | :arrow_up: |

... and [5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1093/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1093?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1082,jon-whit,2023-10-30 16:12:56,@adriantam sorry but it's not clear what the idea is here. Could you elaborate? Are you suggesting that if the datastore query count is above a particular threshold then we apply a different concurrency setting for any subsequent sub-evaluations?
1094,jon-whit,2023-10-31 04:31:19,@dependabot rebase
1095,codecov[bot],2023-10-31 04:59:59,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1095?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4d83c8c`)](https://app.codecov.io/gh/openfga/openfga/commit/4d83c8c566a6bee4457ed3203f24736538ae32e2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.84% compared to head [(`eaba45d`)](https://app.codecov.io/gh/openfga/openfga/pull/1095?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.78%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1095      +/-   ##
==========================================
- Coverage   82.84%   82.78%   -0.06%     
==========================================
  Files          70       70              
  Lines        8175     8175              
==========================================
- Hits         6772     6767       -5     
- Misses       1104     1108       +4     
- Partials      299      300       +1     
```


[see 2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1095/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1095?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1039,miparnisari,2023-11-01 00:24:15,@ilaleksin sure!
1096,codecov[bot],2023-11-01 01:34:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `2 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`691f306`)](https://app.codecov.io/gh/openfga/openfga/commit/691f30695c8c4c2534fdd4b14ef8f9e3f67a9f5d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.88% compared to head [(`025dcd8`)](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.90%.
> Report is 1 commits behind head on feat/abac.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1096      +/-   ##
=============================================
+ Coverage      81.88%   81.90%   +0.03%     
=============================================
  Files             82       82              
  Lines           9016     9032      +16     
=============================================
+ Hits            7382     7397      +15     
- Misses          1287     1288       +1     
  Partials         347      347              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/eval/eval.go](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9ldmFsL2V2YWwuZ28=) | `85.72% <100.00%> (+4.47%)` | :arrow_up: |
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | `82.92% <100.00%> (+0.06%)` | :arrow_up: |
| [pkg/tuple/tuple.go](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R1cGxlL3R1cGxlLmdv) | `98.66% <75.00%> (-1.34%)` | :arrow_down: |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1096/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1096?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1096,jon-whit,2023-11-01 13:50:30,"We haven't agreed on this change of behavior yet.

My opinion - we're likely going to be changing our response structure in a way that accommodates exposing more information to the developer about why a Check failed. In the case of ABAC Conditions, we may have one or more paths of eval that are conditional evaluation paths (e.g. dependent upon an ABAC Condition being evaluated) and if at least one path cannot be evaluated due to missing context, then we will want to surface that the outcome as a ""conditional"" outcome and expose information about which paths were non-evaluable and why (e.g. what were the missing parameters and the expression governing the relationship).

With this ☝️ , it's unlikely we'll ever be surfacing an error because of missing context. IMO the only time we should be surfacing an error explicitly for ABAC Condition evaluation is a) if the expression itself somehow fails to compile or b) the expression eval somehow produces a transient error and/or does not explicitly produce a boolean output. Both a) and b) are validated at the time of WriteAuthorizationModel, so its highly unlikely they will occur, but it is possible corrupt data gets in with a bug in the validation code. Otherwise, if a) or b) are _not_ the case, then I believe that we should be skipping over it for now, and in the very near future handling it with partial evaluation semantics by consuming the missing parameter information and surfacing it to the developer in a structured way if no other evaluation paths are evaluable."
1097,codecov[bot],2023-11-01 17:04:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1097?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`9d49a09`)](https://app.codecov.io/gh/openfga/openfga/commit/9d49a093ccb22d25db59de3f9732c3a36ac7b72c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.94% compared to head [(`457036d`)](https://app.codecov.io/gh/openfga/openfga/pull/1097?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.89%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1097      +/-   ##
=============================================
- Coverage      81.94%   81.89%   -0.04%     
=============================================
  Files             82       82              
  Lines           9016     9016              
=============================================
- Hits            7387     7383       -4     
- Misses          1284     1287       +3     
- Partials         345      346       +1     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1097/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1097?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1098,codecov[bot],2023-11-01 17:08:57,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1098?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`17c7f7b`)](https://app.codecov.io/gh/openfga/openfga/commit/17c7f7bde7224482dca9355e5d473f24ba557696?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.78% compared to head [(`29135e3`)](https://app.codecov.io/gh/openfga/openfga/pull/1098?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.
> Report is 88 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1098      +/-   ##
==========================================
+ Coverage   82.78%   82.79%   +0.01%     
==========================================
  Files          70       70              
  Lines        8175     8177       +2     
==========================================
+ Hits         6767     6769       +2     
  Misses       1108     1108              
  Partials      300      300              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1098?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1099,codecov[bot],2023-11-01 17:11:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `36 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`c74a6a2`)](https://app.codecov.io/gh/openfga/openfga/commit/c74a6a2d04de9986b7db2c186b3c114d5ae4f577?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.46% compared to head [(`337311b`)](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.31%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1099      +/-   ##
=============================================
- Coverage      81.46%   81.31%   -0.14%     
=============================================
  Files             82       82              
  Lines           9054     9111      +57     
=============================================
+ Hits            7375     7408      +33     
- Misses          1323     1347      +24     
  Partials         356      356              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/types/generic.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy9nZW5lcmljLmdv) | `100.00% <100.00%> (ø)` | |
| [pkg/condition/types/types.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy90eXBlcy5nbw==) | `68.86% <100.00%> (ø)` | |
| [pkg/condition/eval/eval.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9ldmFsL2V2YWwuZ28=) | `87.50% <80.00%> (+1.79%)` | :arrow_up: |
| [pkg/server/errors/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9lcnJvcnMvZXJyb3JzLmdv) | `58.21% <33.34%> (-1.16%)` | :arrow_down: |
| [pkg/condition/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9lcnJvcnMuZ28=) | `50.00% <55.56%> (ø)` | |
| [pkg/condition/types/converters.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy9jb252ZXJ0ZXJzLmdv) | `71.61% <58.34%> (ø)` | |
| [pkg/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9jb25kaXRpb24uZ28=) | `78.83% <59.33%> (-7.00%)` | :arrow_down: |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1099?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1100,codecov[bot],2023-11-01 19:17:20,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1100?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`759dd1b`)](https://app.codecov.io/gh/openfga/openfga/commit/759dd1bc0d948d24c40af047a41fcb76110f2be4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.98% compared to head [(`a117361`)](https://app.codecov.io/gh/openfga/openfga/pull/1100?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.45%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1100      +/-   ##
=============================================
- Coverage      81.98%   81.45%   -0.53%     
=============================================
  Files             82       82              
  Lines           9038     9038              
=============================================
- Hits            7409     7361      -48     
- Misses          1283     1322      +39     
- Partials         346      355       +9     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1100/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1100?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1103,codecov[bot],2023-11-01 22:04:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1103?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`17c7f7b`)](https://app.codecov.io/gh/openfga/openfga/commit/17c7f7bde7224482dca9355e5d473f24ba557696?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.78% compared to head [(`547d3ac`)](https://app.codecov.io/gh/openfga/openfga/pull/1103?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.89%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1103      +/-   ##
==========================================
+ Coverage   82.78%   82.89%   +0.12%     
==========================================
  Files          70       70              
  Lines        8175     8175              
==========================================
+ Hits         6767     6776       +9     
+ Misses       1108     1101       -7     
+ Partials      300      298       -2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1103/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1103?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1101,codecov[bot],2023-11-01 22:07:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`691f306`)](https://app.codecov.io/gh/openfga/openfga/commit/691f30695c8c4c2534fdd4b14ef8f9e3f67a9f5d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.88% compared to head [(`3cb4fed`)](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.99%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1101      +/-   ##
=============================================
+ Coverage      81.88%   81.99%   +0.12%     
=============================================
  Files             82       82              
  Lines           9016     9038      +22     
=============================================
+ Hits            7382     7410      +28     
+ Misses          1287     1283       -4     
+ Partials         347      345       -2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9jb25kaXRpb24uZ28=) | `85.83% <100.00%> (+2.63%)` | :arrow_up: |
| [pkg/condition/types/ipaddress.go](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi90eXBlcy9pcGFkZHJlc3MuZ28=) | `58.21% <85.00%> (+15.66%)` | :arrow_up: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1101/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1101?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1106,codecov[bot],2023-11-02 02:40:24,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1106?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`54d62eb`)](https://app.codecov.io/gh/openfga/openfga/commit/54d62eb9a5e23a4183675478ca9ca426cbb24b61?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.93% compared to head [(`f4f9fba`)](https://app.codecov.io/gh/openfga/openfga/pull/1106?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1106      +/-   ##
==========================================
- Coverage   82.93%   82.87%   -0.05%     
==========================================
  Files          70       70              
  Lines        8175     8166       -9     
==========================================
- Hits         6779     6767      -12     
- Misses       1099     1102       +3     
  Partials      297      297              
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1106?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1106?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `92.73% <ø> (-0.48%)` | :arrow_down: |

... and [6 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1106/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1106?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1107,codecov[bot],2023-11-02 03:42:25,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1107?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`612a036`)](https://app.codecov.io/gh/openfga/openfga/commit/612a03663a2a04f336beb941cf3275befca99cdb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.39% compared to head [(`eebbfb4`)](https://app.codecov.io/gh/openfga/openfga/pull/1107?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.39%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##           feat/abac    #1107   +/-   ##
==========================================
  Coverage      81.39%   81.39%           
==========================================
  Files             82       82           
  Lines           9102     9102           
==========================================
  Hits            7408     7408           
  Misses          1340     1340           
  Partials         354      354           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1107?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1082,adriantam,2023-11-02 18:53:47,"Yes, this is what I am suggesting - we may need to explore how to protect server from very heavy request.  "
1108,codecov[bot],2023-11-02 21:43:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1108?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@ce2373c`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).

<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1108   +/-   ##
============================================
  Coverage             ?   80.91%           
============================================
  Files                ?       83           
  Lines                ?     9205           
  Branches             ?        0           
============================================
  Hits                 ?     7447           
  Misses               ?     1391           
  Partials             ?      367           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1108?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1109,codecov[bot],2023-11-03 02:32:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1109?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`612a036`)](https://app.codecov.io/gh/openfga/openfga/commit/612a03663a2a04f336beb941cf3275befca99cdb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.39% compared to head [(`cfce9d8`)](https://app.codecov.io/gh/openfga/openfga/pull/1109?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.32%.

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1109      +/-   ##
=============================================
- Coverage      81.39%   81.32%   -0.07%     
=============================================
  Files             82       82              
  Lines           9102     9105       +3     
=============================================
- Hits            7408     7404       -4     
- Misses          1340     1345       +5     
- Partials         354      356       +2     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1109?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/condition/errors.go](https://app.codecov.io/gh/openfga/openfga/pull/1109?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL2NvbmRpdGlvbi9lcnJvcnMuZ28=) | `73.34% <100.00%> (+23.34%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1109/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1109?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1110,codecov[bot],2023-11-03 03:22:23,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1110?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`a364075`)](https://app.codecov.io/gh/openfga/openfga/commit/a3640758c370599e9baf8ff3bf22962dcc2b8426?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.89% compared to head [(`1ca8cbc`)](https://app.codecov.io/gh/openfga/openfga/pull/1110?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1110      +/-   ##
==========================================
- Coverage   82.89%   82.87%   -0.01%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6768     6767       -1     
  Misses       1101     1101              
- Partials      297      298       +1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1110?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/util/util.go](https://app.codecov.io/gh/openfga/openfga/pull/1110?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3V0aWwvdXRpbC5nbw==) | `72.00% <100.00%> (ø)` | |

... and [2 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1110/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1110?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1111,codecov[bot],2023-11-03 14:55:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1111?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`54d62eb`)](https://app.codecov.io/gh/openfga/openfga/commit/54d62eb9a5e23a4183675478ca9ca426cbb24b61?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.93% compared to head [(`00eb912`)](https://app.codecov.io/gh/openfga/openfga/pull/1111?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1111      +/-   ##
==========================================
- Coverage   82.93%   82.79%   -0.14%     
==========================================
  Files          70       70              
  Lines        8175     8166       -9     
==========================================
- Hits         6779     6760      -19     
- Misses       1099     1106       +7     
- Partials      297      300       +3     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1111?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1111?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | `92.73% <ø> (-0.48%)` | :arrow_down: |

... and [3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1111/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1111?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1112,codecov[bot],2023-11-03 16:35:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1112?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4bab995`)](https://app.codecov.io/gh/openfga/openfga/commit/4bab995093afb39214dbea405be416216acabfa2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.97% compared to head [(`bab4ca4`)](https://app.codecov.io/gh/openfga/openfga/pull/1112?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1112      +/-   ##
==========================================
- Coverage   82.97%   82.87%   -0.09%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6775     6767       -8     
- Misses       1096     1101       +5     
- Partials      295      298       +3     
```


[see 6 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1112/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1112?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1113,codecov[bot],2023-11-03 17:28:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1113?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2f7b9d2`)](https://app.codecov.io/gh/openfga/openfga/commit/2f7b9d222456e195627c02a87847acc4de08432b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.03% compared to head [(`ce48a47`)](https://app.codecov.io/gh/openfga/openfga/pull/1113?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.07%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1113      +/-   ##
==========================================
+ Coverage   83.03%   83.07%   +0.04%     
==========================================
  Files          70       70              
  Lines        8190     8190              
==========================================
+ Hits         6800     6803       +3     
+ Misses       1093     1091       -2     
+ Partials      297      296       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1113?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1114,codecov[bot],2023-11-03 20:53:02,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1114?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@ab4d1e6`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).

<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1114   +/-   ##
============================================
  Coverage             ?   80.91%           
============================================
  Files                ?       83           
  Lines                ?     9205           
  Branches             ?        0           
============================================
  Hits                 ?     7447           
  Misses               ?     1391           
  Partials             ?      367           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1114?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1115,codecov[bot],2023-11-03 21:53:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1115?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@ab4d1e6`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).

<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1115   +/-   ##
============================================
  Coverage             ?   80.98%           
============================================
  Files                ?       83           
  Lines                ?     9216           
  Branches             ?        0           
============================================
  Hits                 ?     7463           
  Misses               ?     1388           
  Partials             ?      365           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1115?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1118,codecov[bot],2023-11-04 21:16:50,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1118?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`a9f5e95`)](https://app.codecov.io/gh/openfga/openfga/commit/a9f5e95a94da04bf8c349033bb27fd5550450191?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 80.85% compared to head [(`2835f26`)](https://app.codecov.io/gh/openfga/openfga/pull/1118?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 80.96%.
> Report is 57 commits behind head on feat/abac.


<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1118      +/-   ##
=============================================
+ Coverage      80.85%   80.96%   +0.11%     
=============================================
  Files             83       83              
  Lines           9216     9216              
=============================================
+ Hits            7451     7461      +10     
+ Misses          1397     1390       -7     
+ Partials         368      365       -3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1118?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1119,linux-foundation-easycla[bot],2023-11-05 02:57:13,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: Saurabhkr952 / name: Saurabh Kumar  (2c5dfab5433ac672dd11038d4cb0665270f0b91d)</li><li>:white_check_mark: login: rhamzeh / name: Raghd Hamzeh  (8f1f94dd68eeb983a4945a4f4a6c1507e27d3f82)</li></ul>"
1121,codecov[bot],2023-11-05 13:53:59,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1121?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0d38ae0`)](https://app.codecov.io/gh/openfga/openfga/commit/0d38ae05f3de40773f6ba6afc66b18e59a5b9651?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.85% compared to head [(`47f1902`)](https://app.codecov.io/gh/openfga/openfga/pull/1121?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.

> :exclamation: Current head 47f1902 differs from pull request most recent head 5a8a4ea. Consider uploading reports for the commit 5a8a4ea to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1121      +/-   ##
==========================================
+ Coverage   82.85%   82.87%   +0.03%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
+ Hits         6765     6767       +2     
+ Misses       1103     1101       -2     
  Partials      298      298              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1121/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1121?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1082,miparnisari,2023-11-05 16:49:16,"The concurrency limit is used to set the [size of a channel](https://github.com/openfga/openfga/blob/8dc2ed62413e7cccc7da57da057f1f1fc17dcb8a/pkg/storage/storagewrappers/boundedconcurrency.go#L42). I'm not sure it is possible to change that size after it's been created.

Could we change the title of this ticket to ""ensure read-heavy checks are slowed down""? There are multiple ways of approaching this. We could apply heuristics, such as

- Once we hit `datastore_query_count > threshold`, wrap the datastore with yet another `BoundedConcurrencyTupleReader`
- Try to predict how complicated the query is upfront and reduce the concurrency limit right at the start"
1122,codecov[bot],2023-11-05 21:31:42,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1122?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0d38ae0`)](https://app.codecov.io/gh/openfga/openfga/commit/0d38ae05f3de40773f6ba6afc66b18e59a5b9651?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.85% compared to head [(`49abf42`)](https://app.codecov.io/gh/openfga/openfga/pull/1122?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1122      +/-   ##
==========================================
- Coverage   82.85%   82.79%   -0.06%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6765     6760       -5     
- Misses       1103     1106       +3     
- Partials      298      300       +2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1122/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1122?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1112,jon-whit,2023-11-06 06:32:16,@jpadilla looks good to me. Hopefully we wired it up properly. We'll find out on the next release I suppose 😄 
1119,codecov[bot],2023-11-06 11:02:31,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1119?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`42a2c5f`)](https://app.codecov.io/gh/openfga/openfga/commit/42a2c5f0fdc8afef36d94b7ddceba0fac1ea2509?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87% compared to head [(`8f1f94d`)](https://app.codecov.io/gh/openfga/openfga/pull/1119?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1119   +/-   ##
=======================================
  Coverage   82.87%   82.87%           
=======================================
  Files          70       70           
  Lines        8166     8166           
=======================================
  Hits         6767     6767           
  Misses       1101     1101           
  Partials      298      298           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1119?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1112,aaguiarz,2023-11-06 13:14:22,"Maybe we can try releasing a new OpenFGA with this, and say it just has provenance.. "
1123,codecov[bot],2023-11-06 18:18:51,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1123?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4bab995`)](https://app.codecov.io/gh/openfga/openfga/commit/4bab995093afb39214dbea405be416216acabfa2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.97% compared to head [(`08057af`)](https://app.codecov.io/gh/openfga/openfga/pull/1123?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.80%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1123      +/-   ##
==========================================
- Coverage   82.97%   82.80%   -0.17%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6775     6761      -14     
- Misses       1096     1106      +10     
- Partials      295      299       +4     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1123/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1123?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1117,jon-whit,2023-11-06 19:24:53,"We have 2 docker files: `Dockerfile` and `Dockerfile.goreleaser`. The later is used in the goreleaser release process, and this is what our official images are built with. Since these official images are consumed in different ways outside of the docker ecosystem directly, I do not believe it makes sense to inclue a `HEALTHCHECK` directive in that docker file. I would encourage health checks be a more conscious decision by the community consuming the image. For example, if you're using the openfga image in a Kubernetes environment the `HEALTHCHECK` directive doesn't make sense and the readiness health check probes are more consciously defined.

For the `Dockerfile` case I feel it would be more appropriate to use the `HEALTHCHECK` directive. @ghstahl would you be willing to submit a PR for that? A contribution would be much appreciated."
1126,codecov[bot],2023-11-06 19:34:37,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1126?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2caa3dd`)](https://app.codecov.io/gh/openfga/openfga/commit/2caa3dd5f1af084e3d31d7f556ac85be88acc26b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87% compared to head [(`17104dd`)](https://app.codecov.io/gh/openfga/openfga/pull/1126?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.96%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1126      +/-   ##
==========================================
+ Coverage   82.87%   82.96%   +0.09%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
+ Hits         6767     6774       +7     
+ Misses       1102     1097       -5     
+ Partials      297      295       -2     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1126/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1126?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1123,jon-whit,2023-11-06 19:56:12,@dependabot rebase
1123,dependabot[bot],2023-11-06 19:56:15,"Looks like this PR has been edited by someone other than Dependabot. That means Dependabot can't rebase it - sorry!

If you're happy for Dependabot to recreate it from scratch, overwriting any edits, you can request `@dependabot recreate`.
"
1125,jon-whit,2023-11-06 20:05:46,"@martin31821 the help message output for the `openfga migrate` command shows the following:

```
migrate -h
The migrate command is used to migrate the database schema needed for OpenFGA.

Usage:
  openfga migrate [flags]

Flags:
      --datastore-engine string   (required) the datastore engine that will be used for persistence
      --datastore-uri string      (required) the connection uri of the database to run the migrations against (e.g. 'postgres://postgres:password@localhost:5432/postgres')
  -h, --help                      help for migrate
      --timeout duration          a timeout for the time it takes the migrate process to connect to the database (default 1m0s)
      --verbose                   enable verbose migration logs (default false)
      --version uint              the version to migrate to (if omitted the latest schema will be used)
```

The `openfga migrate` command doesn't currently support overriding `datastore-username` and/or `datastore-password` like the `openfga run` entrypoint does. So the expectation is that you provide the credentials inline in the `datastore-uri`.

For that reason, I'm not marking this as a bug, because it's working as intended. However, if you feel this experience isn't ideal then we can consider marking this as an enhancement and looking into adding those similar flags/overrides in the `migrate` entrypoint as well 👍 "
179,jon-whit,2023-11-06 20:08:09,"Closing this as we do not plan on doing it at the moment. We'll keep it in mind and also resurrect it if any further recommendations related to this pop up, but for now marking as closed."
1125,martin31821,2023-11-06 20:25:23,"@jon-whit I wanted to mark it as enhancement, and also contribute the respective code, just fyi. 

I'm trying to use it with the zalando postgres operator which writes the username and password into a k8s secret, so along with the small fixes in the helm chart, I felt like that would be the natural choice also for the migrate tool."
442,jon-whit,2023-11-06 20:26:00,"Seems to work as expected. If you write a model and attempt to write a tuple that references a bad relation you get an HTTP 400. If you attempt to make a Check that references an undefined relation on the type in the model then you get HTTP 400. Those are appropriate validation error codes for this behavior.

https://github.com/openfga/openfga/assets/2899204/9f2fcc56-97c3-4738-9eb0-f9b640c296af

"
598,jon-whit,2023-11-06 20:29:58,"@miparnisari we've added a lot more since we originally created this. Can we close? If not, can we make this more specific as to what the outcome/expectation of this is so that we can clarify _what remains_?"
681,jon-whit,2023-11-06 20:31:59,https://github.com/openfga/openfga/pull/810 supersedes #712
1125,jon-whit,2023-11-06 20:33:03,"> I wanted to mark it as enhancement, and also contribute the respective code, just fyi.
> 
> I'm trying to use it with the zalando postgres operator which writes the username and password into a k8s secret, so along with the small fixes in the helm chart, I felt like that would be the natural choice also for the migrate tool.

@martin31821 Sounds great! Thank you. We look forward to the contribution. To avoid duplication, try to make use of shared flag behavior if you can. Cheers 👍 "
1080,jon-whit,2023-11-06 20:42:19,"Our protocol is gRPC. The HTTP API is derived off of this with the [grpc-gateway](https://github.com/grpc-ecosystem/grpc-gateway) project. We can choose to map a very specific kind of error to an alternative HTTP code, but the list of [gRPC status codes](https://grpc.github.io/grpc/core/md_doc_statuscodes.html) is much more finite than those in the HTTP world.

The closest code in gRPC would likely be the `ABORTED` code. See the guidance between `FAILED_PRECONDITION`, `ABORTED`, and `UNAVAILABLE` for more context.

It may help us to make the decisions if we focus on the ""behavior"" that we want instead. If a client calls the `Write`API and that write conflicts with another concurrent transaction, should the client retry? In our case we likely want the client to retry the transaction. If they retry the second request (e.g. the retried request, then it will likely return an error because the tuple will now exist due to the other concurrent write that was transacted. In this case I think ABORTED makes sense, because it will encourage the client to retry."
1026,jon-whit,2023-11-06 20:59:03,"@JRudransh I may not understand the requirements completely, so forgive me if this overlooks the use case. If you can provide some sample Check queries that you would be making that may help. But would the following work?

```
model
  schema 1.1

type user
    relations
        define organization: [organization]
        define managed_by: manage_users from organization

type organization
    relations
        define admin: [user]
        define manage_users: [organization#admin]
```

```
- organization:acme#manage_users@organization:acme#admin
- organization:acme#admin@user:bob
- user:x#organization@organization:acme
- 
```

```
Check(user:x#managed_by@user:bob) --> {allowed: true}
Check(user:x#managed_by@user:jim) --> {allowed: false}
```

But now `user:jim` joins the `organization:acme#admin` group and will be able to manage `user:x`.
```
- organization:acme#admin@user:jim

Check(user:x#managed_by@user:jim) --> {allowed: true}
```

The idea is that each user is part of the owning organization and a user can be managed by anyone who can manage users of the organization. Users that are part of the admin group of the organization can `manage_users` of the organization, and therefore anytime a user is made an admin they can manage the users of the organization.

If only I had a dollar for every time I used the word ""users"" in the paragraph above.. 😄 !"
1082,jon-whit,2023-11-06 21:10:35,"Let's make the goal clear here as well for anyone who may come along and read this later. 

> The idea is that we want to introduce a mechanism that allows Check evaluations to be throttled such that the rate at which we start evaluating _new_ Check subgraph evaluations is made more controllable. For this we will need to compare some metric representing current query cost and if we exceed that value then we start applying a throttle so as to reduce the processing rate of new subgraph evaluations.

We should rename this issue more generally to ""Check Evaluation Throttling Based on Query Cost""
"
1026,JRudransh,2023-11-06 23:03:18,"Thanks @jon-whit for your response. We have already gone with a model. And that model is similar to your example model.

Organization will be the top level entity. When a user joins the organization, the organization admin will be able to manage that user."
1127,codecov[bot],2023-11-06 23:17:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1127?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e30face`)](https://app.codecov.io/gh/openfga/openfga/commit/e30face320888b41b9d6d5b97aed3a9dbca2cf0f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.91% compared to head [(`f23fcf7`)](https://app.codecov.io/gh/openfga/openfga/pull/1127?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.95%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1127      +/-   ##
==========================================
+ Coverage   82.91%   82.95%   +0.04%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
+ Hits         6770     6773       +3     
+ Misses       1099     1097       -2     
+ Partials      297      296       -1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1127/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1127?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1128,codecov[bot],2023-11-06 23:20:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1128?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e30face`)](https://app.codecov.io/gh/openfga/openfga/commit/e30face320888b41b9d6d5b97aed3a9dbca2cf0f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.91% compared to head [(`bb65bf5`)](https://app.codecov.io/gh/openfga/openfga/pull/1128?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.91%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1128   +/-   ##
=======================================
  Coverage   82.91%   82.91%           
=======================================
  Files          70       70           
  Lines        8166     8166           
=======================================
  Hits         6770     6770           
  Misses       1099     1099           
  Partials      297      297           
```




</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1128?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1117,shaunco,2023-11-06 23:29:49,"Since Kubernetes 1.8, the Docker HEALTHCHECK has been [disabled explicitly](https://github.com/kubernetes/kubernetes/pull/50796) in Kubernetes.

For Docker usage, it is very helpful to have the authors of a container be explicit about how one should check the health of that container - especially when the container might be built on scratch (no wget, no curl, no sh, etc), which means the container authors need to consciously include either a CLI option on their main binary to check the health or a second binary for health checking. Forcing users to Google ""openfga healthcheck"" to figure out what to do isn't a very good experience."
1129,codecov[bot],2023-11-07 01:33:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1129?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`b365817`)](https://app.codecov.io/gh/openfga/openfga/commit/b36581737478a04d772f143da93002c350d4ea62?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.00% compared to head [(`ea956ef`)](https://app.codecov.io/gh/openfga/openfga/pull/1129?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.95%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1129      +/-   ##
==========================================
- Coverage   83.00%   82.95%   -0.04%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6777     6773       -4     
- Misses       1095     1097       +2     
- Partials      294      296       +2     
```


[see 4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1129/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1129?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1026,jon-whit,2023-11-07 04:59:03,@JRudransh awesome! Glad we came to similar solutions. I think that should work well for your use case. Let us know otherwise. For now I'll mark this as resolved. If further questions come up feel free to open another follow up conversation and link back to this.
1130,codecov[bot],2023-11-07 05:07:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1130?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`b365817`)](https://app.codecov.io/gh/openfga/openfga/commit/b36581737478a04d772f143da93002c350d4ea62?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.00% compared to head [(`68ca2cd`)](https://app.codecov.io/gh/openfga/openfga/pull/1130?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1130      +/-   ##
==========================================
- Coverage   83.00%   82.79%   -0.20%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6777     6760      -17     
- Misses       1095     1106      +11     
- Partials      294      300       +6     
```


[see 7 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1130/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1130?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1131,codecov[bot],2023-11-07 05:14:15,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1131?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`45f2cdd`)](https://app.codecov.io/gh/openfga/openfga/commit/45f2cdd9326ac63450b9992e779a6224c4507a08?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.82% compared to head [(`ee2703b`)](https://app.codecov.io/gh/openfga/openfga/pull/1131?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1131      +/-   ##
==========================================
- Coverage   82.82%   82.79%   -0.03%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6763     6760       -3     
- Misses       1104     1106       +2     
- Partials      299      300       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1131/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1131?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1134,codecov[bot],2023-11-07 11:06:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1134?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c7458dc`)](https://app.codecov.io/gh/openfga/openfga/commit/c7458dce9162db9d52e13a32ef5df62535def1a7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.82% compared to head [(`6ca8428`)](https://app.codecov.io/gh/openfga/openfga/pull/1134?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.85%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1134      +/-   ##
==========================================
+ Coverage   82.82%   82.85%   +0.03%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
+ Hits         6763     6765       +2     
+ Misses       1104     1103       -1     
+ Partials      299      298       -1     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1134/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1134?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1135,codecov[bot],2023-11-07 12:56:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1135?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`45f2cdd`)](https://app.codecov.io/gh/openfga/openfga/commit/45f2cdd9326ac63450b9992e779a6224c4507a08?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.82% compared to head [(`1320147`)](https://app.codecov.io/gh/openfga/openfga/pull/1135?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.89%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1135      +/-   ##
==========================================
+ Coverage   82.82%   82.89%   +0.07%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
+ Hits         6763     6768       +5     
+ Misses       1104     1101       -3     
+ Partials      299      297       -2     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1135/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1135?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1135,rhamzeh,2023-11-07 13:23:21,"Instead of linking to https://slsa.dev, can we link to our own page on how to verify? (as in https://github.com/openfga/community/blob/main/provenance-implementation/openfga.md)"
1132,jon-whit,2023-11-07 20:43:20,"@ashok-an could you provide some examples of shell commands demonstrating what the OpenFGA startup process would look like with this?

What would an ideal cli interface look like to achieve this? "
1132,ashok-an,2023-11-08 04:15:04,"> @ashok-an could you provide some examples of shell commands demonstrating what the OpenFGA startup process would look like with this?
> 
> What would an ideal cli interface look like to achieve this?

For simplicity, how it looks today is:
```
❯ fga store create --name ""store-A""
{
  ""store"": {
    ""created_at"":""2023-11-08T04:12:09.966412585Z"",
    ""id"":""01HEPJ2TBDBZEAMEWSGMP95SZ9"",
    ""name"":""store-A"",
    ""updated_at"":""2023-11-08T04:12:09.966412585Z""
  }
}

❯ fga store create --name ""store-A""
{
  ""store"": {
    ""created_at"":""2023-11-08T04:12:14.882152171Z"",
    ""id"":""01HEPJ2Z52WP8RK2G5CDNJ4MW5"",
    ""name"":""store-A"",
    ""updated_at"":""2023-11-08T04:12:14.882152171Z""
  }
}
```

What I mean/look for is:
```
❯ fga store create --name ""store-A""
{
  ""store"": {
    ""created_at"":""2023-11-08T04:12:09.966412585Z"",
    ""id"":""01HEPJ2TBDBZEAMEWSGMP95SZ9"",
    ""name"":""store-A"",
    ""updated_at"":""2023-11-08T04:12:09.966412585Z""
  }
}

❯ fga store create --name ""store-A""
{
  ""store"": {
    ""created_at"":""2023-11-08T04:12:14.882152171Z"", // original creation timestamp
    ""id"":""01HEPJ2Z52WP8RK2G5CDNJ4MW5"", // original ID - 01HEPJ2TBDBZEAMEWSGMP95SZ9
    ""name"":""store-A"",
    ""updated_at"":""2023-11-08T04:12:14.882152171Z""
  }
}
```"
1136,codecov[bot],2023-11-08 09:21:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1136?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0ab4747`)](https://app.codecov.io/gh/openfga/openfga/commit/0ab4747520b544e4677b16b1a0560e7ac58c71a8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.82% compared to head [(`f1978f1`)](https://app.codecov.io/gh/openfga/openfga/pull/1136?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.79%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1136      +/-   ##
==========================================
- Coverage   82.82%   82.79%   -0.03%     
==========================================
  Files          70       70              
  Lines        8166     8166              
==========================================
- Hits         6763     6760       -3     
- Misses       1104     1106       +2     
- Partials      299      300       +1     
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1136/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1136?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1136,rhamzeh,2023-11-08 14:09:29,Thanks @Siddhant-K-code!
1136,Siddhant-K-code,2023-11-08 14:50:37,Overall scorecard is now improved to `9`. It was `8.9` before :) 
1134,jon-whit,2023-11-08 15:46:03,@Siddhant-K-code mind rebasing on main?
1134,Siddhant-K-code,2023-11-08 15:46:57,"Also, Let me revert the `docker-compose.yml` change. Brb!"
1134,Siddhant-K-code,2023-11-08 16:05:22,@jon-whit We are good to go :shipit: 🚀 
1137,jon-whit,2023-11-08 16:50:00,Just wanted to get this started so we're tracking. Still need to finish tests.
1132,jon-whit,2023-11-08 17:03:57,"@ashok-an I think you may have accidentally copy/pasted the same thing twice.  The two examples (before/after) are identical.

What I may infer from what you're trying to do, just based on the description you have, is that it sounds like you want an idempotent `CreateStore` method that operates on a Store name (e.g. only a single store of a given name can exist in OpenFGA). Is that what you mean?"
1102,miparnisari,2023-11-08 17:29:55,Done in https://github.com/openfga/openfga/pull/1119
1139,codecov[bot],2023-11-08 18:17:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1139?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`main@1887ace`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).

<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1139   +/-   ##
=======================================
  Coverage        ?   82.94%           
=======================================
  Files           ?       70           
  Lines           ?     8186           
  Branches        ?        0           
=======================================
  Hits            ?     6789           
  Misses          ?     1098           
  Partials        ?      299           
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1139?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1139?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `73.63% <100.00%> (ø)` | |


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1139?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1132,ashok-an,2023-11-09 02:34:09,"Yes!
-- Ashok


On Wed, Nov 8, 2023 at 10:34 PM Jonathan Whitaker ***@***.***>
wrote:

> @ashok-an <https://github.com/ashok-an> I think you may have accidentally
> copy/pasted the same thing twice. The two examples (before/after) are
> identical.
>
> What I may infer from what you're trying to do, just based on the
> description you have, is that it sounds like you want an idempotent
> CreateStore method that operates on a Store name (e.g. only a single
> store of a given name can exist in OpenFGA). Is that what you mean?
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/openfga/openfga/issues/1132#issuecomment-1802303188>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AH5YCT6L5CYFB2QA3H5MIL3YDO3QRAVCNFSM6AAAAAA7AULGJ2VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTQMBSGMYDGMJYHA>
> .
> You are receiving this because you were mentioned.Message ID:
> ***@***.***>
>
"
1140,jon-whit,2023-11-09 15:57:04,FWIW the MySQL storage implementaiton has no indexes on anything other than the tuple `ulid`. So that doesn't help the test time 😄 
1137,codecov[bot],2023-11-09 16:29:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `9 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`6c815aa`)](https://app.codecov.io/gh/openfga/openfga/commit/6c815aa3cde228256d8027f66d9b8fe12d396bb8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.02% compared to head [(`9034ce8`)](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.25%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL2NvbmRpdGlvbi5nbw==) | 85.25% | [7 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1137      +/-   ##
=============================================
+ Coverage      81.02%   81.25%   +0.23%     
=============================================
  Files             83       83              
  Lines           9240     9278      +38     
=============================================
+ Hits            7486     7538      +52     
+ Misses          1387     1375      -12     
+ Partials         367      365       -2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1137?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1140,miparnisari,2023-11-09 21:17:35,"@jon-whit in my machine I see that the MySQL docker container takes a long time to spin up (14 seconds in this example)

```shell
2023-11-09 16:15:35 2023-11-09 21:15:35+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.2.0-1.el8 started.
2023-11-09 16:15:35 2023-11-09 21:15:35+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'
2023-11-09 16:15:35 2023-11-09 21:15:35+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.2.0-1.el8 started.
2023-11-09 16:15:35 2023-11-09 21:15:35+00:00 [Note] [Entrypoint]: Initializing database files
2023-11-09 16:15:42 2023-11-09 21:15:42+00:00 [Note] [Entrypoint]: Database files initialized
2023-11-09 16:15:42 2023-11-09 21:15:42+00:00 [Note] [Entrypoint]: Starting temporary server
2023-11-09 16:15:42 2023-11-09 21:15:42+00:00 [Note] [Entrypoint]: Temporary server started.
2023-11-09 16:15:42 '/var/lib/mysql/mysql.sock' -> '/var/run/mysqld/mysqld.sock'
2023-11-09 16:15:35 2023-11-09T21:15:35.823304Z 0 [System] [MY-015017] [Server] MySQL Server Initialization - start.
2023-11-09 16:15:35 2023-11-09T21:15:35.825007Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.
2023-11-09 16:15:35 2023-11-09T21:15:35.825099Z 0 [System] [MY-013169] [Server] /usr/sbin/mysqld (mysqld 8.2.0) initializing of server in progress as process 81
2023-11-09 16:15:35 2023-11-09T21:15:35.833494Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
2023-11-09 16:15:36 2023-11-09T21:15:36.345543Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
2023-11-09 16:15:37 2023-11-09T21:15:37.689626Z 6 [Warning] [MY-010453] [Server] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.
2023-11-09 16:15:42 2023-11-09T21:15:42.042145Z 0 [System] [MY-015018] [Server] MySQL Server Initialization - end.
2023-11-09 16:15:42 2023-11-09T21:15:42.089490Z 0 [System] [MY-015015] [Server] MySQL Server - start.
2023-11-09 16:15:42 2023-11-09T21:15:42.332758Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.
2023-11-09 16:15:42 2023-11-09T21:15:42.334185Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.2.0) starting as process 125
2023-11-09 16:15:42 2023-11-09T21:15:42.350703Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
2023-11-09 16:15:42 2023-11-09T21:15:42.500007Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
2023-11-09 16:15:42 2023-11-09T21:15:42.789058Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
2023-11-09 16:15:42 2023-11-09T21:15:42.789128Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.
2023-11-09 16:15:42 2023-11-09T21:15:42.792301Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
2023-11-09 16:15:42 2023-11-09T21:15:42.812939Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Socket: /var/run/mysqld/mysqlx.sock
2023-11-09 16:15:42 2023-11-09T21:15:42.813320Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.2.0'  socket: '/var/run/mysqld/mysqld.sock'  port: 0  MySQL Community Server - GPL.
2023-11-09 16:15:42 2023-11-09T21:15:42.815664Z 0 [System] [MY-015016] [Server] MySQL Server - end.
2023-11-09 16:15:44 Warning: Unable to load '/usr/share/zoneinfo/iso3166.tab' as time zone. Skipping it.
2023-11-09 16:15:44 Warning: Unable to load '/usr/share/zoneinfo/leap-seconds.list' as time zone. Skipping it.
2023-11-09 16:15:44 Warning: Unable to load '/usr/share/zoneinfo/leapseconds' as time zone. Skipping it.
2023-11-09 16:15:46 Warning: Unable to load '/usr/share/zoneinfo/tzdata.zi' as time zone. Skipping it.
2023-11-09 16:15:46 Warning: Unable to load '/usr/share/zoneinfo/zone.tab' as time zone. Skipping it.
2023-11-09 16:15:46 Warning: Unable to load '/usr/share/zoneinfo/zone1970.tab' as time zone. Skipping it.
2023-11-09 16:15:47 2023-11-09T21:15:47.210600Z 11 [System] [MY-013172] [Server] Received SHUTDOWN from user root. Shutting down mysqld (Version: 8.2.0).
2023-11-09 16:15:48 2023-11-09T21:15:48.624189Z 0 [System] [MY-010910] [Server] /usr/sbin/mysqld: Shutdown complete (mysqld 8.2.0)  MySQL Community Server - GPL.
2023-11-09 16:15:48 2023-11-09T21:15:48.630217Z 0 [System] [MY-015016] [Server] MySQL Server - end.
2023-11-09 16:15:49 2023-11-09T21:15:49.241358Z 0 [System] [MY-015015] [Server] MySQL Server - start.
2023-11-09 16:15:49 2023-11-09T21:15:49.482461Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.
2023-11-09 16:15:49 2023-11-09T21:15:49.484143Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.2.0) starting as process 1
2023-11-09 16:15:49 2023-11-09T21:15:49.490590Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
2023-11-09 16:15:49 2023-11-09T21:15:49.639810Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
2023-11-09 16:15:49 2023-11-09T21:15:49.898884Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
2023-11-09 16:15:49 2023-11-09T21:15:49.898944Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.
2023-11-09 16:15:49 2023-11-09T21:15:49.901344Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
2023-11-09 16:15:49 2023-11-09T21:15:49.926448Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock
2023-11-09 16:15:47 2023-11-09 21:15:47+00:00 [Note] [Entrypoint]: Creating database defaultdb
2023-11-09 16:15:47 
2023-11-09 16:15:47 2023-11-09 21:15:47+00:00 [Note] [Entrypoint]: Stopping temporary server
2023-11-09 16:15:49 2023-11-09 21:15:49+00:00 [Note] [Entrypoint]: Temporary server stopped
2023-11-09 16:15:49 
2023-11-09 16:15:49 2023-11-09 21:15:49+00:00 [Note] [Entrypoint]: MySQL init process done. Ready for start up.
2023-11-09 16:15:49 
2023-11-09 16:15:49 2023-11-09T21:15:49.926759Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.2.0'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server - GPL.

```"
126,Siddhant-K-code,2023-11-11 15:30:00,We can use [`release-drafter/release-drafter`](https://github.com/release-drafter/release-drafter?tab=readme-ov-file#example). It gives us the power to define the Release template and it would use fill it out with the details for every release.
1142,ilaleksin,2023-11-12 18:13:32,"server/commands contain structures consisting of only 2 fields: datastore and logger.

For example, **pkg/server/commands/expand.go**
```
type ExpandQuery struct {
	logger    logger.Logger
	datastore storage.OpenFGADatastore
}
```

Do we want to refactor constructors of these structs to use Options as well?
It means, there will be only one option WithLogger.  I am not sure it makes sense to implement Options pattern in the case when we configure only logger.
"
1142,codecov[bot],2023-11-12 18:16:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `79 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`07dfe68`)](https://app.codecov.io/gh/openfga/openfga/commit/07dfe68fbd7d822378d65a9f5038e630eefa6f3e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.03% compared to head [(`f831873`)](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | 34.49% | [19 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/read.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkLmdv) | 41.18% | [9 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/read\_changes.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkX2NoYW5nZXMuZ28=) | 63.64% | [8 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | 50.00% | [6 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/read\_authzmodel.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkX2F1dGh6bW9kZWwuZ28=) | 50.00% | [6 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/delete\_store.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9kZWxldGVfc3RvcmUuZ28=) | 40.00% | [5 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/get\_store.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9nZXRfc3RvcmUuZ28=) | 50.00% | [5 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/read\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkX2Fzc2VydGlvbnMuZ28=) | 50.00% | [5 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/write\_assertions.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZV9hc3NlcnRpb25zLmdv) | 50.00% | [5 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/read\_authzmodels.go](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZWFkX2F1dGh6bW9kZWxzLmdv) | 76.48% | [4 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1142      +/-   ##
==========================================
- Coverage   83.03%   82.35%   -0.68%     
==========================================
  Files          70       70              
  Lines        8237     8399     +162     
==========================================
+ Hits         6839     6916      +77     
- Misses       1099     1174      +75     
- Partials      299      309      +10     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1142?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1143,codecov[bot],2023-11-13 03:39:13,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1143?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`3db6ac7`)](https://app.codecov.io/gh/openfga/openfga/commit/3db6ac70e3c26e7992803c229ef393f5827616b4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.06% compared to head [(`c1177a9`)](https://app.codecov.io/gh/openfga/openfga/pull/1143?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.98%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1143      +/-   ##
==========================================
- Coverage   83.06%   82.98%   -0.08%     
==========================================
  Files          70       70              
  Lines        8186     8186              
==========================================
- Hits         6799     6792       -7     
- Misses       1091     1096       +5     
- Partials      296      298       +2     
```


[see 3 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1143/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1143?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1144,codecov[bot],2023-11-13 09:43:38,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1144?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e12bd63`)](https://app.codecov.io/gh/openfga/openfga/commit/e12bd63b47f0eed7111516850f221abd5a0b0591?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.04% compared to head [(`7f66991`)](https://app.codecov.io/gh/openfga/openfga/pull/1144?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.17%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1144      +/-   ##
==========================================
+ Coverage   83.04%   83.17%   +0.14%     
==========================================
  Files          70       70              
  Lines        8186     8186              
==========================================
+ Hits         6797     6808      +11     
+ Misses       1093     1085       -8     
+ Partials      296      293       -3     
```


[see 5 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1144/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1144?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1145,linux-foundation-easycla[bot],2023-11-13 12:12:55,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: diegobernardes / name: Diego Bernardes  (8a560f095f39931a6eaadb87b8161c7f4959315f)</li></ul>"
1141,codecov[bot],2023-11-13 13:09:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1141?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e12bd63`)](https://app.codecov.io/gh/openfga/openfga/commit/e12bd63b47f0eed7111516850f221abd5a0b0591?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.04% compared to head [(`0a86ed6`)](https://app.codecov.io/gh/openfga/openfga/pull/1141?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.10%.

> :exclamation: Current head 0a86ed6 differs from pull request most recent head 5411678. Consider uploading reports for the commit 5411678 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1141      +/-   ##
==========================================
+ Coverage   83.04%   83.10%   +0.06%     
==========================================
  Files          70       70              
  Lines        8186     8185       -1     
==========================================
+ Hits         6797     6801       +4     
+ Misses       1093     1089       -4     
+ Partials      296      295       -1     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1141?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1141?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `73.59% <100.00%> (+0.31%)` | :arrow_up: |

... and [1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1141/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1141?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1146,codecov[bot],2023-11-13 17:08:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1146?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`dbd9ce8`)](https://app.codecov.io/gh/openfga/openfga/commit/dbd9ce82e84adf009fbb1de17c6a65548fa7a233?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.06% compared to head [(`d366ce5`)](https://app.codecov.io/gh/openfga/openfga/pull/1146?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.95%.

> :exclamation: Current head d366ce5 differs from pull request most recent head 9c0b797. Consider uploading reports for the commit 9c0b797 to get more accurate results

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1146      +/-   ##
==========================================
- Coverage   83.06%   82.95%   -0.11%     
==========================================
  Files          70       70              
  Lines        8186     8190       +4     
==========================================
- Hits         6799     6793       -6     
- Misses       1091     1098       +7     
- Partials      296      299       +3     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1146?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1146?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | `73.82% <100.00%> (+0.19%)` | :arrow_up: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1146/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1146?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1147,jon-whit,2023-11-13 17:29:14,Superseded by #1146 
1147,dependabot[bot],2023-11-13 17:29:18,"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it."
1145,codecov[bot],2023-11-13 18:25:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `12 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`3db6ac7`)](https://app.codecov.io/gh/openfga/openfga/commit/3db6ac70e3c26e7992803c229ef393f5827616b4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.06% compared to head [(`8a560f0`)](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.
> Report is 2 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1145      +/-   ##
==========================================
- Coverage   83.06%   82.87%   -0.19%     
==========================================
  Files          70       70              
  Lines        8186     8206      +20     
==========================================
+ Hits         6799     6800       +1     
- Misses       1091     1105      +14     
- Partials      296      301       +5     
```


| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Coverage Δ | |
|---|---|---|
| [pkg/storage/postgres/postgres.go](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvcG9zdGdyZXMuZ28=) | `78.51% <68.75%> (-0.12%)` | :arrow_down: |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | `78.38% <22.23%> (-2.80%)` | :arrow_down: |

... and [4 files with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1145/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1145?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1133,codecov[bot],2023-11-13 18:30:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `12 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`c00d8f6`)](https://app.codecov.io/gh/openfga/openfga/commit/c00d8f62fb17607c517c78138f688ddbf55f8aa7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.03% compared to head [(`8ceadb5`)](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.02%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | 63.64% | [8 Missing and 4 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1133      +/-   ##
==========================================
- Coverage   83.03%   83.02%   -0.01%     
==========================================
  Files          70       70              
  Lines        8190     8237      +47     
==========================================
+ Hits         6800     6838      +38     
- Misses       1093     1100       +7     
- Partials      297      299       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1133?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1149,codecov[bot],2023-11-13 19:08:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1149?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e12bd63`)](https://app.codecov.io/gh/openfga/openfga/commit/e12bd63b47f0eed7111516850f221abd5a0b0591?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.04% compared to head [(`aef5d36`)](https://app.codecov.io/gh/openfga/openfga/pull/1149?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.06%.
> Report is 1 commits behind head on main.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1149      +/-   ##
==========================================
+ Coverage   83.04%   83.06%   +0.03%     
==========================================
  Files          70       70              
  Lines        8186     8186              
==========================================
+ Hits         6797     6799       +2     
+ Misses       1093     1091       -2     
  Partials      296      296              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1149/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1149?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1148,jon-whit,2023-11-13 20:14:40,@dependabot recreate
1148,dependabot[bot],2023-11-13 20:15:07,"Looks like these dependencies are updatable in another way, so this is no longer needed."
1150,codecov[bot],2023-11-13 20:22:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1150?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c0a57a3`)](https://app.codecov.io/gh/openfga/openfga/commit/c0a57a3d62e387d01f89d571197de785d6f45930?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.01% compared to head [(`3f96853`)](https://app.codecov.io/gh/openfga/openfga/pull/1150?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.03%.

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1150      +/-   ##
==========================================
+ Coverage   83.01%   83.03%   +0.03%     
==========================================
  Files          70       70              
  Lines        8190     8190              
==========================================
+ Hits         6798     6800       +2     
+ Misses       1095     1093       -2     
  Partials      297      297              
```


[see 1 file with indirect coverage changes](https://app.codecov.io/gh/openfga/openfga/pull/1150/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga)


</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1150?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
893,ilaleksin,2023-11-13 21:24:18,"Hi @miparnisari,
I would be glad to help with this dependency upgrade.

However, I will need some help with verification that this upgrade doesn't fail the functionality mentioned above. "
1151,codecov[bot],2023-11-13 22:37:52,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `1 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`06db804`)](https://app.codecov.io/gh/openfga/openfga/commit/06db804c870c6259ce3da1915c63918a7369800a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.17% compared to head [(`df5a452`)](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.18%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL2NvbmRpdGlvbi5nbw==) | 75.00% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1151      +/-   ##
=============================================
+ Coverage      81.17%   81.18%   +0.02%     
=============================================
  Files             83       83              
  Lines           9373     9325      -48     
=============================================
- Hits            7608     7570      -38     
+ Misses          1392     1386       -6     
+ Partials         373      369       -4     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1151?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
338,surajkrishan,2023-11-14 10:44:32,"> > I just hit a similar error running the OpenFGA playground under a custom hostname. <img alt=""authz-openfga test3000playground - Google Chrome - 2023-08-11 at 10 24 27@2x"" width=""695"" src=""https://user-images.githubusercontent.com/329222/260062143-9ae331ed-3c13-409f-9e1b-2fdd52b16c9e.png"">
> 
> Hi @apexskier - the playground will only work with `localhost:3000`. It will not load on any custom hostname or alternate port. We enforce that through the CSP.

there should be an option to use /playground on other host as well 🙂"
1133,jon-whit,2023-11-14 16:20:46,@martin31821 please rebase on `main` and then we can merge
1145,jon-whit,2023-11-14 16:57:20,"@diegobernardes we really appreciate the contribution, but we're hesitant to adopt the changes at this time because we're moving away from persisting models across multiple rows in favor of storing a single model per row. The concurrency benefits go away in a very near upcoming release, and in the interim the concurrency brings some concerns. For example, it introduces intricacies with potential connection exhaustion and context cancellation concerns (you can see the changes already have a regression with the errgroup cancellation being propagated and this churns connections).

For these reasons I am going to close, but please don't shy away from looking at other good first issues or work. There's plenty to contribute 😄 . Thank you, thank you!"
338,Mararok,2023-11-14 20:31:36,"> I could not use other ports in the ""docker run"" command, as the CORS rule in the openFGA backend has a hardcoded URL http://127.0.0.1:8080)

Hi, @lorenlew 
I found solution for ports. There is flag(or envvar) to change playground port and http addr - need be same as published port

docker-compose:
```yaml
 environment:
   - OPENFGA_HTTP_ADDR=0.0.0.0:30011
   - OPENFGA_PLAYGROUND_PORT=30013
 ports:
      - 30011:30011
      - 30012:8081
      - 30013:30013
```

Playground hostname still can't be changed, but why ? 🤔
https://github.com/openfga/openfga/blob/2f7b9d222456e195627c02a87847acc4de08432b/cmd/run/run.go#L625-L626

"
1142,miparnisari,2023-11-14 21:33:25,"> It means, there will be only one option WithLogger. I am not sure it makes sense to implement Options pattern in the case when we configure only logger.

Yes please, lets implement there too. The less boilerplate we have to write for tests, the better :)"
893,miparnisari,2023-11-14 23:41:13,"Sure thing @ilaleksin!

> Logging fields for a Check request should remain the same

We have a test for this :) https://github.com/openfga/openfga/blob/ca5dde2b9574c1b7137881a852610d5bf8aa55e6/tests/check/check_test.go#L44

 > Exporting metrics should still work
> Exporting traces should still work

Doing `docker-compose up --build` should start up OpenFGA and all the telemetry containers, so simply going to the Jaeger UI (localhost:16686) and the Prometheus UI (localhost:9090) should prove that traces and metrics are still being exported correctly. You can attach screenshots in the PR to prove this.

> If authentication is enabled in the service, it should still work

We have tests for this too: 
- https://github.com/openfga/openfga/blob/1887ace6cbf54fbaf534834e28d1e6433b2bbf4e/cmd/run/run_test.go#L554
- https://github.com/openfga/openfga/blob/0d38ae05f3de40773f6ba6afc66b18e59a5b9651/cmd/openfga/main_test.go#L433

And you can also run a sanity check using Docker: `OPENFGA_AUTHN_METHOD=preshared OPENFGA_AUTHN_PRESHARED_KEYS=mykey docker-compose up`

and then any call like 

```
curl --location 'http://localhost:8080/stores' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer wrong' \
--data '{
  ""name"": ""blah""
}'
```

should give `unauthenticated`.

> Auth0 FGA uses OpenFGA and so it should also still work

I can test this on my end, since Auth0 FGA is closed source."
1152,codecov[bot],2023-11-15 00:01:00,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1152?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`d2ed51c`)](https://app.codecov.io/gh/openfga/openfga/commit/d2ed51cd876d049499e6cbad5c29ae5f8d813b91?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.92% compared to head [(`dfa45ba`)](https://app.codecov.io/gh/openfga/openfga/pull/1152?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.92%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1152   +/-   ##
=======================================
  Coverage   82.92%   82.92%           
=======================================
  Files          70       70           
  Lines        8190     8190           
=======================================
  Hits         6791     6791           
  Misses       1100     1100           
  Partials      299      299           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1152?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1153,codecov[bot],2023-11-15 02:43:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1153?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f30990e`)](https://app.codecov.io/gh/openfga/openfga/commit/f30990e8c76154988f8f4ed4e69b0f48f12ea5c8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.05% compared to head [(`e599de1`)](https://app.codecov.io/gh/openfga/openfga/pull/1153?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.92%.

> :exclamation: Current head e599de1 differs from pull request most recent head fdca231. Consider uploading reports for the commit fdca231 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1153      +/-   ##
==========================================
- Coverage   83.05%   82.92%   -0.12%     
==========================================
  Files          70       70              
  Lines        8190     8190              
==========================================
- Hits         6801     6791      -10     
- Misses       1093     1100       +7     
- Partials      296      299       +3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1153?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1133,martin31821,2023-11-15 12:28:41,Updated
1155,codecov[bot],2023-11-15 21:21:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1155?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0590992`)](https://app.codecov.io/gh/openfga/openfga/commit/05909926d01e5f9919a5ba601b392f3ee7c26a5a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.67% compared to head [(`0c5ce79`)](https://app.codecov.io/gh/openfga/openfga/pull/1155?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.66%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1155      +/-   ##
==========================================
- Coverage   82.67%   82.66%   -0.01%     
==========================================
  Files          84       84              
  Lines        9764     9764              
==========================================
- Hits         8071     8070       -1     
- Misses       1338     1339       +1     
  Partials      355      355              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1155?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1156,aaguiarz,2023-11-16 13:59:19,"Hi @geoffroybraun 

Do you want to prevent the `supervisor` relationship to be added if the user is not in the quarter? If so, you can't enforce that constraint in the model, you'll need to call check(user:x, resident, quarter:y) before adding the relationship.

If you want to make sure that if the relationship was added by mistake, calling check(user:x, supervisor, quarter:y) returns `allowed : false`, you can define the `supervisor` relationship as

`define supervisor: [user] and resident`

Does this make sense, or did I misunderstand the problem you want to solve?
"
1156,geoffroybraun,2023-11-16 14:09:21,"Hi @aaguiarz,

thank you very much for the more than quick reply! 

The idea is to block the ability to add a `user` as `supervisor` if he/she has not a `resident` relation with the targeted `quarter`. I understand I should check the `user` is `resident` of a `quarter` before adding him/her as `supervisor` on our side, I was just wondering if this was possible within the authorization model to avoid checking multiple relations.

If not, fair enough, we will do it from code.

Thanks! "
1156,aaguiarz,2023-11-16 14:15:01,"Yeah, that would be the way to do it.

In general we can't enforce integrity constraints on write on OpenFGA for now. "
1156,geoffroybraun,2023-11-16 14:25:17,"Alright, that seems fine for me. Just for the record, the `define supervisor: [user] and resident` line is really helpful and unlocks another use case we have, so even tho I can't use conditional relationship tuples, you still helped for another topic without knowing it, so thank you very much for that.

Wishing you a nice WE in advance!"
1156,aaguiarz,2023-11-16 14:30:39,"Glad it helped, have a nice weekend too! :) "
1157,codecov[bot],2023-11-19 20:45:33,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1157?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`6c815aa`)](https://app.codecov.io/gh/openfga/openfga/commit/6c815aa3cde228256d8027f66d9b8fe12d396bb8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.02% compared to head [(`b9a7cd5`)](https://app.codecov.io/gh/openfga/openfga/pull/1157?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.08%.


<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1157      +/-   ##
=============================================
+ Coverage      81.02%   81.08%   +0.06%     
=============================================
  Files             83       83              
  Lines           9240     9240              
=============================================
+ Hits            7486     7491       +5     
+ Misses          1387     1384       -3     
+ Partials         367      365       -2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1157?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
598,miparnisari,2023-11-20 09:37:27,"IMO we should do this

1. Include them all
2. Fix all the low hanging fruit errors
3. Comment out the linters that give errors that aren't trivial to solve"
598,rhamzeh,2023-11-20 10:37:37,"Agree with enabling all, and disabling just the ones that cause a lot of issues"
1159,codecov[bot],2023-11-20 18:49:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1159?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`d2b5f2d`)](https://app.codecov.io/gh/openfga/openfga/commit/d2b5f2d0ca472ddf565a90b747558046e89ea3bc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`ef31552`)](https://app.codecov.io/gh/openfga/openfga/pull/1159?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1159      +/-   ##
==========================================
+ Coverage   82.30%   82.43%   +0.14%     
==========================================
  Files          70       70              
  Lines        8399     8399              
==========================================
+ Hits         6912     6923      +11     
+ Misses       1177     1169       -8     
+ Partials      310      307       -3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1159?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1154,miparnisari,2023-11-20 19:28:51,"Hi @aaronschweig! I inspected the second trace you shared. It looks like the number of tuples was irrelevant in that case, what happened was that the path in the graph that led to `allowed=true` happened to have an (unfortunate) slow database read:

<img width=""1919"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/d4052fb2-1b26-4182-8bcc-ff0c979c2635"">

Could you share all the options that you've configured the OpenFGA instances with? Also, I'm not familiar with GCP but I'm wondering if there is something that can be tweaked on that front. Do you have metrics in GCP regarding latency of database reads? "
1142,ilaleksin,2023-11-20 21:03:44,"@miparnisari I made the requested changes, please review again and resolve the conversations if they look good now  

After I deleted WithOption() calls from the tests **codecov/patch** job in the pipeline started to fail.
Can you help to figure out how to make this job green? (if it is required to merged the PR)"
1162,jon-whit,2023-11-20 22:18:37,Good catch!
1160,jon-whit,2023-11-20 22:19:05,@dependabot rebase
1160,codecov[bot],2023-11-20 22:23:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1160?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`cf5dac7`)](https://app.codecov.io/gh/openfga/openfga/commit/cf5dac758d1f298b6fca72459a93bc38a0781d17?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.98% compared to head [(`64fa59b`)](https://app.codecov.io/gh/openfga/openfga/pull/1160?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.00%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1160      +/-   ##
==========================================
+ Coverage   82.98%   83.00%   +0.02%     
==========================================
  Files          70       70              
  Lines        8237     8237              
==========================================
+ Hits         6835     6836       +1     
  Misses       1101     1101              
+ Partials      301      300       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1160?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1142,miparnisari,2023-11-20 23:45:44,@ilaleksin to get the coverage back up we need to do https://github.com/openfga/openfga/issues/775. You don't need to do that in this PR.
1163,codecov[bot],2023-11-20 23:47:18,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `6 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`e0d8e88`)](https://app.codecov.io/gh/openfga/openfga/commit/e0d8e8891d8fb99e642fff3e081da604ce861353?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.23% compared to head [(`79c1dcc`)](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.13%.

> :exclamation: Current head 79c1dcc differs from pull request most recent head efc7b36. Consider uploading reports for the commit efc7b36 to get more accurate results

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/condition/condition.go](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29uZGl0aW9uL2NvbmRpdGlvbi5nbw==) | 80.00% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/write.go](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy93cml0ZS5nbw==) | 84.22% | [3 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1163      +/-   ##
=============================================
- Coverage      81.23%   81.13%   -0.10%     
=============================================
  Files             83       83              
  Lines           9474     9503      +29     
=============================================
+ Hits            7695     7709      +14     
- Misses          1410     1422      +12     
- Partials         369      372       +3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1163?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1154,aaronschweig,2023-11-21 09:41:20,"Hey @miparnisari thanks for investigating and giving some first feedback! I have collected the information about our database in GCP and also the deployment configuration of openfga:

Here are the contents of the `values.yaml`:

```yaml
log:
  level: info
autoscaling:
  enabled: false
  
telemetry:
  trace:
    enabled: true
    otlp:
      endpoint: otlp-gateway-collector.dxp-system.svc.cluster.local:4317
    sampleRatio: 1.0

replicaCount: 3
migrate:
  annotations:
    sidecar.istio.io/inject: ""false""
datastore:
  engine: postgres
  uriSecret: openfga-db
  maxOpenConns: 30
  applyMigrations: true
```

which result in the following env vars on the deployment

```yaml
env:
  - name: OPENFGA_DATASTORE_ENGINE
    value: postgres
  - name: OPENFGA_DATASTORE_URI
    valueFrom:
      secretKeyRef:
        key: uri
        name: openfga-db
  - name: OPENFGA_DATASTORE_MAX_OPEN_CONNS
    value: ""30""
  - name: OPENFGA_GRPC_ADDR
    value: 0.0.0.0:8081
  - name: OPENFGA_HTTP_ENABLED
    value: ""true""
  - name: OPENFGA_HTTP_ADDR
    value: 0.0.0.0:8080
  - name: OPENFGA_HTTP_CORS_ALLOWED_ORIGINS
    value: '*'
  - name: OPENFGA_HTTP_CORS_ALLOWED_HEADERS
    value: '*'
  - name: OPENFGA_PLAYGROUND_ENABLED
    value: ""true""
  - name: OPENFGA_PLAYGROUND_PORT
    value: ""3000""
  - name: OPENFGA_LOG_FORMAT
    value: json
  - name: OPENFGA_LOG_LEVEL
    value: info
  - name: OPENFGA_REQUEST_DURATION_DATASTORE_QUERY_COUNT_BUCKETS
    value: 50,200
  - name: OPENFGA_METRICS_ENABLED
    value: ""true""
  - name: OPENFGA_METRICS_ADDR
    value: 0.0.0.0:2112
  - name: OPENFGA_TRACE_ENABLED
    value: ""true""
  - name: OPENFGA_TRACE_OTLP_ENDPOINT
    value: otlp-gateway-collector.dxp-system.svc.cluster.local:4317
  - name: OPENFGA_TRACE_SAMPLE_RATIO
    value: ""1""
```

As for some metrics about our database with regards to latency etc I searched a bit and could offer some insights like that:

![image](https://github.com/openfga/openfga/assets/42006873/883889e5-f829-44d0-a1ad-47b6ed23086f)
![image](https://github.com/openfga/openfga/assets/42006873/4158b77a-e0e6-4007-9ce6-3b65b17ca35d)

So as you can see the average query execution time and resource consumption is fine FMPOV. If you need some other metrics just let me know - happy to see what I can find 😃 

FYI @nexus49
"
1165,aaguiarz,2023-11-21 10:17:48,"Hi @ruppo-912116 

When you define:

    `define manager: [organization#member]`

you are telling OpenFGA that you can assign 'all members of an organization' as a manager, and you'd write a tuple like

USER: organization:meta#member RELATION: member OBJECT: project: metap1

If you want to assign specific users as members/managers you'd write a model like:

```
model
  schema 1.1

type user

type organization
  relations
    define owner: [user]
    define member: [user] or owner
    
type project
  relations
    define parent: [organization]
    define manager: [user]
    define member: member from organization
    define can_add_member:  manager or owner from organization
```

Let me know if it helps

"
1165,ruppo-912116,2023-11-21 10:28:26,"Hi @aaguiarz, 
Using `member from organization` gives me the error `organization is not a valid relation for project` in my playground that I ran locally using this docker-compose https://github.com/openfga/openfga/blob/main/docker-compose.yaml. so, I used `member from parent` instead, but it still gives me the same error `Invalid tuple 'project:metap1#member@user:loki'. Reason: type 'user' is not an allowed type restriction for project#member`. my tuple was the same as the question:
```
USER user:loki
RELATION member
OBJECT project:metap1
```
"
1165,aaguiarz,2023-11-21 10:41:08,"I'm sorry, the model is:

model
  schema 1.1
```
type user

type organization
  relations
    define owner: [user]
    define member: [user] or owner
    
type project
  relations
    define parent: [organization]
    define manager: [user]
    define member: member from organization
    define can_add_member:  manager or owner from parent
```

You can't write this tuple

```
USER user:loki
RELATION member
OBJECT project:metap1
```

Because you can't assign the 'member' relation in the `project` type. If you want to achieve that, you'll need to change the member definition to:

` define member: [user] or member from parent`

With the first two tuples you defined, you can check if user:loki is a member for project:metap1, and it should return true, given user:loki is a member of the organization:meta which is the parent from project:metap1.




"
1165,ruppo-912116,2023-11-21 10:49:58,"@aaguiarz,
 
 ``` define member: [user] or member from organization ```

 adds users who are not even in the organization. it adds users regardless of the organization they are members of. i tried a different user flash who is associated with the other organization but the user was still added. also, the graph does not show the organization at all [both for flash and loki].

![image](https://github.com/openfga/openfga/assets/84317977/c3cb2a53-c99e-4186-bf07-dad6093f14e8)
"
1165,aaguiarz,2023-11-21 11:02:38,"Yes, the model allows adding any user. If you want to enforce that the `member` relationship will only exist if the users are member of the organization, then you'd write

` define member: [user] and member from parent`

However, given your application is the one adding tuples, you could verify yourself that the user is part of the organization before adding it.

"
1165,ruppo-912116,2023-11-21 11:11:43,"@aaguiarz 
I had the same idea using `and` operator but it also does not seem to work, surprisingly. 
I think I need to add the extra bit of logic on my application. 
thank you for helping.

[edited: using the and operator does work when asserting. I was confused when adding the tuples in the playground.]"
1154,aaguiarz,2023-11-21 13:11:54,"Hi @aaronschweig 

I saw you are trying to build an 'We want to achieve an open by default role based model within OpenFGA which does not need model changes to define new roles and assignments for users', can you elaborate on that? I have a hard time understanding what you want to achieve with the model above.




"
1154,miparnisari,2023-11-21 17:47:47,@aaronschweig those metrics look good 👍 do you have any metrics on the networking between the OpenFGA replicas and the database? Are they deployed in the same datacenter?
1082,jon-whit,2023-11-21 18:58:55,"Thinking out loud here - The motivation behind this work is to help with the N*M query problem. The way I look at it this problem has 2 components, the cardinality/volume problem and the rate of expansion (e.g. subproblem evaluation) problem. Both are important, because they both lead to significant contention. 

Reducing the cardinality and volume problem by properly cancelling further expansion of subproblems is of upmost importance, because that’s how we reduce the dispatched calls altogether. 

But for further reliability we also need to reduce the rate of expansion when/if we encounter a query that leads to excessive expansion (e.g. at some point we hit a query expansion threshold and we need to start slowing the expansion down). The ultimate safe guard for us is the timeout of 3s, but if we don’t slow that expansion rate in an effective manner, then we can do a lot of saturation in 3s.

The purpose of this issue is to address the second bit ☝️ , but before doing so we really should make sure we're doing everything we can to reduce the cardinality problem first (reduce the breadth of N*M before tackling the expansion rate)."
1154,aaronschweig,2023-11-21 19:46:16,"> Hi @aaronschweig
> 
> I saw you are trying to build an 'We want to achieve an open by default role based model within OpenFGA which does not need model changes to define new roles and assignments for users', can you elaborate on that? I have a hard time understanding what you want to achieve with the model above.

Well if the model is that bad 😋 No thanks for reaching out! Let me try to clarify verbally what was tried of being achieved with this model and maybe you can also give feedback if we did it right or if it was constructed wrongly.

To give a little bit of context: I've cut a few other types away from the model as we did not fill them yet and to keep it simple for the purpose of investigating what causes our issue. We are building an internal developer portal which by design should allow every member of the company to be able to ""read"" any project within the company. We also have more than one tenant and a 1:n relationship between a tenant and projects.

We also wanted to achieve the goal of being able to modify the permissions this model can grant without the need of modifying relations in the model itself - this is why we chose to go with the concept of roles (of course the role type needs the relations to store concrete permissions like ""can create a project"", ""can read project"" and many more in the future) and rolebindings, which allow us to attach a role to either level of the hierarchy in the end - so we can grant permissions either on tenant level, project level and so one with a few levels below. This would, at least in our heads, allow us to simultaneously grant permissions (like reading projects) on tenant level rather than storing it for each user in every project, and also give more fine grained permissions or end-user customised roles on various entities in the entire system. It was also planned to store some technical permission within the same model, e.g. if a service A is allowed to perform a certain action on an entity in the model. This would allow us to cover a lot of use cases and problems with one solution rather than trying to streamline a lot of solutions for all the individual problems.

This is also why we went with `user:*` to achieve this ""allow by default"" behaviour for reading and creating projects as every user in the systems (with some exceptions covered by a different role) should be able to perform this actions. So on login of a user we make sure this 

```yaml
 - user: user:anne
    relation: user
    object: rb:anne-tenant_a
  - user: role:tenant-employee
    relation: role
    object: rb:anne-tenant_a
  - user: rb:anne-tenant_a
    relation: granted
    object: tenant:a
 ```

tuple set is granted on tenant level so the user is able to read projects and also to create projects.

We also saw within the documentation and the more advanced examples that our approach doesn't seem to be very popular in not storing the concrete permissions as relations and we also had struggle figuring out how to achieve this ""allow reading for everybody"" approach could be properly realised. 

There is also a blogpost from authzed which defines a model that is quite similar to what we want to achieve as well https://authzed.com/blog/google-cloud-iam-modeling

I hope I could shed some light onto our idea and already thank you so much for jumping in and taking care of our (probably self-injected) problems! I am very happy for some feedback to the model and if we have the right mental model for what we want to achieve with openfga!"
1166,codecov[bot],2023-11-21 22:44:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `8 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`65283c2`)](https://app.codecov.io/gh/openfga/openfga/commit/65283c2e627814c6130cd8127ed0f629895afded?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.58% compared to head [(`aa406e2`)](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | 50.00% | [4 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | 80.00% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1166      +/-   ##
==========================================
- Coverage   82.58%   82.31%   -0.26%     
==========================================
  Files          70       70              
  Lines        8338     8359      +21     
==========================================
- Hits         6885     6880       -5     
- Misses       1154     1172      +18     
- Partials      299      307       +8     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1166?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1159,jon-whit,2023-11-21 22:58:50,@dependabot rebase
1158,jon-whit,2023-11-21 23:15:28,@dependabot rebase
1158,codecov[bot],2023-11-21 23:20:50,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1158?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`e50a479`)](https://app.codecov.io/gh/openfga/openfga/commit/e50a47919d42838e7ff743f04e35e2fd2eb4f814?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`01e1e33`)](https://app.codecov.io/gh/openfga/openfga/pull/1158?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1158      +/-   ##
==========================================
- Coverage   82.46%   82.43%   -0.02%     
==========================================
  Files          70       70              
  Lines        8399     8399              
==========================================
- Hits         6925     6923       -2     
- Misses       1167     1169       +2     
  Partials      307      307              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1158?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1055,jon-whit,2023-11-21 23:27:51,"> Reminder: [#1055 (comment)](https://github.com/openfga/openfga/pull/1055#issuecomment-1756394082)

It's more reliability than performance."
1161,jon-whit,2023-11-22 04:48:45,https://github.com/openfga/openfga/pull/1166
1169,codecov[bot],2023-11-22 21:57:56,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1169?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@bf85669`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1169   +/-   ##
============================================
  Coverage             ?   80.83%           
============================================
  Files                ?       84           
  Lines                ?     9507           
  Branches             ?        0           
============================================
  Hits                 ?     7684           
  Misses               ?     1447           
  Partials             ?      376           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1169?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1170,codecov[bot],2023-11-23 20:15:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1170?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`19822e2`)](https://app.codecov.io/gh/openfga/openfga/commit/19822e2a0e4702c07074069e006c8d1a86132fae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37% compared to head [(`e61b904`)](https://app.codecov.io/gh/openfga/openfga/pull/1170?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1170      +/-   ##
==========================================
- Coverage   82.37%   82.25%   -0.11%     
==========================================
  Files          70       70              
  Lines        8342     8342              
==========================================
- Hits         6871     6861      -10     
- Misses       1166     1173       +7     
- Partials      305      308       +3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1170?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1171,codecov[bot],2023-11-24 18:27:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1171?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`edaf54b`)](https://app.codecov.io/gh/openfga/openfga/commit/edaf54b0b33fceb802ec40495be730f1e7129cef?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25% compared to head [(`e2943e2`)](https://app.codecov.io/gh/openfga/openfga/pull/1171?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1171      +/-   ##
==========================================
+ Coverage   82.25%   82.31%   +0.07%     
==========================================
  Files          70       70              
  Lines        8342     8338       -4     
==========================================
+ Hits         6861     6863       +2     
+ Misses       1174     1169       -5     
+ Partials      307      306       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1171?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1171,miparnisari,2023-11-24 19:26:23,"@adriantam it's in the Pr summary

<img width=""1264"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/5eb37437-aa7a-46c0-baf2-1fb70b9b6bf1"">

The last column is the one that matters, less than 1 means improvement over `main`, more than 1 means regression.

🤔 I need a new benchmark that runs lots of tuple validations, which is where I expect this PR would show an improvement..."
1171,miparnisari,2023-11-24 19:47:10,"@adriantam  it looks like nearly double as fast based on number of iterations made :D 

On main:

```
[24/11/23 11:43:47] ~/GitHub/openfga (main) $ go test ./internal/validation -bench=BenchmarkValidateTuple  -cpu 1 -benchmem -benchtime 5s -timeout 0 -run=^a
goos: darwin
goarch: amd64
pkg: github.com/openfga/openfga/internal/validation
cpu: Intel(R) Core(TM) i5-1038NG7 CPU @ 2.00GHz
BenchmarkValidateTuple   1292979              4639 ns/op            1232 B/op         11 allocs/op
PASS
ok      github.com/openfga/openfga/internal/validation  11.159s
```

This PR:

```
[24/11/23 11:45:22] ~/GitHub/openfga (perf-improv) $  go test ./internal/validation -bench=BenchmarkValidateTuple  -cpu 1 -benchmem -benchtime 5s -timeout 0 -run=^a
goos: darwin
goarch: amd64
pkg: github.com/openfga/openfga/internal/validation
cpu: Intel(R) Core(TM) i5-1038NG7 CPU @ 2.00GHz
BenchmarkValidateTuple   2022118              3015 ns/op             120 B/op          3 allocs/op
PASS
ok      github.com/openfga/openfga/internal/validation  9.404s
```"
1173,codecov[bot],2023-11-24 21:15:33,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `2 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`1f55b44`)](https://app.codecov.io/gh/openfga/openfga/commit/1f55b4425c55b8a510846b6fb7b45e75dabcec15?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.68% compared to head [(`becec13`)](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.55%.
> Report is 1 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [...kg/server/commands/reverseexpand/reverse\_expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9yZXZlcnNlZXhwYW5kL3JldmVyc2VfZXhwYW5kLmdv) | 93.34% | [2 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1173      +/-   ##
==========================================
- Coverage   82.68%   82.55%   -0.12%     
==========================================
  Files          83       83              
  Lines        9646     9644       -2     
==========================================
- Hits         7975     7961      -14     
- Misses       1321     1330       +9     
- Partials      350      353       +3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1173?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1055,miparnisari,2023-11-24 22:37:43,"[Look at the benchmark results](https://github.com/openfga/openfga/actions/runs/6960789487). I see big improvements in memory consumption for Postgres and Memory (MYSQL was unaffected apparently) in ListObjects 

<img width=""1638"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/870f3fa4-dd29-4ea9-9bb5-c43b0ff7a1ed"">

"
1138,miparnisari,2023-11-26 09:20:09,"Instead of using a third party library I prefer that first we consider updating our existing code:

- use RWLocks 
- have one RWLock per Backend Type
- call Lock in writes and RLock in reads
- reduce our critical sections

It's also an option to use [`sync.Map`](https://pkg.go.dev/sync#Map) instead of regular Go maps."
1169,jpadilla,2023-11-27 16:43:58,"> Can you post a cURL command showing how the error looks from a client perspective? I'm interested in the HTTP status code

@miparnisari its a 404

```
< HTTP/1.1 404 Not Found
< Content-Type: application/json
< Openfga-Store-Id: 01HG8S8A7PXD6Q8NF15DR0S7T6
< Vary: Origin
< X-Request-Id: c403158f-32b1-41eb-996f-916ee2fe4ceb
< Date: Mon, 27 Nov 2023 16:31:12 GMT
< Content-Length: 62
<
{""code"":""unimplemented"",""message"":""conditions not supported""}
```"
1175,codecov[bot],2023-11-27 18:32:40,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1175?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`b377836`)](https://app.codecov.io/gh/openfga/openfga/commit/b377836c574d51048be535dbb5b0fa2476749c61?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25% compared to head [(`1afc41e`)](https://app.codecov.io/gh/openfga/openfga/pull/1175?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1175      +/-   ##
==========================================
- Coverage   82.25%   82.23%   -0.02%     
==========================================
  Files          70       70              
  Lines        8359     8359              
==========================================
- Hits         6875     6873       -2     
- Misses       1176     1177       +1     
- Partials      308      309       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1175?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1177,jon-whit,2023-11-27 21:39:45,"Using `NOW()` in both the Postgres and MySQL implementations is naive. It returns the timestamp at which the statement involving the `NOW()` is started, but not the commit timestamp of the transaction. For example:

**txn1** starts first
```
BEGIN;
INSERT INTO table (some_timestamp) VALUES (""NOW()"");
pg_sleep(10);
COMMIT;
```

**txn2** starts milliseconds afterwards,
```
BEGIN;
INSERT INTO table (some_timestamp) VALUES (""NOW()"");
COMMIT;
```

txn2 commits and therefore is written before txn1, but from the observer that queries by timestamp it will appear that txn1 committed before txn2. 

**tl;dr** - timestamps should be avoided to establish commit order. Atomically incrementing numeric values should be preferrable if order is important but temporality not so much.. This is because atomically incrementing numerics (such as BIGSERIAL) are more widely supported than transaction commit timestamps across database choices. Case in point, MySQL.

The problem is that the `NOW()` function returns the statement timestamp, not the commit timestamp. Depending on timestamp ordering is not safe if you're going to use the `NOW()` function. It's more preferrable to use a autoincrementing revision or some numerical column that is strictly increasing. Such values can be more easily obtained from a `BIGSERIAL` value. However, if a timestamp is important there are some options to get a transaction commit timestamp, but support for it is spotty across different databases, for exapmle I'm not sure MySQL has a commit timestamp precisely, but Postgres has https://www.postgresql.org/docs/current/runtime-config-replication.html#GUC-TRACK-COMMIT-TIMESTAMP and https://www.postgresql.org/docs/current/functions-info.html#FUNCTIONS-COMMIT-TIMESTAMP"
1176,codecov[bot],2023-11-27 22:26:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1176?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@21ddfa4`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1176   +/-   ##
============================================
  Coverage             ?   80.74%           
============================================
  Files                ?       84           
  Lines                ?     9495           
  Branches             ?        0           
============================================
  Hits                 ?     7666           
  Misses               ?     1452           
  Partials             ?      377           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1176?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1178,codecov[bot],2023-11-27 23:23:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1178?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@21ddfa4`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1178   +/-   ##
============================================
  Coverage             ?   80.81%           
============================================
  Files                ?       84           
  Lines                ?     9507           
  Branches             ?        0           
============================================
  Hits                 ?     7682           
  Misses               ?     1449           
  Partials             ?      376           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1178?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1179,codecov[bot],2023-11-28 00:27:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1179?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`1a008fd`)](https://app.codecov.io/gh/openfga/openfga/commit/1a008fd6d3bd164309b46392bc9a498486c77ba8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26% compared to head [(`aa79cbe`)](https://app.codecov.io/gh/openfga/openfga/pull/1179?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1179      +/-   ##
==========================================
+ Coverage   82.26%   82.48%   +0.22%     
==========================================
  Files          83       83              
  Lines        9557     9567      +10     
==========================================
+ Hits         7861     7890      +29     
+ Misses       1343     1330      -13     
+ Partials      353      347       -6     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1179?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1180,codecov[bot],2023-11-28 01:22:42,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `4 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`b377836`)](https://app.codecov.io/gh/openfga/openfga/commit/b377836c574d51048be535dbb5b0fa2476749c61?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25% compared to head [(`a3787de`)](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.
> Report is 1 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/storage/memory/memory.go](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWVtb3J5L21lbW9yeS5nbw==) | 93.85% | [2 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1180      +/-   ##
==========================================
- Coverage   82.25%   82.23%   -0.01%     
==========================================
  Files          70       71       +1     
  Lines        8359     8389      +30     
==========================================
+ Hits         6875     6898      +23     
- Misses       1176     1181       +5     
- Partials      308      310       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1180?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1181,aaguiarz,2023-11-28 13:02:43,"Hi @ofeksher not yet, but it's supported in the [CLI](https://github.com/openfga/cli#run-tests-on-an-authorization-model), you can see how we use them in our examples [here](https://github.com/openfga/sample-stores/blob/main/stores/advanced-entitlements/store.fga.yaml) 

Let me know if that helps"
1182,codecov[bot],2023-11-28 15:21:37,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1182?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@db636ae`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1182   +/-   ##
============================================
  Coverage             ?   81.19%           
============================================
  Files                ?       83           
  Lines                ?     9435           
  Branches             ?        0           
============================================
  Hits                 ?     7660           
  Misses               ?     1406           
  Partials             ?      369           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1182?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1179,jon-whit,2023-11-28 16:02:34,@adriantam please cross-reference with the update to the protobuf API for the OpenAPI changes.
1175,jon-whit,2023-11-28 16:08:58,@dependabot rebase
1138,miparnisari,2023-11-28 19:19:05,As part of this task we should also consider doing https://github.com/openfga/openfga/pull/1180#discussion_r1408152863. Get rid of `memory.staticIterator` in favor of the other generic static iterator in `pkg/storage/iterators.go`.
1154,aaronschweig,2023-11-28 20:00:23,Hey @miparnisari sorry that it took me so long to answer - we are currently investigating the networking situation between the openfga deployment and our database in GCP. Once I have concrete numbers I will get back to you. We also want to check if the latency gets better if we are (just for testing things out) deploying the database within the same cluster.
1183,codecov[bot],2023-11-28 20:25:38,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1183?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@9d26b1a`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1183   +/-   ##
============================================
  Coverage             ?   80.84%           
============================================
  Files                ?       84           
  Lines                ?     9495           
  Branches             ?        0           
============================================
  Hits                 ?     7675           
  Misses               ?     1445           
  Partials             ?      375           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1183?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1177,miparnisari,2023-11-28 20:40:54,"I don't see how your second comment applies to this issue.

We need to change `inserted_at=NOW()` to `inserted_at=convert_to_ts(ULID)`"
1163,jon-whit,2023-11-28 23:31:04,"> Re:
> 
> > todo: wire up Write API to enforce context size limits as well. They should share the same underlying validation code.
> 
> Why do you need to modify Write API especially? By putting it in the middleware, all APIs will receive the validation

The middleware operates on a request-body structure that assumes `context` is a top-level field. In the Write API `context` is an embedded field per tuple being written. If N tuples are being written, N context inputs have to be validated. That's what I mean.."
1185,codecov[bot],2023-11-29 16:50:52,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1185?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`9f3ff6e`)](https://app.codecov.io/gh/openfga/openfga/commit/9f3ff6e93263541abdd6e307f6be76033a6bbe35?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.17% compared to head [(`4457e0a`)](https://app.codecov.io/gh/openfga/openfga/pull/1185?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.15%.


<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1185      +/-   ##
=============================================
- Coverage      81.17%   81.15%   -0.01%     
=============================================
  Files             83       83              
  Lines           9483     9480       -3     
=============================================
- Hits            7697     7693       -4     
- Misses          1415     1416       +1     
  Partials         371      371              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1185?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1186,codecov[bot],2023-11-29 19:48:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1186?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`bdf1330`)](https://app.codecov.io/gh/openfga/openfga/commit/bdf1330aee9443527a4b4cdb5fb1b62d78d35671?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34% compared to head [(`55a1d41`)](https://app.codecov.io/gh/openfga/openfga/pull/1186?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1186   +/-   ##
=======================================
  Coverage   82.34%   82.34%           
=======================================
  Files          71       71           
  Lines        8422     8422           
=======================================
  Hits         6934     6934           
  Misses       1179     1179           
  Partials      309      309           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1186?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1187,codecov[bot],2023-11-29 20:36:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `13 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`0d64d89`)](https://app.codecov.io/gh/openfga/openfga/commit/0d64d89ea3e8cbf90cb59c5c25c033f565857a0e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`5a1322a`)](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.27%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/keys/hasher.go](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwva2V5cy9oYXNoZXIuZ28=) | 77.78% | [4 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/graph/cached\_resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2FjaGVkX3Jlc29sdmVyLmdv) | 73.34% | [2 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [internal/keys/keys.go](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwva2V5cy9rZXlzLmdv) | 78.58% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1187      +/-   ##
==========================================
- Coverage   82.30%   82.27%   -0.03%     
==========================================
  Files          71       73       +2     
  Lines        8423     8463      +40     
==========================================
+ Hits         6932     6962      +30     
- Misses       1181     1187       +6     
- Partials      310      314       +4     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1187?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1132,github-actions[bot],2023-11-30 01:50:49,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1118,github-actions[bot],2023-11-30 01:50:52,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1090,github-actions[bot],2023-11-30 01:50:54,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1066,github-actions[bot],2023-11-30 01:50:56,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1048,github-actions[bot],2023-11-30 01:50:58,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1040,github-actions[bot],2023-11-30 01:51:00,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1025,github-actions[bot],2023-11-30 01:51:02,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1024,github-actions[bot],2023-11-30 01:51:04,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1188,miparnisari,2023-11-30 16:04:12,Hi @sasanknvs! We currently do not expose an endpoint from the OpenFGA server with the Swagger file. Is this a feature that you'd be interested in?
1190,linux-foundation-easycla[bot],2023-11-30 17:29:05,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: nickstanish / name: Nick Stanish  (52c3429ffa525150accbe657ed09053974ca40a8)</li></ul>"
1191,jon-whit,2023-11-30 19:21:48,"Just a sanity check here - If you attempt to Write a model with conditions when `enable-conditions=false`, then you get a 404 NotFound for the Unimplemented code. This is the default gRPC status code mapping between Unimplemented and the HTTP code. I'm wondering if it makes more sense to return a 400 BadRequest (e.g. INVALID_ARGUMENT code) instead? The endpoint exists, and the functionality is defined, but the input provided is invalid given the server configurations. So it feels a bit more like an input issues, not a server routing or resource missing issue.

WDYT?

<img width=""1255"" alt=""Screenshot 2023-11-30 at 12 17 06 PM"" src=""https://github.com/openfga/openfga/assets/2899204/7c714d39-97b8-4d0c-a110-04284b858587"">
"
1191,codecov[bot],2023-11-30 19:54:27,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1191?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`571c76a`)](https://app.codecov.io/gh/openfga/openfga/commit/571c76ac6409c0fd42f3c44d412030e7276dcf5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.15% compared to head [(`c5b5d4f`)](https://app.codecov.io/gh/openfga/openfga/pull/1191?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 81.21%.


<details><summary>Additional details and impacted files</summary>


```diff
@@              Coverage Diff              @@
##           feat/abac    #1191      +/-   ##
=============================================
+ Coverage      81.15%   81.21%   +0.06%     
=============================================
  Files             83       83              
  Lines           9480     9474       -6     
=============================================
  Hits            7693     7693              
+ Misses          1416     1412       -4     
+ Partials         371      369       -2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1191?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1193,codecov[bot],2023-11-30 20:28:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1193?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`5cab5b0`)](https://app.codecov.io/gh/openfga/openfga/commit/5cab5b0cbb1c7bc99cb8e414f65f92ee8fc2a07a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51% compared to head [(`1cb3762`)](https://app.codecov.io/gh/openfga/openfga/pull/1193?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1193      +/-   ##
==========================================
- Coverage   82.51%   82.43%   -0.08%     
==========================================
  Files          83       83              
  Lines        9625     9625              
==========================================
- Hits         7941     7933       -8     
- Misses       1333     1339       +6     
- Partials      351      353       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1193?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1196,codecov[bot],2023-11-30 21:36:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1196?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4d869e5`)](https://app.codecov.io/gh/openfga/openfga/commit/4d869e5e8304b331d8269f634aa4670189430671?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36% compared to head [(`1d954fc`)](https://app.codecov.io/gh/openfga/openfga/pull/1196?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1196      +/-   ##
==========================================
+ Coverage   82.36%   82.36%   +0.01%     
==========================================
  Files          71       71              
  Lines        8422     8423       +1     
==========================================
+ Hits         6936     6937       +1     
  Misses       1177     1177              
  Partials      309      309              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1196?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1197,codecov[bot],2023-11-30 22:22:29,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1197?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> :exclamation: No coverage uploaded for pull request base (`feat/abac@e9f6d4d`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#section-missing-base-commit).


<details><summary>Additional details and impacted files</summary>


```diff
@@             Coverage Diff              @@
##             feat/abac    #1197   +/-   ##
============================================
  Coverage             ?   81.89%           
============================================
  Files                ?       83           
  Lines                ?     9501           
  Branches             ?        0           
============================================
  Hits                 ?     7780           
  Misses               ?     1365           
  Partials             ?      356           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1197?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1198,codecov[bot],2023-11-30 22:47:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1198?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0d64d89`)](https://app.codecov.io/gh/openfga/openfga/commit/0d64d89ea3e8cbf90cb59c5c25c033f565857a0e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`dd042d6`)](https://app.codecov.io/gh/openfga/openfga/pull/1198?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1198      +/-   ##
==========================================
+ Coverage   82.30%   82.37%   +0.07%     
==========================================
  Files          71       71              
  Lines        8423     8427       +4     
==========================================
+ Hits         6932     6941       +9     
+ Misses       1181     1177       -4     
+ Partials      310      309       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1198?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1001,github-actions[bot],2023-12-01 01:53:20,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1199,codecov[bot],2023-12-01 16:18:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `16 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`4f769e0`)](https://app.codecov.io/gh/openfga/openfga/commit/4f769e0f720e85289f7dca6edbebdbb4efc2129c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.05% compared to head [(`9f6beb3`)](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.02%.
> Report is 108 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/telemetry/noop.go](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9ub29wLmdv) | 40.00% | [6 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/telemetry/provider.go](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS9wcm92aWRlci5nbw==) | 57.15% | [4 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [cmd/run/run.go](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL3J1bi9ydW4uZ28=) | 93.34% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/telemetry/tracing.go](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3RlbGVtZXRyeS90cmFjaW5nLmdv) | 94.74% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1199      +/-   ##
==========================================
- Coverage   82.05%   82.02%   -0.02%     
==========================================
  Files          83       85       +2     
  Lines        9505     9543      +38     
==========================================
+ Hits         7798     7827      +29     
- Misses       1350     1358       +8     
- Partials      357      358       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1199?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
989,fsedano,2023-12-01 17:06:37,"@gmartin-flexe @rhamzeh  please let me add our use case here, where some uniqueness / predictability would be needed on the store IDs.

When we deploy our environment, which includes multiple separate services and an OpenFGA instance, it can be for a dev environment, for production, e2e and so on.

In the case of a dev environment, we want to offer the user a ready to use policy environment. So, as part of the deployment, latest policy model is loaded, a store is created etc.

The problem here is we want, for development environments, to:
- Automatically create the store if it does not exist
- Use the existing store if it exists (for example, developer re-deploys it's environment, we dont want to lose the data)
- Allow him to switch to a different store if needed.

For that, what we're doing is:
- There's a setting with the desired store name: 'defaultstore' by default
- When enviromnent is deployed, we check if a store exists with that name. If it exists, we return the store ID, else we create and return.
- Application can then use the resulting store ID.

This obviously fails if somebody creates more stores with the same name.

So, we would need either:
- Predictibility in the store ID (allowing us to pass the desired StoreID and error out if it exists)
- Use a unique attribute we can set (name for example).

Hope it helps clarifying the need.
"
1132,fsedano,2023-12-01 17:08:25,"@jon-whit @ashok-an I updated an existing issue for this same use case:

https://github.com/openfga/openfga/issues/989

Thanks,"
989,gmartin-flexe,2023-12-01 17:09:22,"@fsedano What you described is _exactly_ what I have implemented, and the exact reasons why I would appreciate uniqueness on stores :)
"
811,fsedano,2023-12-01 17:16:02,"On this aspect, I'd like to understand the best practices to deploy models in production. The proposed change here would break our model, which is as follows. We might be doing something wrong or overcomplicated, so please share any best practices available:

Our goal is for teams to be able to contribute to the policy models, allowing some control on what they can change. And to automate as much as possible deployment of such models to different environments.

To achieve that we:
- Have a git repo with parts of the policy. Each team owns a directory on that repo.
- Each team writes part of the policy and stores them as .pol files in the repo
- Every time there's a commit on that repo, a service consolidate all .pol files in that particular commit point and create a new policy model
- The git commit SHA and the policy model ID are returned by this service and available to the developer/user.

Then a developer, or the person in charge of the deployment can choose which model ID should be used on a particular environment, by deciding on which git commit/branch we want. For example, we can have a tag in the git repo that identifies a particular version.


For that to work, we need either each commit ID to have a model ID or at least, we would need if the model creation fails because it's the same as before, to have the previous model ID available as part of the response.

Thanks,
"
991,github-actions[bot],2023-12-02 01:49:14,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
972,github-actions[bot],2023-12-03 01:51:03,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
964,github-actions[bot],2023-12-03 01:51:05,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
951,github-actions[bot],2023-12-04 01:50:48,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1188,sasanknvs,2023-12-04 14:39:19,"> Hi @sasanknvs! We currently do not expose an endpoint from the OpenFGA server with the Swagger file. Is this a feature that you'd be interested in?

When I browse through this [link](https://openfga.dev/api/service#/) I see a Swagger interface already. I was trying to understand if that was already present in the openfga image ? If yes, where is the URL for that ?

If it is not already present, then it would be a good to have feature as the developer can easily play around with the API."
1202,codecov[bot],2023-12-04 15:23:20,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1202?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`fa07377`)](https://app.codecov.io/gh/openfga/openfga/commit/fa07377929654a7ff161cec4be65d0a90a611438?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`05c94b0`)](https://app.codecov.io/gh/openfga/openfga/pull/1202?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1202      +/-   ##
==========================================
+ Coverage   82.30%   82.39%   +0.09%     
==========================================
  Files          73       73              
  Lines        8463     8463              
==========================================
+ Hits         6965     6972       +7     
+ Misses       1185     1181       -4     
+ Partials      313      310       -3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1202?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1203,codecov[bot],2023-12-04 17:59:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1203?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`fa07377`)](https://app.codecov.io/gh/openfga/openfga/commit/fa07377929654a7ff161cec4be65d0a90a611438?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`ab77948`)](https://app.codecov.io/gh/openfga/openfga/pull/1203?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30%.
> Report is 4 commits behind head on main.

> :exclamation: Current head ab77948 differs from pull request most recent head af78746. Consider uploading reports for the commit af78746 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1203   +/-   ##
=======================================
  Coverage   82.30%   82.30%           
=======================================
  Files          73       73           
  Lines        8463     8463           
=======================================
  Hits         6965     6965           
  Misses       1185     1185           
  Partials      313      313           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1203?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1204,codecov[bot],2023-12-04 18:39:44,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1204?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`fa07377`)](https://app.codecov.io/gh/openfga/openfga/commit/fa07377929654a7ff161cec4be65d0a90a611438?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.30% compared to head [(`484df9d`)](https://app.codecov.io/gh/openfga/openfga/pull/1204?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.27%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1204      +/-   ##
==========================================
- Coverage   82.30%   82.27%   -0.03%     
==========================================
  Files          73       73              
  Lines        8463     8463              
==========================================
- Hits         6965     6962       -3     
- Misses       1185     1187       +2     
- Partials      313      314       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1204?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
811,viktorgt,2023-12-04 19:26:35,"We're also encountering challenges with deployment due to unexpected behavior, similar to the issue discussed here. 

> IMO if we add this it should not be at the API layer, it would be at the SDK/CLI layers - they can accept an optional `--reject-if-matching-latest` (or something similar, we can iterate on a better name).
> 
> In which case the SDKs should: 1- get latest model 2- remove unnecessary fields (e.g. ID) 3- normalize both (e.g. default all fields to empty state) 4- convert to json 5- do a hash that sorts the fields before hashing 6- compare the hashes
> 
> That said we would still have issues in eventually consistent environments. If you post, you might get an error that it matches latest even if latest has been updated in the meantime
> 
> For JS, this might be helpful (though it has not been maintained for a while): https://github.com/puleos/object-hash
> 
> The need to add an external dependency to do this reliably doesn't really increase my enthusiasm for doing this though, right now our SDKs have between 0 and 2 prod dependencies.

Considering that model creation is an API endpoint, which might be used by tools not dependent on the CLI, it seems more logical to include this feature at the API level. "
1205,jon-whit,2023-12-04 21:49:18,@dependabot rebase
1164,github-actions[bot],2023-12-05 01:50:48,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1207,stgraber,2023-12-05 02:10:24,"Worth noting that we had a similar issue in the past which was the result of setting Writes or Deletes to be `nil` rather than an empty `&[]client.ClientTupleKey{}`.

We noticed this issue when we started using Chunks with:
```
opts := client.ClientWriteOptions{
    AuthorizationModelId: openfga.PtrString(f.authModelID),
    Transaction: &client.TransactionOptions{
        Disable:             true,
        MaxParallelRequests: 5,
        MaxPerChunk:         50,
    },
}
```

I'll do a quick test now with Transactions enabled and chunking disabled to see if that fixes the issue in our testsuite, though not an actual option as we occasionally do need the chunking to deal with > 100 writes or deletes."
1207,stgraber,2023-12-05 02:12:12,"Nope, setting it to Disable=false does not fix this issue, server is still panicing."
1207,stgraber,2023-12-05 02:18:36,Starting a bisect from v1.3.7 to v1.3.8
1207,stgraber,2023-12-05 02:23:39,The winner is aa0c8162003a389263ee27c6be6731773bda0147
1207,stgraber,2023-12-05 02:25:06,"Which is unfortunate as that's a single massive commit which also bumps a bunch of external dependencies, so not exactly easy to isolate."
1207,stgraber,2023-12-05 02:27:15,"```patch
diff --git a/pkg/server/commands/write.go b/pkg/server/commands/write.go
index 9abe998..98cf834 100644
--- a/pkg/server/commands/write.go
+++ b/pkg/server/commands/write.go
@@ -65,9 +65,11 @@ func NewWriteCommand(datastore storage.OpenFGADatastore, opts ...WriteCommandOpt
 func (c *WriteCommand) Execute(ctx context.Context, req *openfgav1.WriteRequest) (*openfgav1.WriteResponse, error) {
        if !c.enableConditions {
                tks := req.GetWrites()
-               for _, tk := range tks.TupleKeys {
-                       if tk.Condition != nil {
-                               return nil, status.Error(codes.InvalidArgument, ""conditions not supported"")
+               if tks != nil {
+                       for _, tk := range tks.TupleKeys {
+                               if tk.Condition != nil {
+                                       return nil, status.Error(codes.InvalidArgument, ""conditions not supported"")
+                               }
                        }
                }
        }
```"
1207,stgraber,2023-12-05 02:27:54,"^ This avoids the crash here, no idea if that's the correct fix or if the issue should be handled before hitting this particular chunk of code, but it avoids accessing a property on a nil struct."
1208,codecov[bot],2023-12-05 03:37:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1208?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0bd6e1b`)](https://app.codecov.io/gh/openfga/openfga/commit/0bd6e1bf76e6043213b95d19923db9ccf50ab10d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.11% compared to head [(`6b378e7`)](https://app.codecov.io/gh/openfga/openfga/pull/1208?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.05%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1208      +/-   ##
==========================================
- Coverage   82.11%   82.05%   -0.06%     
==========================================
  Files          83       83              
  Lines        9504     9505       +1     
==========================================
- Hits         7803     7798       -5     
- Misses       1346     1350       +4     
- Partials      355      357       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1208?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1209,codecov[bot],2023-12-05 04:50:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1209?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4f769e0`)](https://app.codecov.io/gh/openfga/openfga/commit/4f769e0f720e85289f7dca6edbebdbb4efc2129c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.05% compared to head [(`d6ba472`)](https://app.codecov.io/gh/openfga/openfga/pull/1209?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.05%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1209   +/-   ##
=======================================
  Coverage   82.05%   82.05%           
=======================================
  Files          83       83           
  Lines        9505     9505           
=======================================
  Hits         7798     7798           
  Misses       1350     1350           
  Partials      357      357           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1209?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1210,codecov[bot],2023-12-05 04:53:34,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1210?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`543df50`)](https://app.codecov.io/gh/openfga/openfga/commit/543df50337ad17a63eb22d82e38e121e60fefb1d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.17% compared to head [(`4b33daa`)](https://app.codecov.io/gh/openfga/openfga/pull/1210?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1210      +/-   ##
==========================================
+ Coverage   82.17%   82.20%   +0.04%     
==========================================
  Files          83       83              
  Lines        9572     9572              
==========================================
+ Hits         7865     7868       +3     
+ Misses       1350     1348       -2     
+ Partials      357      356       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1210?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1211,jpadilla,2023-12-05 13:48:52,"@jamesharv thanks for the report, working on a fix and added test coverage on #1212 "
1212,codecov[bot],2023-12-05 13:50:57,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1212?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`912a350`)](https://app.codecov.io/gh/openfga/openfga/commit/912a350a6440406da273e29ae9f9b26aa4c800f6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.08% compared to head [(`878b6a7`)](https://app.codecov.io/gh/openfga/openfga/pull/1212?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20%.

> :exclamation: Current head 878b6a7 differs from pull request most recent head 37549dc. Consider uploading reports for the commit 37549dc to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1212      +/-   ##
==========================================
+ Coverage   82.08%   82.20%   +0.13%     
==========================================
  Files          83       83              
  Lines        9505     9571      +66     
==========================================
+ Hits         7801     7867      +66     
  Misses       1348     1348              
  Partials      356      356              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1212?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1190,jon-whit,2023-12-05 15:50:56,"@nickstanish seems these changes are specifically necessary _because of_ Github actions. Other integrations that depend on the image are able to provide `command` definitions just fine.

I think as a maintainer team we should be inclined to not make changes because of other short comings in other integrations elsewhere. The default entrypoint of the top-level binary makes sense, because there are multiple tools/processes bundled into the binary, namely `run` and `migrate` (and maybe more down the road). If you run the image the default should be to show you what options are bundled in the image."
1190,nickstanish,2023-12-05 17:50:01,">  If you run the image the default should be to show you what options are bundled in the image

This is a different experience than I've seen with other server images such as postgres, redis, nginx, etc. Personally I think this default behavior makes it easier to adopt, but I agree about the additional maintenance and documentation needed to support it. In that case, I will close this"
1213,codecov[bot],2023-12-05 22:54:09,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1213?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`127b470`)](https://app.codecov.io/gh/openfga/openfga/commit/127b470f5dc8f877c90baf562433c194bb34d6b2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`50817c4`)](https://app.codecov.io/gh/openfga/openfga/pull/1213?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.19%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1213      +/-   ##
==========================================
- Coverage   82.23%   82.19%   -0.04%     
==========================================
  Files          83       83              
  Lines        9572     9572              
==========================================
- Hits         7871     7867       -4     
- Misses       1346     1349       +3     
- Partials      355      356       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1213?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1214,codecov[bot],2023-12-06 00:17:37,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1214?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`127b470`)](https://app.codecov.io/gh/openfga/openfga/commit/127b470f5dc8f877c90baf562433c194bb34d6b2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`69d7b6c`)](https://app.codecov.io/gh/openfga/openfga/pull/1214?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1214      +/-   ##
==========================================
- Coverage   82.23%   82.20%   -0.03%     
==========================================
  Files          83       83              
  Lines        9572     9572              
==========================================
- Hits         7871     7868       -3     
- Misses       1346     1348       +2     
- Partials      355      356       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1214?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1167,github-actions[bot],2023-12-06 01:50:34,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1082,github-actions[bot],2023-12-06 01:50:37,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1215,rhamzeh,2023-12-06 12:08:10,"Hi @fsedano! Thanks for asking.

Right now we do not have it yet, however it is an upcoming feature in [our roadmap as ListUsers](https://github.com/orgs/openfga/projects/1/views/1?pane=issue&itemId=24490812)

Until we have that endpoint, you can get the same result by recursively calling [Expand](https://openfga.dev/api/service#/Relationship%20Queries/Expand) to re-build the graph permissions on your end and get the list of users with access.

You can see that being done in the Playground for example when you query something like: `who is related to repo:openfga/openfga as admin?` in the sample GitHub Store
<img width=""1862"" alt=""Screenshot 2023-12-06 at 8 57 21 AM"" src=""https://github.com/openfga/openfga/assets/536147/6a825ca1-c432-4f15-9df3-154e40b4fa7b"">

Canonical did the same by wrapping Expand: https://github.com/canonical/ofga/blob/main/client.go#L490-L522

"
1188,jon-whit,2023-12-06 16:43:20,"@sasanknvs - As @miparnisari mentioned we do not yet serve the OpenAPI specification from the server at the moment. I agree this would be a nice addition. We should have a well-known endpoint serving the OpenAPI spec. That being said, if you're using the gRPC API we do expose [gRPC server reflection](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md). If you're using a tool like Postman or something similar, you can generate sample gRPC requests by using the reflection protocol.

<img width=""1514"" alt=""Screenshot 2023-12-06 at 9 41 20 AM"" src=""https://github.com/openfga/openfga/assets/2899204/e514e556-77a0-42ab-ae94-436f2bad4e08"">


"
1048,mjarosie,2023-12-06 17:00:01,Sorry I didn't have time to take a look at it yet. Hopefully soon!
1211,jon-whit,2023-12-06 17:29:56,@jamesharv the issue should be resolved in the `v1.3.9` release. Could you please upgrade and confirm?
1207,jon-whit,2023-12-06 17:30:57,"@stgraber could you also verify the `v1.3.9` release is good? These changes were included in that release, so it should be good, but I just the confirmation to come from your end just to make sure we're good."
1207,stgraber,2023-12-06 17:47:33,"Hey @jon-whit, I just opened a PR against Incus now to revert our tests to using `latest`.
If that all passes, then we'll know that v1.3.9 is behaving. I'll let you know."
1207,stgraber,2023-12-06 18:30:36,All good!
1138,jon-whit,2023-12-06 19:12:19,"@miparnisari your suggestion neglects the main objective

> It heavily makes use of a shared mutex that is shared across reads and writes.

Since people are using in-memory for production usages, we want to avoid shared lock contention to improve performance. Existing packages provide such primitives and I think we should consider them since implementing such primitives is not trivial. Non-overlapping keys should avoid a shared/common mutex. Your suggestion does not account for that. In your suggestion all reads will share a read lock and all writes will also contend with the read locks. That's what we're trying to avoid. Contention should be more confined to reads and writes on overlapping keys, not more globally across reads and writes."
1155,github-actions[bot],2023-12-07 01:50:38,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1138,miparnisari,2023-12-07 02:38:15,"Ah my solution (based on purely gut feeling 😆)  was assuming that most OpenFGA customers have only one store. 
But still, it would be a nice N+1. For N+2 we could consider a library 👍 "
1217,codecov[bot],2023-12-07 19:44:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1217?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2b0ec48`)](https://app.codecov.io/gh/openfga/openfga/commit/2b0ec4807d42bed122b0c5afee605d0160b309f5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`cb4b9dd`)](https://app.codecov.io/gh/openfga/openfga/pull/1217?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.20%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1217      +/-   ##
==========================================
- Coverage   82.23%   82.20%   -0.02%     
==========================================
  Files          83       83              
  Lines        9572     9584      +12     
==========================================
+ Hits         7871     7878       +7     
- Misses       1346     1350       +4     
- Partials      355      356       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1217?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1200,codecov[bot],2023-12-07 21:14:26,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1200?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2b0ec48`)](https://app.codecov.io/gh/openfga/openfga/commit/2b0ec4807d42bed122b0c5afee605d0160b309f5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`666c89e`)](https://app.codecov.io/gh/openfga/openfga/pull/1200?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1200      +/-   ##
==========================================
+ Coverage   82.23%   82.37%   +0.14%     
==========================================
  Files          83       83              
  Lines        9572     9587      +15     
==========================================
+ Hits         7871     7896      +25     
+ Misses       1346     1338       -8     
+ Partials      355      353       -2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1200?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1218,codecov[bot],2023-12-08 17:27:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1218?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`a87ccce`)](https://app.codecov.io/gh/openfga/openfga/commit/a87cccedeb13d7b913130aaa37ca420a8d5bc41d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`ce4ef84`)](https://app.codecov.io/gh/openfga/openfga/pull/1218?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31%.

> :exclamation: Current head ce4ef84 differs from pull request most recent head d8b6c15. Consider uploading reports for the commit d8b6c15 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1218      +/-   ##
==========================================
- Coverage   82.39%   82.31%   -0.07%     
==========================================
  Files          83       83              
  Lines        9587     9587              
==========================================
- Hits         7898     7891       -7     
- Misses       1337     1342       +5     
- Partials      352      354       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1218?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1219,codecov[bot],2023-12-08 17:30:38,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1219?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`ac3af79`)](https://app.codecov.io/gh/openfga/openfga/commit/ac3af79fcbabe5e0180efbbf5bb588712a044160?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.35% compared to head [(`b5fedbe`)](https://app.codecov.io/gh/openfga/openfga/pull/1219?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1219      +/-   ##
==========================================
+ Coverage   82.35%   82.36%   +0.02%     
==========================================
  Files          83       83              
  Lines        9587     9587              
==========================================
+ Hits         7894     7895       +1     
+ Misses       1340     1339       -1     
  Partials      353      353              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1219?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1220,codecov[bot],2023-12-08 17:36:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1220?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f53b9d5`)](https://app.codecov.io/gh/openfga/openfga/commit/f53b9d5b29bfe26dfd479985c72443a4c32bd563?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`27d5fab`)](https://app.codecov.io/gh/openfga/openfga/pull/1220?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1220      +/-   ##
==========================================
- Coverage   82.38%   82.23%   -0.14%     
==========================================
  Files          83       83              
  Lines        9587     9555      -32     
==========================================
- Hits         7897     7857      -40     
- Misses       1338     1344       +6     
- Partials      352      354       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1220?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1221,codecov[bot],2023-12-08 18:44:01,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1221?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c01b461`)](https://app.codecov.io/gh/openfga/openfga/commit/c01b4615f19e0e83a86343d8065dafe9410cae11?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26% compared to head [(`b746746`)](https://app.codecov.io/gh/openfga/openfga/pull/1221?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1221      +/-   ##
==========================================
+ Coverage   82.26%   82.26%   +0.01%     
==========================================
  Files          83       83              
  Lines        9555     9557       +2     
==========================================
+ Hits         7859     7861       +2     
  Misses       1342     1342              
  Partials      354      354              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1221?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1222,jon-whit,2023-12-08 22:31:38,- [x] todo: add a server level test for this
1222,codecov[bot],2023-12-08 22:35:09,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1222?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`c01b461`)](https://app.codecov.io/gh/openfga/openfga/commit/c01b4615f19e0e83a86343d8065dafe9410cae11?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26% compared to head [(`e0ff047`)](https://app.codecov.io/gh/openfga/openfga/pull/1222?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29%.

> :exclamation: Current head e0ff047 differs from pull request most recent head a54ff4a. Consider uploading reports for the commit a54ff4a to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1222      +/-   ##
==========================================
+ Coverage   82.26%   82.29%   +0.04%     
==========================================
  Files          83       83              
  Lines        9555     9557       +2     
==========================================
+ Hits         7859     7864       +5     
+ Misses       1342     1340       -2     
+ Partials      354      353       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1222?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
974,github-actions[bot],2023-12-09 01:49:51,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1045,github-actions[bot],2023-12-11 01:50:44,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1224,jon-whit,2023-12-11 16:43:04,"@sasanknvs please fill out the section that reports the OpenFGA version you are running with. Without that it's going to be hard to reliably reproduce.

Also, could you share the gRPC request you are making? I see you reported a JSON model. I would expect to see a `grpcurl` or similar request body. We'll need that to reproduce."
1223,jon-whit,2023-12-11 16:46:57,"@Nizio-Dev we're looking at improvements we'd like to introduce in a new major API version of OpenFGA. Part of those changes will likely include a Delete with filter endpoint where you can delete any tuples matching an arbitrary filter on any of the fields provided. I believe this would help you meet your ideal goals.

We're aware of our current API short-comings and have some roadmap plans to address them."
1216,jon-whit,2023-12-11 16:48:15,"What's wrong with the server panic'ing in this case? That was intentional, not a bug. It's not an uncommon pattern to panic if server pre-requisite dependencies are not met."
1228,codecov[bot],2023-12-11 18:46:51,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1228?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0cb4d99`)](https://app.codecov.io/gh/openfga/openfga/commit/0cb4d99f855aba0f61cffc04d7794c60a02bbea8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23% compared to head [(`18f6dde`)](https://app.codecov.io/gh/openfga/openfga/pull/1228?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.21%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1228      +/-   ##
==========================================
- Coverage   82.23%   82.21%   -0.02%     
==========================================
  Files          83       83              
  Lines        9557     9557              
==========================================
- Hits         7858     7856       -2     
- Misses       1344     1346       +2     
  Partials      355      355              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1228?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1223,zgrose,2023-12-11 19:05:26,"+1
An API version of the Tuple Management screen in the Dashboard UI would be very handy and I think would handle the OP and my own use-case (drop all tuples with `user:bob` regardless of object or relation)."
1229,codecov[bot],2023-12-11 19:21:27,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1229?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`eca56d2`)](https://app.codecov.io/gh/openfga/openfga/commit/eca56d26cca39d31ec947e79dd851cdd373e1b52?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.24% compared to head [(`fcdf51e`)](https://app.codecov.io/gh/openfga/openfga/pull/1229?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1229      +/-   ##
==========================================
- Coverage   82.24%   82.23%   -0.01%     
==========================================
  Files          83       83              
  Lines        9557     9557              
==========================================
- Hits         7859     7858       -1     
  Misses       1344     1344              
- Partials      354      355       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1229?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1226,codecov[bot],2023-12-11 19:52:08,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1226?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`53a2c72`)](https://app.codecov.io/gh/openfga/openfga/commit/53a2c7270421dc9f7b3925d3b272c88e9f569d50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.25% compared to head [(`9ab6a5e`)](https://app.codecov.io/gh/openfga/openfga/pull/1226?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.23%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1226      +/-   ##
==========================================
- Coverage   82.25%   82.23%   -0.02%     
==========================================
  Files          83       83              
  Lines        9567     9567              
==========================================
- Hits         7868     7866       -2     
- Misses       1344     1346       +2     
  Partials      355      355              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1226?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1227,jon-whit,2023-12-11 21:48:28,@dependabot rebase
1227,codecov[bot],2023-12-11 21:54:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1227?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`3622f71`)](https://app.codecov.io/gh/openfga/openfga/commit/3622f716da2550a956572f662dc7d3abc1f531fc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.33% compared to head [(`56d7918`)](https://app.codecov.io/gh/openfga/openfga/pull/1227?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.24%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1227      +/-   ##
==========================================
- Coverage   82.33%   82.24%   -0.09%     
==========================================
  Files          83       83              
  Lines        9557     9557              
==========================================
- Hits         7868     7859       -9     
- Misses       1338     1344       +6     
- Partials      351      354       +3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1227?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1230,codecov[bot],2023-12-12 01:35:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `7 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`e69d1c4`)](https://app.codecov.io/gh/openfga/openfga/commit/e69d1c44777869486fde122fedeedb5e1fe4fe2c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.31% compared to head [(`38f1e21`)](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.34%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | 81.09% | [7 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1230      +/-   ##
==========================================
+ Coverage   82.31%   82.34%   +0.04%     
==========================================
  Files          83       83              
  Lines        9567     9584      +17     
==========================================
+ Hits         7874     7891      +17     
  Misses       1340     1340              
  Partials      353      353              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1230?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1174,github-actions[bot],2023-12-12 01:50:47,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1224,sasanknvs,2023-12-12 12:12:57,"> @sasanknvs please fill out the section that reports the OpenFGA version you are running with. Without that it's going to be hard to reliably reproduce.
> 
> Also, could you share the gRPC request you are making? I see you reported a JSON model. I would expect to see a `grpcurl` or similar request body. We'll need that to reproduce. 

I understood the problem. I am using the authorization model in json format from Openfga documentation and using it as a grpc message body. That's why I am seeing the issue. Ideally I should use that json only with Rest endpoint. 

Can you let me to know if there is any sdk/client available if I want to communicate with openfga's  grpc endpoint ?"
1224,jon-whit,2023-12-12 22:37:33,"@sasanknvs our SDKs do not currently support the gRPC endpoint(s). We have gRPC client support in our SDKs in the roadmap. However, the gRPC server of OpenFGA supports the [gRPC reflection protocol](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) and various tools like Postman support gRPC and can use the reflection endpoint to generate sample requests.

<img width=""1361"" alt=""image"" src=""https://github.com/openfga/openfga/assets/5374887/0dfb5b21-29ae-40fa-8e8e-97119992b8b3"">


https://learning.postman.com/docs/sending-requests/grpc/grpc-request-interface/ for example"
946,github-actions[bot],2023-12-13 01:51:04,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
945,github-actions[bot],2023-12-13 01:51:06,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
942,github-actions[bot],2023-12-13 01:51:08,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
935,github-actions[bot],2023-12-13 01:51:10,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1231,codecov[bot],2023-12-13 06:00:36,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1231?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f495620`)](https://app.codecov.io/gh/openfga/openfga/commit/f4956204f0b2d5bef23fe96748bec0d4bfef35de?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`1d267b8`)](https://app.codecov.io/gh/openfga/openfga/pull/1231?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.49%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1231      +/-   ##
==========================================
+ Coverage   82.42%   82.49%   +0.08%     
==========================================
  Files          83       83              
  Lines        9591     9625      +34     
==========================================
+ Hits         7904     7939      +35     
  Misses       1335     1335              
+ Partials      352      351       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1231?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1001,UncleFirefox,2023-12-13 15:54:50,"Hi, yeah, that could work locally, what I'm interested in is the following:

I'm facing a challenge with OpenFGA in our cloud infrastructure. The current configuration setup, using OPENFGA_HTTP_ADDR for both binding and advertising the address in the UI, is causing issues in our environment.

In our cloud setup, the pod lacks a public address and isn't aware of its domain name. This creates difficulties when binding to an address that should be advertised to the UI.

I'm seeking your insights on proposing two separate fields: OPENFGA_SERVER_ADDR for binding and OPENFGA_UI_ADDR for UI advertising.

What do you think? That could help being able to deploy inside our infra. As our production openfga setup and tuples get more and more complicated, the help of playground would be really appreciated.

Thank you!

Regards,

Albert"
933,github-actions[bot],2023-12-14 01:50:18,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
930,github-actions[bot],2023-12-14 01:50:19,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
925,github-actions[bot],2023-12-14 01:50:21,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1233,codecov[bot],2023-12-14 02:14:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1233?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`2290612`)](https://app.codecov.io/gh/openfga/openfga/commit/229061227684238ee9fa2c1c43d599cdda6e534a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.29% compared to head [(`1fa88fe`)](https://app.codecov.io/gh/openfga/openfga/pull/1233?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.28%.

> :exclamation: Current head 1fa88fe differs from pull request most recent head a821706. Consider uploading reports for the commit a821706 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1233      +/-   ##
==========================================
- Coverage   82.29%   82.28%   -0.00%     
==========================================
  Files          83       83              
  Lines        9584     9587       +3     
==========================================
+ Hits         7886     7888       +2     
  Misses       1344     1344              
- Partials      354      355       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1233?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1154,aaronschweig,2023-12-14 17:45:22,"Hello @miparnisari,

After investigating a lot we found out that there were significant networking delays caused by our infrastructure. After getting them out of the way we could see a satisfying performance!

Thanks you so much for you help with drilling down to an issue (that was on our end afterall)!"
1234,codecov[bot],2023-12-14 21:52:47,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1234?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0573db8`)](https://app.codecov.io/gh/openfga/openfga/commit/0573db8605d8ca025a320c4c0ad29dba6309ef5a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26% compared to head [(`a2728c0`)](https://app.codecov.io/gh/openfga/openfga/pull/1234?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.26%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1234   +/-   ##
=======================================
  Coverage   82.26%   82.26%           
=======================================
  Files          83       83           
  Lines        9587     9587           
=======================================
  Hits         7886     7886           
  Misses       1346     1346           
  Partials      355      355           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1234?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1235,codecov[bot],2023-12-14 22:30:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1235?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`073c82f`)](https://app.codecov.io/gh/openfga/openfga/commit/073c82f6778f96ecb8e1ea25a8b810b2c5224620?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.32% compared to head [(`dae50aa`)](https://app.codecov.io/gh/openfga/openfga/pull/1235?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1235      +/-   ##
==========================================
+ Coverage   82.32%   82.37%   +0.06%     
==========================================
  Files          83       83              
  Lines        9588     9599      +11     
==========================================
+ Hits         7892     7906      +14     
+ Misses       1343     1341       -2     
+ Partials      353      352       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1235?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1236,codecov[bot],2023-12-14 22:56:30,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `1 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`d706e2c`)](https://app.codecov.io/gh/openfga/openfga/commit/d706e2ce1b4202b314e346a74f1c0c03e1e2c45f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.28% compared to head [(`7fd051a`)](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.43%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/middleware/logging/logging.go](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL21pZGRsZXdhcmUvbG9nZ2luZy9sb2dnaW5nLmdv) | 90.91% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1236      +/-   ##
==========================================
+ Coverage   82.28%   82.43%   +0.15%     
==========================================
  Files          83       83              
  Lines        9587     9588       +1     
==========================================
+ Hits         7888     7903      +15     
+ Misses       1344     1335       -9     
+ Partials      355      350       -5     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1236?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
918,github-actions[bot],2023-12-15 01:50:54,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1237,codecov[bot],2023-12-15 17:30:19,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1237?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`68dfc32`)](https://app.codecov.io/gh/openfga/openfga/commit/68dfc32b7d8a7bd122dc006be46e4f2f4c2fee58?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.70% compared to head [(`76bf23e`)](https://app.codecov.io/gh/openfga/openfga/pull/1237?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.67%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1237      +/-   ##
==========================================
- Coverage   82.70%   82.67%   -0.02%     
==========================================
  Files          84       84              
  Lines        9746     9749       +3     
==========================================
  Hits         8059     8059              
- Misses       1332     1334       +2     
- Partials      355      356       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1237?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1239,codecov[bot],2023-12-15 18:29:41,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `3 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`92324d8`)](https://app.codecov.io/gh/openfga/openfga/commit/92324d8872c24c40f1acf75e159c649ff0a39a9f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.64% compared to head [(`0d0dba1`)](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.64%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/graph/check.go](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvZ3JhcGgvY2hlY2suZ28=) | 76.93% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1239      +/-   ##
==========================================
+ Coverage   82.64%   82.64%   +0.01%     
==========================================
  Files          84       84              
  Lines        9736     9746      +10     
==========================================
+ Hits         8045     8054       +9     
- Misses       1334     1336       +2     
+ Partials      357      356       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1239?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
989,github-actions[bot],2023-12-16 01:50:06,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
913,github-actions[bot],2023-12-16 01:50:12,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
870,github-actions[bot],2023-12-16 01:50:14,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1240,codecov[bot],2023-12-16 02:34:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1240?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`9e1f536`)](https://app.codecov.io/gh/openfga/openfga/commit/9e1f5366ca9ba672f11528c016f3e60a3b997a45?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`32c47e1`)](https://app.codecov.io/gh/openfga/openfga/pull/1240?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.54%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1240      +/-   ##
==========================================
+ Coverage   82.39%   82.54%   +0.16%     
==========================================
  Files          83       83              
  Lines        9599     9591       -8     
==========================================
+ Hits         7908     7916       +8     
+ Misses       1339     1327      -12     
+ Partials      352      348       -4     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1240?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1241,codecov[bot],2023-12-16 06:12:22,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1241?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`4cc5c27`)](https://app.codecov.io/gh/openfga/openfga/commit/4cc5c2755614f9b0497db5fa4f850de75d2d6998?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52% compared to head [(`a3c7ea1`)](https://app.codecov.io/gh/openfga/openfga/pull/1241?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.65%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1241      +/-   ##
==========================================
+ Coverage   82.52%   82.65%   +0.14%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
+ Hits         7959     7972      +13     
+ Misses       1335     1323      -12     
+ Partials      352      351       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1241?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
827,github-actions[bot],2023-12-17 01:51:35,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
810,github-actions[bot],2023-12-18 01:50:44,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1242,linux-foundation-easycla[bot],2023-12-18 18:29:41,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: willvedd / name: Will Vedder  (9be41347481cd80baf9267356d81b22e623a1d05, 6430149d3266ef10f7f4289615d2fe48b3a77d43, 6d528993071f9734415aa14c9ce7b520d5a04bdc, 04bdf1c47cf6e4465b6a0054330aa74210ded577, e1557ae26d51645abd6106baa4f86951a3bff3fc, e1b84249b0d9b225336426f48bc59f7d14232aae, afc7479a21f5db89fa6ef89f62c6d52adbced818, ad5c55fc06a0d5533e1d3cc3c3e90f441ebe7505, 7cf49e20b92e4d569142ad5f11099602d572efc8, cce13feb805d50bad9b8d93333e561d5c00dccc7)</li><li>:white_check_mark: login: miparnisari / name: Maria Ines Parnisari  (58c9802ad92afdc52720bc04680ae95024f51469)</li></ul>"
1242,codecov[bot],2023-12-18 18:33:48,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1242?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`cfa2b13`)](https://app.codecov.io/gh/openfga/openfga/commit/cfa2b13611f7509d2d58f51bdff3382aee991585?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50% compared to head [(`58c9802`)](https://app.codecov.io/gh/openfga/openfga/pull/1242?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.53%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1242      +/-   ##
==========================================
+ Coverage   82.50%   82.53%   +0.04%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
+ Hits         7957     7960       +3     
+ Misses       1337     1335       -2     
+ Partials      352      351       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1242?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1244,codecov[bot],2023-12-18 18:57:11,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1244?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0b34068`)](https://app.codecov.io/gh/openfga/openfga/commit/0b3406841d4d8a6513f563d699b21cbc8fa6eb0e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.38% compared to head [(`8b6b92e`)](https://app.codecov.io/gh/openfga/openfga/pull/1244?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1244      +/-   ##
==========================================
- Coverage   82.38%   82.36%   -0.02%     
==========================================
  Files          83       83              
  Lines        9591     9591              
==========================================
- Hits         7901     7899       -2     
- Misses       1337     1339       +2     
  Partials      353      353              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1244?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1246,codecov[bot],2023-12-18 19:03:27,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `6 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`5e3b35b`)](https://app.codecov.io/gh/openfga/openfga/commit/5e3b35ba73019899d6532438b000c6373ddcd6ef?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`a5b7bd0`)](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.37%.
> Report is 62 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | 75.00% | [4 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/typesystem/resolver.go](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vcmVzb2x2ZXIuZ28=) | 96.16% | [2 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1246      +/-   ##
==========================================
- Coverage   82.42%   82.37%   -0.04%     
==========================================
  Files          83       82       -1     
  Lines        9591     9599       +8     
==========================================
+ Hits         7904     7906       +2     
- Misses       1336     1341       +5     
- Partials      351      352       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1246?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1245,codecov[bot],2023-12-18 22:31:14,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1245?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`5e3b35b`)](https://app.codecov.io/gh/openfga/openfga/commit/5e3b35ba73019899d6532438b000c6373ddcd6ef?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`42d5a61`)](https://app.codecov.io/gh/openfga/openfga/pull/1245?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1245   +/-   ##
=======================================
  Coverage   82.42%   82.42%           
=======================================
  Files          83       83           
  Lines        9591     9591           
=======================================
  Hits         7904     7904           
+ Misses       1336     1335    -1     
- Partials      351      352    +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1245?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1244,jon-whit,2023-12-18 22:50:25,@dependabot rebase
1247,codecov[bot],2023-12-18 22:54:35,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1247?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`8b8af4d`)](https://app.codecov.io/gh/openfga/openfga/commit/8b8af4de8df79f08fda402f7ee341b27fe49995d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.39% compared to head [(`a9bb6b5`)](https://app.codecov.io/gh/openfga/openfga/pull/1247?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.49%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1247      +/-   ##
==========================================
+ Coverage   82.39%   82.49%   +0.10%     
==========================================
  Files          83       83              
  Lines        9591     9591              
==========================================
+ Hits         7902     7911       +9     
+ Misses       1337     1331       -6     
+ Partials      352      349       -3     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1247?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1248,codecov[bot],2023-12-18 23:38:16,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1248?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`304af16`)](https://app.codecov.io/gh/openfga/openfga/commit/304af162866bc51cc561071c4f0668188b9492bb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.55% compared to head [(`770f534`)](https://app.codecov.io/gh/openfga/openfga/pull/1248?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.56%.

> :exclamation: Current head 770f534 differs from pull request most recent head d91a4c7. Consider uploading reports for the commit d91a4c7 to get more accurate results


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1248      +/-   ##
==========================================
+ Coverage   82.55%   82.56%   +0.01%     
==========================================
  Files          83       84       +1     
  Lines        9644     9691      +47     
==========================================
+ Hits         7961     8000      +39     
- Misses       1330     1338       +8     
  Partials      353      353              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1248?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1247,jon-whit,2023-12-18 23:40:18,@dependabot rebase
1194,github-actions[bot],2023-12-19 01:50:44,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1193,github-actions[bot],2023-12-19 01:50:46,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1173,github-actions[bot],2023-12-19 01:50:51,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1249,Aslanzoghi,2023-12-19 07:45:47,"my Bad I wasn't following MYSQL steps correctly 
"
1243,codecov[bot],2023-12-19 16:37:51,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1243?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`f495620`)](https://app.codecov.io/gh/openfga/openfga/commit/f4956204f0b2d5bef23fe96748bec0d4bfef35de?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.42% compared to head [(`d3da2a8`)](https://app.codecov.io/gh/openfga/openfga/pull/1243?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.36%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1243      +/-   ##
==========================================
- Coverage   82.42%   82.36%   -0.05%     
==========================================
  Files          83       83              
  Lines        9591     9591              
==========================================
- Hits         7904     7899       -5     
- Misses       1335     1339       +4     
- Partials      352      353       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1243?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1224,miparnisari,2023-12-19 18:18:31,@sasanknvs I'm going to close this. Feel free to open a new issue if you have more questions 👍 
1250,codecov[bot],2023-12-19 19:18:33,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1250?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`164963f`)](https://app.codecov.io/gh/openfga/openfga/commit/164963facc61241e1378d8fefb6632c700407163?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52% compared to head [(`7dfd4ee`)](https://app.codecov.io/gh/openfga/openfga/pull/1250?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52%.


<details><summary>Additional details and impacted files</summary>


```diff
@@           Coverage Diff           @@
##             main    #1250   +/-   ##
=======================================
  Coverage   82.52%   82.52%           
=======================================
  Files          83       83           
  Lines        9646     9646           
=======================================
  Hits         7959     7959           
  Misses       1335     1335           
  Partials      352      352           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1250?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1251,codecov[bot],2023-12-19 22:18:43,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1251?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`5cab5b0`)](https://app.codecov.io/gh/openfga/openfga/commit/5cab5b0cbb1c7bc99cb8e414f65f92ee8fc2a07a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.51% compared to head [(`2b8ba71`)](https://app.codecov.io/gh/openfga/openfga/pull/1251?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1251      +/-   ##
==========================================
+ Coverage   82.51%   82.52%   +0.01%     
==========================================
  Files          83       83              
  Lines        9625     9646      +21     
==========================================
+ Hits         7941     7959      +18     
- Misses       1333     1335       +2     
- Partials      351      352       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1251?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
870,KlausVii,2023-12-19 23:10:35,@jon-whit has there been any movement on this? I'd still be happy finish the implementation if openfga is likely accept it
1206,github-actions[bot],2023-12-20 01:44:08,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1199,github-actions[bot],2023-12-20 01:44:09,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1098,github-actions[bot],2023-12-20 01:44:14,It appears this PR has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the PR. Please reach out if you need assistance or help to finish the work 👍🏼.
1253,linux-foundation-easycla[bot],2023-12-20 15:19:31,"<a href=""https://easycla.lfx.linuxfoundation.org/#/?version=2""><img src=""https://s3.amazonaws.com/cla-project-logo-prod/cla-signed.svg"" alt=""CLA Signed"" align=""left"" height=""28"" width=""328"" ></a><br/><br />The committers listed above are authorized under a signed CLA.<ul><li>:white_check_mark: login: sergiught / name: Sergiu Ghitea  (4d8bedf394aa76802512eae0b117d07e3f33dd71, 4b30ed5f4de18ed75afa7b46bb58932180d3de0b, 49ff1923243e49183885a9e8cff5259f1f579d26, a5a62752f973259a1beb28e3c08b14c8a5671993, 76b3b92252acf68ca0f785a64f05f7d5bb458fad)</li><li>:white_check_mark: login: rhamzeh / name: Raghd Hamzeh  (7032ff7d82f82ecab6e20b4334b8aaad6809324e)</li></ul>"
1254,codecov[bot],2023-12-20 16:01:05,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1254?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`cea8e82`)](https://app.codecov.io/gh/openfga/openfga/commit/cea8e82d7b0da0a0db1a81b8a3da4fc00f6692f9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.47% compared to head [(`c69d3c7`)](https://app.codecov.io/gh/openfga/openfga/pull/1254?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1254      +/-   ##
==========================================
- Coverage   82.47%   82.46%   -0.01%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
- Hits         7955     7954       -1     
  Misses       1339     1339              
- Partials      352      353       +1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1254?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1252,jon-whit,2023-12-20 20:19:20,"We haven’t fully dropped multi-row models in OpenFGA yet, and so that leaves this functionality a bit challenging since we can’t clearly distinguish between a model that exists but has 0 typedefs vs a model that does not physically exist.

With a single row model we can distinguish this, because if the row does not exist then the model does not exist, but with multi-row models it’s more nuanced.

We should finish the work to converge to single row models in OpenFGA before we go this route don’t you think?"
1024,miparnisari,2023-12-20 22:39:27,Let's merge this one first: https://github.com/openfga/openfga/pull/1199
1025,miparnisari,2023-12-21 00:22:54,"@jpadilla can we add in the scope of this work 

1. documentation in the storage interface
2. test [here](https://github.com/openfga/openfga/blob/164963facc61241e1378d8fefb6632c700407163/pkg/storage/test/authz_models.go#L45) 

that defines the behavior when someone tries to write a model with 0 types? should the write work or not? and if yes, what should ReadModel return?

IMO: `storage.WriteAuthModel` should work (the validation should happen in a layer above), and `storage.ReadAuthModel` should work too, it should return an empty model. And ReadAuthModels should return one item that will be an empty model."
1257,codecov[bot],2023-12-21 00:45:55,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1257?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`78422af`)](https://app.codecov.io/gh/openfga/openfga/commit/78422af76964abbfe524002a7dbf1f01e8ec8979?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.48% compared to head [(`a7b23f6`)](https://app.codecov.io/gh/openfga/openfga/pull/1257?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1257      +/-   ##
==========================================
+ Coverage   82.48%   82.50%   +0.02%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
+ Hits         7956     7957       +1     
  Misses       1337     1337              
+ Partials      353      352       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1257?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1255,miparnisari,2023-12-21 00:56:19,"Hi @kivo360! A couple of questions:

> I've been able to migrate the openfga tables

Can you expand on this? Did you run `openfga migrate` to create the tables from scratch, or did you copy existing stores & models from another environment?

> The problem is that I'm unable to list any stores

Do you get any errors or just empty responses?

"
1215,github-actions[bot],2023-12-21 01:50:14,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1188,github-actions[bot],2023-12-21 01:50:18,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1258,codecov[bot],2023-12-21 03:18:28,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `9 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`ad04038`)](https://app.codecov.io/gh/openfga/openfga/commit/ad04038afbd58890cb65b409780b0cbbf85d5103?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.73% compared to head [(`3f558ab`)](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.87%.
> Report is 21 commits behind head on main.

> :exclamation: Current head 3f558ab differs from pull request most recent head 57bc02a. Consider uploading reports for the commit 57bc02a to get more accurate results

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [internal/commands/read\_authzmodel\_or\_latest.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-aW50ZXJuYWwvY29tbWFuZHMvcmVhZF9hdXRoem1vZGVsX29yX2xhdGVzdC5nbw==) | 92.31% | [2 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/list\_objects.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9saXN0X29iamVjdHMuZ28=) | 87.50% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/storage/sqlcommon/sqlcommon.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3FsY29tbW9uL3NxbGNvbW1vbi5nbw==) | 50.00% | [2 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/commands/expand.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9jb21tYW5kcy9leHBhbmQuZ28=) | 75.00% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/server/server.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3NlcnZlci9zZXJ2ZXIuZ28=) | 96.78% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [pkg/storage/storagewrappers/combinedtuplereader.go](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2Uvc3RvcmFnZXdyYXBwZXJzL2NvbWJpbmVkdHVwbGVyZWFkZXIuZ28=) | 85.72% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1258      +/-   ##
==========================================
- Coverage   83.73%   82.87%   -0.85%     
==========================================
  Files          84       83       -1     
  Lines        9761     9598     -163     
==========================================
- Hits         8172     7953     -219     
- Misses       1235     1297      +62     
+ Partials      354      348       -6     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1258?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1261,codecov[bot],2023-12-21 16:20:58,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1261?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`6db6ec4`)](https://app.codecov.io/gh/openfga/openfga/commit/6db6ec4120a7180b1773a9127dfaa0758e3d1729?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46% compared to head [(`f0c99ba`)](https://app.codecov.io/gh/openfga/openfga/pull/1261?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1261      +/-   ##
==========================================
+ Coverage   82.46%   82.50%   +0.04%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
+ Hits         7954     7957       +3     
+ Misses       1339     1337       -2     
+ Partials      353      352       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1261?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1262,codecov[bot],2023-12-21 17:23:46,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1262?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`fa080db`)](https://app.codecov.io/gh/openfga/openfga/commit/fa080db300e37f775dff62317239a321a2079409?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.66% compared to head [(`c43dc2b`)](https://app.codecov.io/gh/openfga/openfga/pull/1262?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.70%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1262      +/-   ##
==========================================
+ Coverage   82.66%   82.70%   +0.04%     
==========================================
  Files          84       84              
  Lines        9746     9746              
==========================================
+ Hits         8056     8059       +3     
+ Misses       1334     1332       -2     
+ Partials      356      355       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1262?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1263,codecov[bot],2023-12-21 17:37:17,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1263?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`1081d60`)](https://app.codecov.io/gh/openfga/openfga/commit/1081d607c8f64150843cb37e142d034daa45f1c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.53% compared to head [(`b38d609`)](https://app.codecov.io/gh/openfga/openfga/pull/1263?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.46%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1263      +/-   ##
==========================================
- Coverage   82.53%   82.46%   -0.06%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
- Hits         7960     7954       -6     
- Misses       1335     1339       +4     
- Partials      351      353       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1263?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1264,codecov[bot],2023-12-21 17:39:53,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `1 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`c791a01`)](https://app.codecov.io/gh/openfga/openfga/commit/c791a019823c7e65080779d34c0de4942e9f3879?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.52% compared to head [(`eb474a1`)](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.50%.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/typesystem/typesystem.go](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3R5cGVzeXN0ZW0vdHlwZXN5c3RlbS5nbw==) | 90.00% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1264      +/-   ##
==========================================
- Coverage   82.52%   82.50%   -0.02%     
==========================================
  Files          83       83              
  Lines        9646     9646              
==========================================
- Hits         7959     7957       -2     
- Misses       1335     1337       +2     
  Partials      352      352              
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1264?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
951,miparnisari,2023-12-21 21:19:34,"This task should be relatively easy:

0. Modify the API to accept contextual tuples: https://github.com/openfga/api/blob/3037910c90c0083dc0ad4d2a1e3ef4d35549b732/openfga/v1/openfga_service.proto#L981
1. Inside `Expand.Execute` add validation that is similar to what we currently have in Check and ListObjects: 
- https://github.com/openfga/openfga/blob/164963facc61241e1378d8fefb6632c700407163/pkg/server/server.go#L591-L595
- https://github.com/openfga/openfga/blob/164963facc61241e1378d8fefb6632c700407163/pkg/server/commands/list_objects.go#L170-L174
2. Inside `Expand.Execute` https://github.com/openfga/openfga/blob/164963facc61241e1378d8fefb6632c700407163/pkg/server/commands/expand.go#L45 create a wrapper over the datastore using https://github.com/openfga/openfga/blob/164963facc61241e1378d8fefb6632c700407163/pkg/storage/storagewrappers/combinedtuplereader.go#L14-L16
3. Add a unit test file `expand_test.go`. 
   - Write test(s) that assert that we are validating contextual tuples.
   - Write test(s) that assert that a Expand request with _only_ contextual tuples works as expected.
5. Update documentation https://github.com/openfga/api/blob/3037910c90c0083dc0ad4d2a1e3ef4d35549b732/openfga/v1/openfga_service.proto#L250-L255"
1265,codecov[bot],2023-12-21 22:05:45,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
Attention: `68 lines` in your changes are missing coverage. Please review.
> Comparison is base [(`53deb4c`)](https://app.codecov.io/gh/openfga/openfga/commit/53deb4c165fbca3260b4342e714580d10a316dcf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.66% compared to head [(`8d5e2d7`)](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.83%.
> Report is 20 commits behind head on main.

| [Files](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) | Patch % | Lines |
|---|---|---|
| [pkg/storage/migrate/registry.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbWlncmF0ZS9yZWdpc3RyeS5nbw==) | 75.95% | [13 Missing and 6 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [.../storage/mysql/migrations/001\_initialize\_schema.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbWlncmF0aW9ucy8wMDFfaW5pdGlhbGl6ZV9zY2hlbWEuZ28=) | 76.32% | [17 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [...orage/postgres/migrations/001\_initialize\_schema.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvbWlncmF0aW9ucy8wMDFfaW5pdGlhbGl6ZV9zY2hlbWEuZ28=) | 76.93% | [17 Missing and 1 partial :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [...e/mysql/migrations/005\_add\_conditions\_to\_tuples.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvbXlzcWwvbWlncmF0aW9ucy8wMDVfYWRkX2NvbmRpdGlvbnNfdG9fdHVwbGVzLmdv) | 81.25% | [4 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [...ostgres/migrations/005\_add\_conditions\_to\_tuples.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-cGtnL3N0b3JhZ2UvcG9zdGdyZXMvbWlncmF0aW9ucy8wMDVfYWRkX2NvbmRpdGlvbnNfdG9fdHVwbGVzLmdv) | 81.25% | [4 Missing and 2 partials :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |
| [cmd/migrate/migrate.go](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga#diff-Y21kL21pZ3JhdGUvbWlncmF0ZS5nbw==) | 94.45% | [1 Missing :warning: ](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) |

<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1265      +/-   ##
==========================================
+ Coverage   82.66%   82.83%   +0.17%     
==========================================
  Files          84       96      +12     
  Lines        9745    10117     +372     
==========================================
+ Hits         8055     8379     +324     
- Misses       1335     1377      +42     
- Partials      355      361       +6     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1265?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1138,github-actions[bot],2023-12-22 01:49:49,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1132,github-actions[bot],2023-12-22 01:49:51,It appears this issue has been stale for at least 14 days 🗓️. If no action is taken the maintainer team may consider closing the issue. Please reach out if you need feedback or follow up actions from the maintainer team.
1155,rhamzeh,2023-12-22 03:37:12,"@miparnisari  can we add docuumentation in how to 
* specify the pg store
* override the default config
* preload the in mem store with data?"
1266,codecov[bot],2023-12-22 04:50:03,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1266?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`1f55b44`)](https://app.codecov.io/gh/openfga/openfga/commit/1f55b4425c55b8a510846b6fb7b45e75dabcec15?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.68% compared to head [(`e5ee009`)](https://app.codecov.io/gh/openfga/openfga/pull/1266?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.58%.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1266      +/-   ##
==========================================
- Coverage   82.68%   82.58%   -0.10%     
==========================================
  Files          83       83              
  Lines        9646     9640       -6     
==========================================
- Hits         7975     7960      -15     
- Misses       1321     1328       +7     
- Partials      350      352       +2     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1266?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
1267,codecov[bot],2023-12-22 06:19:32,"## [Codecov](https://app.codecov.io/gh/openfga/openfga/pull/1267?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Comparison is base [(`0590992`)](https://app.codecov.io/gh/openfga/openfga/commit/05909926d01e5f9919a5ba601b392f3ee7c26a5a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 82.67% compared to head [(`607e3c8`)](https://app.codecov.io/gh/openfga/openfga/pull/1267?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga) 83.73%.
> Report is 1 commits behind head on main.


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff             @@
##             main    #1267      +/-   ##
==========================================
+ Coverage   82.67%   83.73%   +1.07%     
==========================================
  Files          84       84              
  Lines        9764     9761       -3     
==========================================
+ Hits         8071     8172     +101     
+ Misses       1338     1235     -103     
+ Partials      355      354       -1     
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/openfga/openfga/pull/1267?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=openfga).
"
